(arangodb_query (data_query (data_access_query (for_op (for_in FOR (id_ u) IN (expr (literal (id_ users)))) (collect COLLECT (expr (expr (expr (literal (id_ country))) = (expr (expr (literal (id_ u))) . (expr (literal (id_ country))))) , (expr (expr (literal (id_ city))) = (expr (expr (literal (id_ u))) . (expr (literal (id_ city)))))) INTO (expr (expr (literal (id_ groups))) = (expr (literal (object_literal { (pair_list (pair (string "name") : (expr (expr (literal (id_ u))) . (expr (literal (id_ name))))) , (pair (string "isActive") : (expr (expr (expr (literal (id_ u))) . (expr (literal (id_ status)))) == (expr (literal (string "active")))))) })))))) (return_expr RETURN (expr (literal (object_literal { (pair_list (pair (string "country") : (expr (literal (id_ country)))) , (pair (string "city") : (expr (literal (id_ city)))) , (pair (string "usersInCity") : (expr (literal (id_ groups))))) })))))) <EOF>)