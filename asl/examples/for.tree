(asl (statement (simple_statement (relationship_navigation (set_variable { (variable plans) }) = this -> (relationship_spec R1023))) \n) (statement (sequential_logic_statement (for_loop for (variable a_plan) in (set_variable { (variable plans) }) do \n (statement (simple_statement (event_generation (internal_event_generation %generate (event_specification METSSP1 : Plan_Active) ( ) ; to (variable a_plan)))) \n) endfor)) \n\n) (statement (simple_statement (relationship_navigation (set_variable { (variable plan_detectors) }) = this -> (relationship_spec R1234))) \n) (statement (sequential_logic_statement (for_loop for (variable a_detector) in (set_variable { (variable plan_detectors) }) do \n (statement (sequential_logic_statement (if_statement if (logical_condition (compound_logical_condition (simple_logical_condition (component (object_attribute (variable plan) . (attribute Status))) (logical_operator (equality_operator !=)) (component (constant (enum_value WAITING_STATUS)))))) then \n (statement (simple_statement (relationship_navigation (variable report) = (variable a_detector) -> (relationship_spec R1077))) \n) (statement (simple_statement (event_generation (internal_event_generation %generate (event_specification METSREP3 : Update_Request) ( ) ; to (variable report)))) \n) endif)) \n) endfor)) \n\n) (statement (simple_statement (relationship_navigation (set_variable { (variable setting_changes) }) = (variable plan) -> (relationship_spec R1046) ordered by (attribute Created))) \n) (statement (sequential_logic_statement (for_loop for (variable a_change) in (set_variable { (variable setting_changes) }) do \n (statement (simple_statement (assignment_statement (object_attribute_assignment (variable change_type) = (object_attribute (variable a_change) . (attribute Type))))) \n) (statement (simple_statement (relationship_unlink unlink (variable plan) (relationship_spec R1046) (variable a_change))) \n) (statement (simple_statement (event_generation (internal_event_generation %generate (event_specification METSSC2 : Change_Processed) ( ) ; to (variable a_change)))) \n) (break_statement breakif (logical_condition (compound_logical_condition (simple_logical_condition (component (object_attribute (variable a_change) . (attribute Created))) (logical_operator >) (component (object_attribute this . (attribute Last_update_time)))))) \n) endfor)) \n\n) (statement (simple_statement (relationship_navigation (set_variable { (variable updates) }) = this -> (relationship_spec R1046) ordered by (attribute Created))) \n) (statement (sequential_logic_statement (for_loop for (variable an_update) in (set_variable { (variable updates) }) do \n (statement (simple_statement (relationship_unlink unlink this (relationship_spec R1046) (variable update))) \n) (statement (simple_statement (relationship_link link this (relationship_spec R1045) (variable update))) \n) (statement (simple_statement (event_generation (internal_event_generation %generate (event_specification METSU2 : Update_Scheduled) ( ) ; to (variable an_update)))) \n) (break_statement break \n) endfor)) \n\n) <EOF>)