prog
 declaration
  createdecl
   @create
   sysname
    $
    feature
   called
   expressionlist
    expression
     term
      factor
       signedAtom
        atom
         stringliteral
          "Drone"
 declaration
  propertydecl
   @property
   property_
    propertyname
     name
      username
       Drone
    .
    name
     username
      target_parent
   expression
    term
     factor
      signedAtom
       atom
        objref
         #56953
   permissions
    rc
 declaration
  propertydecl
   @property
   property_
    propertyname
     name
      username
       Drone
    .
    name
     username
      destinations
   expression
    term
     factor
      signedAtom
       atom
        list_
         {
         expressionlist
          expression
           term
            factor
             signedAtom
              atom
               objref
                #78071
         }
   permissions
    rc
 declaration
  propertydecl
   @property
   property_
    propertyname
     name
      username
       Drone
    .
    name
     username
      messages
   expression
    term
     factor
      signedAtom
       atom
        list_
         {
         expressionlist
          expression
           term
            factor
             signedAtom
              atom
               stringliteral
                "An unexpected drone strike hits %targets."
         }
   permissions
    rc
 declaration
  verbdecl
   @verb
   verbname
    name
     username
      Drone
   :
   name
    username
     destination
   name
    username
     tnt
   permissions
    rxd
 declaration
  programdecl
   @program
   programname
    name
     username
      Drone
   :
   name
    username
     destination
   statement
    command
     returncommand
      return
      expression
       term
        factor
         signedAtom
          atom
           property_
            propertyname
             name
              username
               this
            .
            name
             username
              destinations
            [
            expression
             term
              factor
               signedAtom
                atom
                 functioninvocation
                  name
                   username
                    random
                  (
                  expressionlist
                   expression
                    term
                     factor
                      signedAtom
                       atom
                        property_
                         propertyname
                          name
                           sysname
                            $
                  )
            ]
    ;
   .
 declaration
  verbdecl
   @verb
   verbname
    name
     username
      Drone
   :
   name
    username
     message
   name
    username
     tnt
   permissions
    rxd
 declaration
  programdecl
   @program
   programname
    name
     username
      Drone
   :
   name
    username
     message
   statement
    command
     returncommand
      return
      expression
       term
        factor
         signedAtom
          atom
           property_
            propertyname
             name
              username
               this
            .
            name
             username
              messages
            [
            expression
             term
              factor
               signedAtom
                atom
                 functioninvocation
                  name
                   username
                    random
                  (
                  expressionlist
                   expression
                    term
                     factor
                      signedAtom
                       atom
                        property_
                         propertyname
                          name
                           sysname
                            $
                  )
            ]
    ;
   .
 declaration
  verbdecl
   @verb
   verbname
    name
     username
      Drone
   :
   name
    username
     targets_in_room
   name
    username
     tnt
   permissions
    rxd
 declaration
  programdecl
   @program
   programname
    name
     username
      Drone
   :
   name
    username
     targets_in_room
   statement
    assignblock
     property_
      propertyname
       name
        username
         targets
     =
     expression
      term
       factor
        signedAtom
         atom
          list_
           {
           }
     ;
   statement
    forblock
     for
     name
      username
       candidate
     in
     expression
      term
       factor
        signedAtom
         atom
          (
          expression
           term
            factor
             signedAtom
              atom
               property_
                propertyname
                 name
                  username
                   player
                .
                name
                 username
                  location
                .
                name
                 username
                  contents
          )
     statement
      ifblock
       if
       condition
        (
        expression
         term
          factor
           signedAtom
            atom
             functioninvocation
              name
               username
                parent
              (
              expressionlist
               expression
                term
                 factor
                  signedAtom
                   atom
                    property_
                     propertyname
                      name
                       username
                        candidate
              )
        relop
         ==
        expression
         term
          factor
           signedAtom
            atom
             property_
              propertyname
               name
                username
                 this
              .
              name
               username
                target_parent
        )
       statement
        assignblock
         property_
          propertyname
           name
            username
             targets
         =
         expression
          term
           factor
            signedAtom
             atom
              functioninvocation
               name
                username
                 listappend
               (
               expressionlist
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         targets
                ,
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         candidate
               )
         ;
       endif
     endfor
   statement
    command
     returncommand
      return
      expression
       term
        factor
         signedAtom
          atom
           property_
            propertyname
             name
              username
               targets
    ;
   .
 declaration
  verbdecl
   @verb
   verbname
    name
     username
      Drone
   :
   name
    username
     strike
   name
    username
     any
   name
    username
     any
   name
    username
     any
   permissions
    rxd
 declaration
  programdecl
   @program
   programname
    name
     username
      Drone
   :
   name
    username
     strike
   statement
    assignblock
     property_
      propertyname
       name
        username
         targets
     =
     expression
      term
       factor
        signedAtom
         atom
          verbinvocation
           property_
            propertyname
             name
              username
               this
           :
           verb
            name
             username
              targets_in_room
            (
            )
     ;
   statement
    ifblock
     if
     condition
      (
      expression
       term
        factor
         signedAtom
          atom
           property_
            propertyname
             name
              username
               targets
      )
     statement
      assignblock
       property_
        propertyname
         name
          username
           place
       =
       expression
        term
         factor
          signedAtom
           atom
            verbinvocation
             property_
              propertyname
               name
                username
                 this
             :
             verb
              name
               username
                destination
              (
              )
       ;
     statement
      assignblock
       property_
        propertyname
         name
          username
           names
       =
       expression
        term
         factor
          signedAtom
           atom
            list_
             {
             }
       ;
     statement
      forblock
       for
       name
        username
         target
       in
       expression
        term
         factor
          signedAtom
           atom
            (
            expression
             term
              factor
               signedAtom
                atom
                 property_
                  propertyname
                   name
                    username
                     targets
            )
       statement
        assignblock
         property_
          propertyname
           name
            username
             names
         =
         expression
          term
           factor
            signedAtom
             atom
              functioninvocation
               name
                username
                 listappend
               (
               expressionlist
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         names
                ,
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         target
                      .
                      name
                       username
                        name
               )
         ;
       statement
        command
         verbinvocation
          property_
           propertyname
            name
             username
              target
          :
          verb
           name
            username
             moveto
           (
           expressionlist
            expression
             term
              factor
               signedAtom
                atom
                 property_
                  propertyname
                   name
                    username
                     place
           )
        ;
       endfor
     statement
      assignblock
       property_
        propertyname
         name
          username
           substitutions
       =
       expression
        term
         factor
          signedAtom
           atom
            list_
             {
             expressionlist
              expression
               term
                factor
                 signedAtom
                  atom
                   list_
                    {
                    expressionlist
                     expression
                      term
                       factor
                        signedAtom
                         atom
                          stringliteral
                           "%targets"
                     ,
                     expression
                      term
                       factor
                        signedAtom
                         atom
                          verbinvocation
                           property_
                            propertyname
                             name
                              sysname
                               $
                               string_utils
                           :
                           verb
                            name
                             username
                              english_list
                            (
                            expressionlist
                             expression
                              term
                               factor
                                signedAtom
                                 atom
                                  property_
                                   propertyname
                                    name
                                     username
                                      names
                            )
                    }
             }
       ;
     statement
      assignblock
       property_
        propertyname
         name
          username
           announcement
       =
       expression
        term
         factor
          signedAtom
           atom
            verbinvocation
             property_
              propertyname
               name
                sysname
                 $
                 string_utils
             :
             verb
              name
               username
                substitute
              (
              expressionlist
               expression
                term
                 factor
                  signedAtom
                   atom
                    verbinvocation
                     property_
                      propertyname
                       name
                        username
                         this
                     :
                     verb
                      name
                       username
                        message
                      (
                      )
               ,
               expression
                term
                 factor
                  signedAtom
                   atom
                    property_
                     propertyname
                      name
                       username
                        substitutions
              )
       ;
     statement
      command
       verbinvocation
        property_
         propertyname
          name
           username
            player
         .
         name
          username
           location
        :
        verb
         name
          username
           announce_all
         (
         expressionlist
          expression
           term
            factor
             signedAtom
              atom
               property_
                propertyname
                 name
                  username
                   announcement
         )
      ;
     endif
     ;
   .
 <EOF>
