prog
 declaration
  programdecl
   @program
   programname
    name
     username
      Drone
   :
   name
    username
     targets_in_room
   statement
    assignblock
     property_
      propertyname
       name
        username
         targets
     =
     expression
      term
       factor
        signedAtom
         atom
          list_
           {
           }
     ;
   statement
    forblock
     for
     name
      username
       candidate
     in
     expression
      term
       factor
        signedAtom
         atom
          (
          expression
           term
            factor
             signedAtom
              atom
               property_
                propertyname
                 name
                  username
                   player
                .
                name
                 username
                  location
                .
                name
                 username
                  contents
          )
     statement
      ifblock
       if
       condition
        (
        expression
         term
          factor
           signedAtom
            atom
             functioninvocation
              name
               username
                parent
              (
              expressionlist
               expression
                term
                 factor
                  signedAtom
                   atom
                    property_
                     propertyname
                      name
                       username
                        candidate
              )
        relop
         ==
        expression
         term
          factor
           signedAtom
            atom
             property_
              propertyname
               name
                username
                 this
              .
              name
               username
                target_parent
        )
       statement
        assignblock
         property_
          propertyname
           name
            username
             targets
         =
         expression
          term
           factor
            signedAtom
             atom
              functioninvocation
               name
                username
                 listappend
               (
               expressionlist
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         targets
                ,
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         candidate
               )
         ;
       endif
     endfor
   statement
    command
     returncommand
      return
      expression
       term
        factor
         signedAtom
          atom
           property_
            propertyname
             name
              username
               targets
    ;
   .
 <EOF>
