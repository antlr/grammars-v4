prog
 declaration
  programdecl
   @program
   programname
    name
     username
      Drone
   :
   name
    username
     strike
   statement
    assignblock
     property_
      propertyname
       name
        username
         targets
     =
     expression
      term
       factor
        signedAtom
         atom
          verbinvocation
           property_
            propertyname
             name
              username
               this
           :
           verb
            name
             username
              targets_in_room
            (
            )
     ;
   statement
    ifblock
     if
     condition
      (
      expression
       term
        factor
         signedAtom
          atom
           property_
            propertyname
             name
              username
               targets
      )
     statement
      assignblock
       property_
        propertyname
         name
          username
           place
       =
       expression
        term
         factor
          signedAtom
           atom
            verbinvocation
             property_
              propertyname
               name
                username
                 this
             :
             verb
              name
               username
                destination
              (
              )
       ;
     statement
      assignblock
       property_
        propertyname
         name
          username
           names
       =
       expression
        term
         factor
          signedAtom
           atom
            list_
             {
             }
       ;
     statement
      forblock
       for
       name
        username
         target
       in
       expression
        term
         factor
          signedAtom
           atom
            (
            expression
             term
              factor
               signedAtom
                atom
                 property_
                  propertyname
                   name
                    username
                     targets
            )
       statement
        assignblock
         property_
          propertyname
           name
            username
             names
         =
         expression
          term
           factor
            signedAtom
             atom
              functioninvocation
               name
                username
                 listappend
               (
               expressionlist
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         names
                ,
                expression
                 term
                  factor
                   signedAtom
                    atom
                     property_
                      propertyname
                       name
                        username
                         target
                      .
                      name
                       username
                        name
               )
         ;
       statement
        command
         verbinvocation
          property_
           propertyname
            name
             username
              target
          :
          verb
           name
            username
             moveto
           (
           expressionlist
            expression
             term
              factor
               signedAtom
                atom
                 property_
                  propertyname
                   name
                    username
                     place
           )
        ;
       endfor
     statement
      assignblock
       property_
        propertyname
         name
          username
           substitutions
       =
       expression
        term
         factor
          signedAtom
           atom
            list_
             {
             expressionlist
              expression
               term
                factor
                 signedAtom
                  atom
                   list_
                    {
                    expressionlist
                     expression
                      term
                       factor
                        signedAtom
                         atom
                          stringliteral
                           "%targets"
                     ,
                     expression
                      term
                       factor
                        signedAtom
                         atom
                          verbinvocation
                           property_
                            propertyname
                             name
                              sysname
                               $
                               string_utils
                           :
                           verb
                            name
                             username
                              english_list
                            (
                            expressionlist
                             expression
                              term
                               factor
                                signedAtom
                                 atom
                                  property_
                                   propertyname
                                    name
                                     username
                                      names
                            )
                    }
             }
       ;
     statement
      assignblock
       property_
        propertyname
         name
          username
           announcement
       =
       expression
        term
         factor
          signedAtom
           atom
            verbinvocation
             property_
              propertyname
               name
                sysname
                 $
                 string_utils
             :
             verb
              name
               username
                substitute
              (
              expressionlist
               expression
                term
                 factor
                  signedAtom
                   atom
                    verbinvocation
                     property_
                      propertyname
                       name
                        username
                         this
                     :
                     verb
                      name
                       username
                        message
                      (
                      )
               ,
               expression
                term
                 factor
                  signedAtom
                   atom
                    property_
                     propertyname
                      name
                       username
                        substitutions
              )
       ;
     statement
      command
       verbinvocation
        property_
         propertyname
          name
           username
            player
         .
         name
          username
           location
        :
        verb
         name
          username
           announce_all
         (
         expressionlist
          expression
           term
            factor
             signedAtom
              atom
               property_
                propertyname
                 name
                  username
                   announcement
         )
      ;
     endif
     ;
   .
 <EOF>
