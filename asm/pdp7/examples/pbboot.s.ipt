prog
 line
  comment
   " paper tape bootstrap: reads system from track 180
 eol
  \n
 line
  comment
   " (could read from any track 180-189 based on switches?)
 eol
  \n
 line
  comment
   " phil budne 3/24/2016
 eol
  \n\n
 line
  comment
   " must be output as a "rim" tape for SIMH to boot!!!
 eol
  \n\n
 line
  comment
   " load at normal (user) address of 010000
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       iof
  comment
   " interrupts off
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       caf
  comment
   " reset cpu
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       dscs
  comment
   " clear disk status
 eol
  \n\n
 line
  comment
   " code from maksys (altered to read instead of write):
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        -
        atom
         3072
   ;
   declaration
    declarationRight
     instruction
      opcode
       dslw
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         cla
   ;
   declaration
    declarationRight
     instruction
      opcode
       dslm
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           track
   ;
   declaration
    declarationRight
     instruction
      opcode
       alss
      argument
       expression
        multiplyingExpression
         atom
          8
   ;
   declaration
    declarationRight
     instruction
      opcode
       xor
      argument
       expression
        multiplyingExpression
         atom
          variable
           o300000
   ;
   declaration
    declarationRight
     instruction
      opcode
       dsld
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           o2000
   ;
   declaration
    declarationRight
     instruction
      opcode
       dsls
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       dssf
   ;
   declaration
    declarationRight
     instruction
      opcode
       jmp
      argument
       expression
        multiplyingExpression
         atom
          .
        -
        multiplyingExpression
         atom
          1
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       dsrs
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         spa
   ;
   declaration
    declarationRight
     instruction
      opcode
       hlt
 eol
  \n\n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        -
        atom
         1024
   ;
   declaration
    declarationRight
     instruction
      opcode
       dslw
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           d3072
   ;
   declaration
    declarationRight
     instruction
      opcode
       dslm
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           track
   ;
   declaration
    declarationRight
     instruction
      opcode
       alss
      argument
       expression
        multiplyingExpression
         atom
          8
   ;
   declaration
    declarationRight
     instruction
      opcode
       xor
      argument
       expression
        multiplyingExpression
         atom
          variable
           o300110
   ;
   declaration
    declarationRight
     instruction
      opcode
       dsld
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           o2000
   ;
   declaration
    declarationRight
     instruction
      opcode
       dsls
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       dssf
   ;
   declaration
    declarationRight
     instruction
      opcode
       jmp
      argument
       expression
        multiplyingExpression
         atom
          .
        -
        multiplyingExpression
         atom
          1
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       dsrs
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         spa
   ;
   declaration
    declarationRight
     instruction
      opcode
       hlt
 eol
  \n\n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jmp
      argument
       expression
        multiplyingExpression
         atom
          0100
 eol
  \n\n
 line
  declarations
   declaration
    label
     o2000:
    declarationRight
     expression
      multiplyingExpression
       atom
        02000
 eol
  \n
 line
  declarations
   declaration
    label
     d3072:
    declarationRight
     expression
      multiplyingExpression
       atom
        3072
 eol
  \n
 line
  declarations
   declaration
    label
     o300000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0300000
 eol
  \n
 line
  declarations
   declaration
    label
     o300110:
    declarationRight
     expression
      multiplyingExpression
       atom
        0300110
 eol
  \n
 line
  declarations
   declaration
    label
     track:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " get 0-9 from switches!!!
 eol
  \n
 <EOF>
