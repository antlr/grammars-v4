prog
 line
  comment
   "** 01-s1.pdf page 48
 eol
  \n\n
 line
  comment
   " s8
 eol
  \n\n
 line
  comment
   " manifests
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       variable
        mnproc
      =
      expression
       multiplyingExpression
        atom
         10
  comment
   " number of processes
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       variable
        dspbsz
      =
      expression
       multiplyingExpression
        atom
         270
  comment
   " display buffer size
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       variable
        ndskbs
      =
      expression
       multiplyingExpression
        atom
         4
  comment
   " number of buffers at dskbs
 eol
  \n\n
 line
  comment
   " flags
 eol
  \n
 line
  declarations
   declaration
    label
     .insys:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " "in system"
 eol
  \n
 line
  declarations
   declaration
    label
     .int1:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " inode for user interrupt 1
 eol
  \n
 line
  declarations
   declaration
    label
     .int2:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " inode for user interrupt 2
 eol
  \n
 line
  declarations
   declaration
    label
     .ac:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " saved AC from Priotity Interrupt
 eol
  \n
 line
  declarations
   declaration
    label
     .savblk:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " set by system call, cleared by disk i/o
 eol
  \n
 line
  declarations
   declaration
    label
     .dsptm:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " display restart countdown (10 ticks)
 eol
  \n
 line
  declarations
   declaration
    label
     .dskb:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " set on disk interrupt
 eol
  \n
 line
  declarations
   declaration
    label
     .dske:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " status from disk interrupt
 eol
  \n\n
 line
  comment
   " pointers
 eol
  \n
 line
  declarations
   declaration
    label
     tadu:
    declarationRight
     instruction
      opcode
       tad
      argument
       expression
        multiplyingExpression
         atom
          variable
           ulist
 eol
  \n
 line
  declarations
   declaration
    label
     dacu:
    declarationRight
     instruction
      opcode
       dac
      argument
       expression
        multiplyingExpression
         atom
          variable
           ulist
 eol
  \n
 line
  declarations
   declaration
    label
     maxquant:
    declarationRight
     expression
      multiplyingExpression
       atom
        30
 eol
  \n
 line
  declarations
   declaration
    label
     ofilesp:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         u.ofiles
 eol
  \n
 line
  declarations
   declaration
    label
     idskpp:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         i.dskps
 eol
  \n
 line
  declarations
   declaration
    label
     dskbufp:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         dskbuf
 eol
  \n
 line
  declarations
   declaration
    label
     edspbuf:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         dspbuf
      +
      multiplyingExpression
       atom
        variable
         dspbsz
 eol
  \n
 line
  declarations
   declaration
    label
     dspbufp3:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         dspbuf
      +
      multiplyingExpression
       atom
        3
 eol
  \n
 line
  declarations
   declaration
    label
     fblksp:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         s.fblks
 eol
  \n
 line
  declarations
   declaration
    label
     dacq1:
    declarationRight
     instruction
      opcode
       dac
      argument
       expression
        multiplyingExpression
         atom
          variable
           q1
 eol
  \n
 line
  declarations
   declaration
    label
     lacq1:
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           q1
 eol
  \n
 line
  declarations
   declaration
    label
     q2p:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         q2
 eol
  \n\n
 line
  comment
   " strings
 eol
  \n
 line
  declarations
   declaration
    label
     initf:
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        string
         <in
         >
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        string
         <it
         >
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        040040
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        040040
  comment
   " was <i>n;<i>t;< > ;< >  but as.s unhappy!
 eol
  \n\n
 line
  comment
   " constants
 eol
  \n
 line
  declarations
   declaration
    label
     d0:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    label
     d1:
    declarationRight
     expression
      multiplyingExpression
       atom
        1
 eol
  \n
 line
  declarations
   declaration
    label
     d2:
    declarationRight
     expression
      multiplyingExpression
       atom
        2
 eol
  \n
 line
  declarations
   declaration
    label
     d3:
    declarationRight
     expression
      multiplyingExpression
       atom
        3
 eol
  \n
 line
  declarations
   declaration
    label
     d4:
    declarationRight
     expression
      multiplyingExpression
       atom
        4
 eol
  \n
 line
  declarations
   declaration
    label
     d5:
    declarationRight
     expression
      multiplyingExpression
       atom
        5
 eol
  \n
 line
  declarations
   declaration
    label
     d6:
    declarationRight
     expression
      multiplyingExpression
       atom
        6
 eol
  \n
 line
  declarations
   declaration
    label
     d7:
    label
     o7:
    declarationRight
     expression
      multiplyingExpression
       atom
        07
 eol
  \n
 line
  declarations
   declaration
    label
     d8:
    declarationRight
     expression
      multiplyingExpression
       atom
        8
 eol
  \n
 line
  declarations
   declaration
    label
     d9:
    declarationRight
     expression
      multiplyingExpression
       atom
        9
 eol
  \n
 line
  declarations
   declaration
    label
     o12:
    label
     d10:
    declarationRight
     expression
      multiplyingExpression
       atom
        10
 eol
  \n
 line
  declarations
   declaration
    label
     o14:
    declarationRight
     expression
      multiplyingExpression
       atom
        014
 eol
  \n
 line
  declarations
   declaration
    label
     o15:
    declarationRight
     expression
      multiplyingExpression
       atom
        015
 eol
  \n
 line
  declarations
   declaration
    label
     o17:
    declarationRight
     expression
      multiplyingExpression
       atom
        017
 eol
  \n
 line
  declarations
   declaration
    label
     o20:
    declarationRight
     expression
      multiplyingExpression
       atom
        020
 eol
  \n
 line
  declarations
   declaration
    label
     o33:
    declarationRight
     expression
      multiplyingExpression
       atom
        033
 eol
  \n
 line
  declarations
   declaration
    label
     o40:
    declarationRight
     expression
      multiplyingExpression
       atom
        040
 eol
  \n
 line
  declarations
   declaration
    label
     o55:
    declarationRight
     expression
      multiplyingExpression
       atom
        055
 eol
  \n
 line
  declarations
   declaration
    label
     o77:
    declarationRight
     expression
      multiplyingExpression
       atom
        077
 eol
  \n
 line
  declarations
   declaration
    label
     d65:
    label
     o101:
    declarationRight
     expression
      multiplyingExpression
       atom
        0101
 eol
  \n
 line
  declarations
   declaration
    label
     d33:
    declarationRight
     expression
      multiplyingExpression
       atom
        33
 eol
  \n
 line
  declarations
   declaration
    label
     o132:
    declarationRight
     expression
      multiplyingExpression
       atom
        0132
 eol
  \n
 line
  declarations
   declaration
    label
     o134:
    declarationRight
     expression
      multiplyingExpression
       atom
        0134
 eol
  \n
 line
  declarations
   declaration
    label
     o137:
    declarationRight
     expression
      multiplyingExpression
       atom
        0137
 eol
  \n
 line
  declarations
   declaration
    label
     o155:
    declarationRight
     expression
      multiplyingExpression
       atom
        0155
 eol
  \n
 line
  declarations
   declaration
    label
     o177:
    declarationRight
     expression
      multiplyingExpression
       atom
        0177
 eol
  \n
 line
  comment
   "** 01-s1.pdf page 49
 eol
  \n
 line
  declarations
   declaration
    label
     o212:
    declarationRight
     expression
      multiplyingExpression
       atom
        0212
 eol
  \n
 line
  declarations
   declaration
    label
     o375:
    declarationRight
     expression
      multiplyingExpression
       atom
        0375
 eol
  \n
 line
  declarations
   declaration
    label
     o777:
    declarationRight
     expression
      multiplyingExpression
       atom
        0777
 eol
  \n
 line
  declarations
   declaration
    label
     o2000:
    declarationRight
     expression
      multiplyingExpression
       atom
        02000
 eol
  \n
 line
  declarations
   declaration
    label
     o4000:
    declarationRight
     expression
      multiplyingExpression
       atom
        04000
 eol
  \n
 line
  declarations
   declaration
    label
     d7999:
    declarationRight
     expression
      multiplyingExpression
       atom
        7999
 eol
  \n
 line
  declarations
   declaration
    label
     o10000:
    declarationRight
     expression
      multiplyingExpression
       atom
        010000
 eol
  \n
 line
  declarations
   declaration
    label
     o17762:
    declarationRight
     expression
      multiplyingExpression
       atom
        017762
 eol
  \n
 line
  declarations
   declaration
    label
     o17777:
    declarationRight
     expression
      multiplyingExpression
       atom
        017777
 eol
  \n
 line
  declarations
   declaration
    label
     o20001:
    declarationRight
     expression
      multiplyingExpression
       atom
        020001
 eol
  \n
 line
  declarations
   declaration
    label
     o40000:
    declarationRight
     expression
      multiplyingExpression
       atom
        040000
 eol
  \n
 line
  declarations
   declaration
    label
     o40001:
    declarationRight
     expression
      multiplyingExpression
       atom
        040001
 eol
  \n
 line
  declarations
   declaration
    label
     o70000:
    declarationRight
     expression
      multiplyingExpression
       atom
        070000
 eol
  \n
 line
  declarations
   declaration
    label
     o77777:
    declarationRight
     expression
      multiplyingExpression
       atom
        077777
 eol
  \n
 line
  declarations
   declaration
    label
     o100000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0100000
 eol
  \n
 line
  declarations
   declaration
    label
     o140000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0140000
 eol
  \n
 line
  declarations
   declaration
    label
     o200000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0200000
 eol
  \n
 line
  declarations
   declaration
    label
     o200001:
    declarationRight
     expression
      multiplyingExpression
       atom
        0200001
 eol
  \n
 line
  declarations
   declaration
    label
     o300000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0300000
 eol
  \n
 line
  declarations
   declaration
    label
     o400000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0400000
 eol
  \n
 line
  declarations
   declaration
    label
     o500000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0500000
 eol
  \n
 line
  declarations
   declaration
    label
     o577777:
    declarationRight
     expression
      multiplyingExpression
       atom
        0577777
 eol
  \n
 line
  declarations
   declaration
    label
     o600000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0600000
 eol
  \n
 line
  declarations
   declaration
    label
     o640000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0640000
 eol
  \n
 line
  declarations
   declaration
    label
     o700000:
    declarationRight
     expression
      multiplyingExpression
       atom
        0700000
 eol
  \n
 line
  declarations
   declaration
    label
     o777700:
    declarationRight
     expression
      multiplyingExpression
       atom
        0777700
 eol
  \n
 line
  declarations
   declaration
    label
     o777760:
    declarationRight
     expression
      multiplyingExpression
       atom
        0777760
 eol
  \n
 line
  declarations
   declaration
    label
     dm3:
    declarationRight
     expression
      multiplyingExpression
       atom
        -
        atom
         3
 eol
  \n
 line
  declarations
   declaration
    label
     dm1:
    declarationRight
     expression
      multiplyingExpression
       atom
        -
        atom
         1
 eol
  \n\n
 line
  declarations
   declaration
    label
     9:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         variable
          t
  comment
   " per-routine temp variables
 eol
  \n
 line
  declarations
   declaration
    label
     c1:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " not used?
 eol
  \n
 line
  comment
   " character queues (two words each, head and tail pointers?)
 eol
  \n
 line
  comment
   "  0: free list
 eol
  \n
 line
  comment
   "  1: tty input
 eol
  \n
 line
  comment
   "  2: tty output
 eol
  \n
 line
  comment
   "  3: display keyboard
 eol
  \n
 line
  comment
   "  4: paper tape reader
 eol
  \n
 line
  comment
   "  5: paper tape punch
 eol
  \n
 line
  declarations
   declaration
    label
     q1:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         q2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         q2
      +
      multiplyingExpression
       atom
        98
  comment
   " queue element free list
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         14
  comment
   " room for 7 queues (5 used)
 eol
  \n
 line
  declarations
   declaration
    label
     q2:
  comment
   " queue elements (and two words padding??)
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        .
      +
      multiplyingExpression
       atom
        2
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    label
     dsploc:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " pointer into dspbuf
 eol
  \n
 line
  declarations
   declaration
    label
     dsplno:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " display current line number
 eol
  \n
 line
  declarations
   declaration
    label
     dspbuf:
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0065057
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0147740
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0160000
  comment
   " display commands: see 03-scope.pdf pg 20
 eol
  \n
 line
  comment
   " PARAM: clear blink, clear light pen, scale=1, intensity=3
 eol
  \n
 line
  comment
   " X-Y: invisible, no delay, Y=01740 (992)
 eol
  \n
 line
  comment
   " X-Y: invisible, settling delay, X=0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         30
 eol
  \n
 line
  comment
   " Kernel startup (reused for display buffer)
 eol
  \n
 line
  declarations
   declaration
    label
     coldentry:
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       dzm
      argument
       expression
        multiplyingExpression
         atom
          0100
  comment
   " not re-entrant
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       caf
  comment
   " clear all flags
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       ion
  comment
   " enable interrupts
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       clon
  comment
   " clear clock flag
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       law
      argument
       expression
        multiplyingExpression
         atom
          3072
  comment
   " initialize display....
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       wcga
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           dspinit
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       law
      argument
       expression
        multiplyingExpression
         atom
          variable
           dspbuf
  comment
   " set display buffer to default
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           movdsp
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         cla
  comment
   " read system block from disk
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           dskio
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        06000
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           copy
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         dskbuf
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         sysdata
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         ulist
      -
      multiplyingExpression
       atom
        variable
         sysdata
  comment
   " copy to system data
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       lac
      argument
       expression
        multiplyingExpression
         atom
          variable
           d3
  comment
   " look for "init" in default directory
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           namei
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         initf
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           halt
 eol
  \n
 line
  comment
   "** 01-s1.pdf page 50
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           iget
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         cla
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jms
      argument
       expression
        multiplyingExpression
         atom
          variable
           iread
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        4096
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        4096
  comment
   " read in "init"
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     instruction
      opcode
       jmp
      argument
       expression
        multiplyingExpression
         atom
          4096
  comment
   " start process 1
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         variable
          dspbuf
       +
       multiplyingExpression
        atom
         variable
          dspbsz
       +
       multiplyingExpression
        atom
         3
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       variable
        dskbuf
      =
      expression
       multiplyingExpression
        atom
         07700
 eol
  \n
 line
  declarations
   declaration
    label
     dskbs:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         65
       +
       multiplyingExpression
        atom
         65
       +
       multiplyingExpression
        atom
         65
       +
       multiplyingExpression
        atom
         65
  comment
   " ndskbs buffers (block number + block)
 eol
  \n
 line
  declarations
   declaration
    label
     edskbsp:
    declarationRight
     expression
      multiplyingExpression
       atom
        .
 eol
  \n
 line
  declarations
   declaration
    label
     uquant:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " number of ticks user has been running
 eol
  \n
 line
  declarations
   declaration
    label
     dspbufp:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " pointer to display buffer
 eol
  \n
 line
  declarations
   declaration
    label
     pbsflgs:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         2
  comment
   " buttons on last tick, last button interrupt
 eol
  \n
 line
  declarations
   declaration
    label
     mode:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " user access mode: 1 for write, 2 for read
 eol
  \n
 line
  declarations
   declaration
    label
     nttychar:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " CR to send next, or zero
 eol
  \n
 line
  declarations
   declaration
    label
     npptchar:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " saved PTR char
 eol
  \n
 line
  declarations
   declaration
    label
     ttydelay:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " delay count for TTY output
 eol
  \n
 line
  declarations
   declaration
    label
     name:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         4
  comment
   " file name for current sys call
 eol
  \n
 line
  declarations
   declaration
    label
     lnkaddr:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " temp for character queue routines
 eol
  \n
 line
  declarations
   declaration
    label
     char:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " current char: temp for PI
 eol
  \n
 line
  declarations
   declaration
    label
     dskaddr:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " number of block in dskbuf
 eol
  \n
 line
  declarations
   declaration
    label
     uniqpid:
    declarationRight
     expression
      multiplyingExpression
       atom
        1
  comment
   " pid generator
 eol
  \n
 line
  declarations
   declaration
    label
     lu:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         4
  comment
   " user (process) table entry copy
 eol
  \n
 line
  declarations
   declaration
    label
     sfiles:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         10
  comment
   " wait addresses for special files
 eol
  \n
 line
  comment
   " (bit vectors of waiting processes?)
 eol
  \n
 line
  comment
   " bit zero (MSB) is special, bit 1 first ulist entry, ....
 eol
  \n
 line
  comment
   " offsets:\t0: ttyin, 1: ttyout, 2: keyboard,
 eol
  \n
 line
  comment
   "\t\t3: ptr,   4: ptp,    6: display
 eol
  \n
 line
  declarations
   declaration
    label
     dpdata:
  comment
   " dataphone data
 eol
  \n
 line
  declarations
   declaration
    label
     dpstat:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     dpread:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     dpwrite:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     dpchar:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     dspdata:
  comment
   " display data
 eol
  \n
 line
  declarations
   declaration
    label
     .dspb:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     .lpba:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   "** 4 written on listing
 eol
  \n
 line
  declarations
   declaration
    label
     crdata:
  comment
   " card reader data
 eol
  \n
 line
  declarations
   declaration
    label
     crread:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     crchar:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
 eol
  \n
 line
  declarations
   declaration
    label
     sysdata:
  comment
   " system data 64 words saved to disk
 eol
  \n
 line
  declarations
   declaration
    label
     s.nxfblk:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " pointer to next free block??
 eol
  \n
 line
  declarations
   declaration
    label
     s.nfblks:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " number of free blocks (in fblks?)
 eol
  \n
 line
  declarations
   declaration
    label
     s.fblks:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         10
  comment
   " cached free block numbers
 eol
  \n
 line
  declarations
   declaration
    label
     s.uniq:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " next unique value
 eol
  \n
 line
  declarations
   declaration
    label
     s.tim:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         2
  comment
   " (up?)time in 60Hz ticks (low, high)
 eol
  \n
 line
  comment
   " user (process) table
 eol
  \n
 line
  comment
   " first word
 eol
  \n
 line
  comment
   "   bits 0:2 -- status
 eol
  \n
 line
  comment
   "\t0: free slot
 eol
  \n
 line
  comment
   "\t1: in/ready
 eol
  \n
 line
  comment
   "\t2: in/notready
 eol
  \n
 line
  comment
   "\t3: out/ready
 eol
  \n
 line
  comment
   "\t4: out/notready??
 eol
  \n
 line
  comment
   "   bits 3:17 -- disk swap address/8
 eol
  \n
 line
  comment
   " second word: process pid
 eol
  \n
 line
  comment
   " third word:  smes/rmes status:
 eol
  \n
 line
  comment
   "\t 0: not waiting
 eol
  \n
 line
  comment
   "\t-1: this process waiting (rmes)
 eol
  \n
 line
  comment
   "\tother: complement of sender pid
 eol
  \n
 line
  comment
   " fourth word: smes message
 eol
  \n
 line
  declarations
   declaration
    label
     ulist:
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0131000
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        1
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031040
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031100
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031140
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031200
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031240
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031300
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031340
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031400
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0031440
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
   ;
   declaration
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    label
     userdata:
  comment
   " "ustruct" (swappable)
 eol
  \n
 line
  declarations
   declaration
    label
     u.ac:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " user AC
 eol
  \n
 line
  declarations
   declaration
    label
     u.mq:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " user MQ
 eol
  \n
 line
  declarations
   declaration
    label
     u.rq:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         9
  comment
   " user 010-017, user PC
 eol
  \n
 line
  declarations
   declaration
    label
     u.uid:
    declarationRight
     expression
      multiplyingExpression
       atom
        -
        atom
         1
  comment
   " user id
 eol
  \n
 line
  declarations
   declaration
    label
     u.pid:
    declarationRight
     expression
      multiplyingExpression
       atom
        1
  comment
   " process id
 eol
  \n
 line
  declarations
   declaration
    label
     u.cdir:
    declarationRight
     expression
      multiplyingExpression
       atom
        3
  comment
   " connected directory (inode number?)
 eol
  \n
 line
  declarations
   declaration
    label
     u.ulistp:
    declarationRight
     expression
      multiplyingExpression
       atom
        variable
         ulist
  comment
   " pointer to process table entry
 eol
  \n
 line
  declarations
   declaration
    label
     u.swapret:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " kernel routine to resume at after swap in
 eol
  \n
 line
  declarations
   declaration
    label
     u.base:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " start of user buffer
 eol
  \n
 line
  declarations
   declaration
    label
     u.count:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " size of user buffer
 eol
  \n
 line
  comment
   "** 01-s1.pdf page 51
 eol
  \n
 line
  declarations
   declaration
    label
     u.limit:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " end of user buffer
 eol
  \n
 line
  declarations
   declaration
    label
     u.ofiles:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         30
  comment
   " open files (10 "fnode" entries)
 eol
  \n
 line
  declarations
   declaration
    label
     u.dspbuf:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
 eol
  \n
 line
  declarations
   declaration
    label
     u.intflg:
    declarationRight
     expression
      multiplyingExpression
       atom
        1
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         variable
          userdata
       +
       multiplyingExpression
        atom
         64
 eol
  \n
 line
  declarations
   declaration
    label
     ii:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " The current i-node number stored in inode
 eol
  \n
 line
  declarations
   declaration
    label
     inode:
  comment
   " disk inode in memory:
 eol
  \n
 line
  declarations
   declaration
    label
     i.flags:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " inode flags
 eol
  \n
 line
  comment
   " 400000 in use
 eol
  \n
 line
  comment
   " 200000 large file
 eol
  \n
 line
  comment
   " 000040 special device (indicated by inum)
 eol
  \n
 line
  comment
   " 000020 directory
 eol
  \n
 line
  comment
   " 000010 owner read
 eol
  \n
 line
  comment
   " 000004 owner write
 eol
  \n
 line
  comment
   " 000002 world read
 eol
  \n
 line
  comment
   " 000001 world write
 eol
  \n
 line
  declarations
   declaration
    label
     i.dskps:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         7
  comment
   " disk block numbers (indirect if "large file")
 eol
  \n
 line
  declarations
   declaration
    label
     i.uid:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " owner
 eol
  \n
 line
  declarations
   declaration
    label
     i.nlks:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " link count (negative)
 eol
  \n
 line
  declarations
   declaration
    label
     i.size:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " size (in words)
 eol
  \n
 line
  declarations
   declaration
    label
     i.uniq:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " unique number
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         variable
          inode
       +
       multiplyingExpression
        atom
         12
 eol
  \n
 line
  declarations
   declaration
    label
     di:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " directory index
 eol
  \n
 line
  declarations
   declaration
    label
     dnode:
  comment
   " directory entry:
 eol
  \n
 line
  declarations
   declaration
    label
     d.i:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " inode number
 eol
  \n
 line
  declarations
   declaration
    label
     d.name:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         4
  comment
   " name (space padded)
 eol
  \n
 line
  declarations
   declaration
    label
     d.uniq:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " unique number from directory inode
 eol
  \n
 line
  declarations
   declaration
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         variable
          dnode
       +
       multiplyingExpression
        atom
         8
 eol
  \n
 line
  declarations
   declaration
    label
     fnode:
  comment
   " open file entry (copied from u.ofiles)
 eol
  \n
 line
  declarations
   declaration
    label
     f.flags:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " see below
 eol
  \n
 line
  declarations
   declaration
    label
     f.badd:
    declarationRight
     assignment
      symbol
       .
      =
      expression
       multiplyingExpression
        atom
         .
       +
       multiplyingExpression
        atom
         1
  comment
   " offset
 eol
  \n
 line
  declarations
   declaration
    label
     f.i:
    declarationRight
     expression
      multiplyingExpression
       atom
        0
  comment
   " file i-number
 eol
  \n
 line
  comment
   "\tf.flags:
 eol
  \n
 line
  comment
   "\t\t400000\tin use
 eol
  \n
 line
  comment
   "\t\t000002\tread
 eol
  \n
 line
  comment
   "\t\t000001\twrite
 eol
  \n
 <EOF>
