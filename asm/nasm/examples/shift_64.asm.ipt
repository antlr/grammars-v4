program
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n
 line
  \n\n
 line
  directive
   extern
    extern
   extern_params
    name
     printf
  \n\n
 line
  \n\n
 line
  \n\n
 line
  directive
   section
    section
   section_params
    name
     .bss
  \n
 line
  label
   name
    raxsave
   :
  pseudoinstruction
   resx
    resq
   integer
    1
  \n
 line
  label
   name
    rdxsave
   :
  pseudoinstruction
   resx
    resq
   integer
    1
  \n
 line
  \n
 line
  directive
   section
    section
   section_params
    name
     .data
  \n
 line
  label
   name
    b64
   :
  pseudoinstruction
   dx
    dq
   value
    atom
     integer
      0xABCDEF0987654321
  \n
 line
  label
   name
    fmt
   :
  pseudoinstruction
   dx
    db
   value
    atom
     string
      "%s, old rax=ABCDEF0987654321, new rax=%16lX, "
   ,
   value
    atom
     integer
      10
   ,
   value
    atom
     integer
      0
  \n
 line
  label
   name
    fmt2
   :
  pseudoinstruction
   dx
    db
   value
    atom
     string
      "%s, old rdx:rax=0,ABCDEF0987654321,"
   ,
   value
    atom
     integer
      10
   ,
   value
    atom
     string
      "                new rax=%16lX rdx=%16lX, "
   ,
   value
    atom
     integer
      10
   ,
   value
    atom
     integer
      0
  \n
 line
  \n
 line
  directive
   section
    section
   section_params
    name
     .text
  \n
 line
  directive
   global
    global
   global_params
    name
     main
  \n
 line
  label
   name
    main
   :
  instruction
   opcode
    push
   operand
    register
     rbp
  \n
 line
  \n
 line
  label
   name
    shl1
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    shl
   operand
    register
     rax
   ,
   operand
    integer
     4
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "shl rax,4 "
  \n\n
 line
  label
   name
    shl4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    shl
   operand
    register
     rax
   ,
   operand
    integer
     8
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "shl rax,8 "
  \n\n
 line
  label
   name
    shr4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    shr
   operand
    register
     rax
   ,
   operand
    integer
     4
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "shr rax,4 "
  \n\n
 line
  label
   name
    sal4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    sal
   operand
    register
     rax
   ,
   operand
    integer
     8
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "sal rax,8 "
  \n\n
 line
  label
   name
    sar4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    sar
   operand
    register
     rax
   ,
   operand
    integer
     4
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "sar rax,4 "
  \n\n
 line
  label
   name
    rol4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    rol
   operand
    register
     rax
   ,
   operand
    integer
     4
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "rol rax,4 "
  \n\n
 line
  label
   name
    ror4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    ror
   operand
    register
     rax
   ,
   operand
    integer
     4
  \n
 line
  instruction
   macro_call
    name
     prt
    macro_param
     string
      "ror rax,4 "
  \n\n
 line
  label
   name
    shld4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    mov
   operand
    register
     rdx
   ,
   operand
    integer
     0
  \n
 line
  instruction
   opcode
    shld
   operand
    register
     rdx
   ,
   operand
    register
     rax
   ,
   operand
    integer
     8
  \n
 line
  instruction
   opcode
    mov
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  raxsave
    ]
   ,
   operand
    register
     rax
  \n
 line
  instruction
   opcode
    mov
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  rdxsave
    ]
   ,
   operand
    register
     rdx
  \n
 line
  instruction
   macro_call
    name
     prt2
    macro_param
     string
      "shld rdx,rax,8"
  \n\n
 line
  label
   name
    shla
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  raxsave
    ]
  \n
 line
  instruction
   opcode
    mov
   operand
    register
     rdx
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  rdxsave
    ]
  \n
 line
  instruction
   opcode
    shl
   operand
    register
     rax
   ,
   operand
    integer
     8
  \n
 line
  instruction
   macro_call
    name
     prt2
    macro_param
     string
      "shl rax,8     "
  \n\n
 line
  label
   name
    shrd4
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  b64
    ]
  \n
 line
  instruction
   opcode
    mov
   operand
    register
     rdx
   ,
   operand
    integer
     0
  \n
 line
  instruction
   opcode
    shrd
   operand
    register
     rdx
   ,
   operand
    register
     rax
   ,
   operand
    integer
     8
  \n
 line
  instruction
   opcode
    mov
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  raxsave
    ]
   ,
   operand
    register
     rax
  \n
 line
  instruction
   opcode
    mov
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  rdxsave
    ]
   ,
   operand
    register
     rdx
  \n
 line
  instruction
   macro_call
    name
     prt2
    macro_param
     string
      "shrd rdx,rax,8"
  \n\n
 line
  label
   name
    shra
   :
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  raxsave
    ]
  \n
 line
  instruction
   opcode
    mov
   operand
    register
     rdx
   ,
   operand
    [
    expression
     conditionalExpression
      booleanOrExpression
       booleanAndExpression
        inclusiveOrExpression
         exclusiveOrExpression
          andExpression
           equalityExpression
            relationalExpression
             shiftExpression
              additiveExpression
               multiplicativeExpression
                castExpression
                 name
                  rdxsave
    ]
  \n
 line
  instruction
   opcode
    shr
   operand
    register
     rax
   ,
   operand
    integer
     8
  \n
 line
  instruction
   macro_call
    name
     prt2
    macro_param
     string
      "shr rax,8     "
  \n\n
 line
  instruction
   opcode
    pop
   operand
    register
     rbp
  \n
 line
  instruction
   opcode
    mov
   operand
    register
     rax
   ,
   operand
    integer
     0
  \n
 line
  instruction
   opcode
    ret
  \n\n
 <EOF>
