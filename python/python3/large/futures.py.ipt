file_input
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              """A Future class similar to the one in PEP 3148."""
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               __all__
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              [
              testlist_comp
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       'CancelledError'
               ,
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       'TimeoutError'
               ,
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       'InvalidStateError'
               ,
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       'Future'
               ,
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       'wrap_future'
               ,
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       'isfuture'
              ]
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_name
      import
      dotted_as_names
       dotted_as_name
        dotted_name
         name
          concurrent
         .
         name
          futures
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_name
      import
      dotted_as_names
       dotted_as_name
        dotted_name
         name
          logging
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_name
      import
      dotted_as_names
       dotted_as_name
        dotted_name
         name
          sys
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_name
      import
      dotted_as_names
       dotted_as_name
        dotted_name
         name
          traceback
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_from
      from
      .
      import
      import_as_names
       import_as_name
        name
         base_futures
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_from
      from
      .
      import
      import_as_names
       import_as_name
        name
         compat
   \n
 stmt
  simple_stmts
   simple_stmt
    import_stmt
     import_from
      from
      .
      import
      import_as_names
       import_as_name
        name
         events
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               CancelledError
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               CancelledError
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               InvalidStateError
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               InvalidStateError
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               TimeoutError
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               TimeoutError
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               isfuture
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               isfuture
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               _PENDING
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               _PENDING
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               _CANCELLED
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               _CANCELLED
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               _FINISHED
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               base_futures
             trailer
              .
              name
               _FINISHED
   \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               STACK_DEBUG
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            expr
             atom_expr
              atom
               name
                logging
              trailer
               .
               name
                DEBUG
            -
            expr
             atom_expr
              atom
               1
   \n
 stmt
  compound_stmt
   classdef
    class
    name
     _TracebackLogger
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """Helper to log a traceback upon destruction if not cleared.\n\n    This solves a nasty problem with Futures and Tasks that have an\n    exception set: if nobody asks for the exception, the exception is\n    never logged.  This violates the Zen of Python: 'Errors should\n    never pass silently.  Unless explicitly silenced.'\n\n    However, we don't want to log the exception as soon as\n    set_exception() is called: if the calling code is written\n    properly, it will get the exception and handle it properly.  But\n    we *do* want to log it if result() or exception() was never called\n    -- otherwise developers waste a lot of time wondering why their\n    buggy code fails silently.\n\n    An earlier attempt added a __del__() method to the Future class\n    itself, but this backfired because the presence of __del__()\n    prevents garbage collection from breaking cycles.  A way out of\n    this catch-22 is to avoid having a __del__() method on the Future\n    class itself, but instead to have a reference to a helper object\n    with a __del__() method that logs the traceback, where we ensure\n    that the helper object doesn't participate in cycles, and only the\n    Future has a reference to it.\n\n    The helper object is added when set_exception() is called.  When\n    the Future is collected, and the helper is present, the helper\n    object is also collected, and its __del__() method will log the\n    traceback.  When the Future's result() or exception() method is\n    called (and a helper object is present), it removes the helper\n    object, after calling its clear() method to prevent it from\n    logging.\n\n    One downside is that we do a fair amount of work to extract the\n    traceback from the exception, even when it is never logged.  It\n    would seem cheaper to just store the exception object, but that\n    references the traceback, which references stack frames, which may\n    reference the Future, which references the _TracebackLogger, and\n    then the _TracebackLogger would be included in a cycle, which is\n    what we're trying to avoid!  As an optimization, we don't\n    immediately format the exception; we only do the work when\n    activate() is called, which call is delayed until after all the\n    Future's callbacks have run.  Since usually a Future has at least\n    one callback (typically set by 'yield from') and usually that\n    callback extracts the callback, thereby removing the need to\n    format the exception.\n\n    PS. I don't claim credit for this solution.  I first heard of it\n    in a discussion about closing files when they are collected.\n    """
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   __slots__
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  (
                  testlist_comp
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           'loop'
                   ,
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           'source_traceback'
                   ,
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           'exc'
                   ,
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           'tb'
                  )
        
     stmt
      compound_stmt
       funcdef
        def
        name
         __init__
        parameters
         (
         typedargslist
          tfpdef
           name
            self
          ,
          tfpdef
           name
            future
          ,
          tfpdef
           name
            exc
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       loop
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       future
                     trailer
                      .
                      name
                       _loop
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       source_traceback
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       future
                     trailer
                      .
                      name
                       _source_traceback
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       exc
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       exc
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       tb
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      None
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         activate
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       exc
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       exc
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     exc
                 comp_op
                  is
                  not
                 expr
                  atom_expr
                   atom
                    None
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           exc
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          None
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           tb
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           traceback
                         trailer
                          .
                          name
                           format_exception
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     exc
                                   trailer
                                    .
                                    name
                                     __class__
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     exc
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     exc
                                   trailer
                                    .
                                    name
                                     __traceback__
                          )
                
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         clear
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       exc
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      None
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       tb
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      None
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         __del__
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     tb
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           msg
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          'Future/Task exception was never retrieved\n'
                
             stmt
              compound_stmt
               if_stmt
                if
                test
                 or_test
                  and_test
                   not_test
                    comparison
                     expr
                      atom_expr
                       atom
                        name
                         self
                       trailer
                        .
                        name
                         source_traceback
                :
                block
                  
                                 
                 stmt
                  simple_stmts
                   simple_stmt
                    expr_stmt
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               src
                     =
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              ''
                             trailer
                              .
                              name
                               join
                             trailer
                              (
                              arglist
                               argument
                                test
                                 or_test
                                  and_test
                                   not_test
                                    comparison
                                     expr
                                      atom_expr
                                       atom
                                        name
                                         traceback
                                       trailer
                                        .
                                        name
                                         format_list
                                       trailer
                                        (
                                        arglist
                                         argument
                                          test
                                           or_test
                                            and_test
                                             not_test
                                              comparison
                                               expr
                                                atom_expr
                                                 atom
                                                  name
                                                   self
                                                 trailer
                                                  .
                                                  name
                                                   source_traceback
                                        )
                              )
                    
                 stmt
                  simple_stmts
                   simple_stmt
                    expr_stmt
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               msg
                     augassign
                      +=
                     testlist
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              'Future/Task created at (most recent call last):\n'
                    
                 stmt
                  simple_stmts
                   simple_stmt
                    expr_stmt
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               msg
                     augassign
                      +=
                     testlist
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            expr
                             atom_expr
                              atom
                               '%s\n'
                            %
                            expr
                             atom_expr
                              atom
                               name
                                src
                              trailer
                               .
                               name
                                rstrip
                              trailer
                               (
                               )
                    
                  
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           msg
                 augassign
                  +=
                 testlist
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          ''
                         trailer
                          .
                          name
                           join
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     self
                                   trailer
                                    .
                                    name
                                     tb
                          )
                         trailer
                          .
                          name
                           rstrip
                         trailer
                          (
                          )
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           loop
                         trailer
                          .
                          name
                           call_exception_handler
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    {
                                    dictorsetmaker
                                     test
                                      or_test
                                       and_test
                                        not_test
                                         comparison
                                          expr
                                           atom_expr
                                            atom
                                             'message'
                                     :
                                     test
                                      or_test
                                       and_test
                                        not_test
                                         comparison
                                          expr
                                           atom_expr
                                            atom
                                             name
                                              msg
                                    }
                          )
               \n
             \n
         \n
     \n
 stmt
  compound_stmt
   classdef
    class
    name
     Future
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """This class is *almost* compatible with concurrent.futures.Future.\n\n    Differences:\n\n    - result() and exception() do not take a timeout argument and\n      raise an exception when the future isn't done yet.\n\n    - Callbacks registered with add_done_callback() are always called\n      via the event loop's call_soon_threadsafe().\n\n    - This class is not compatible with the wait() and as_completed()\n      methods in the concurrent.futures package.\n\n    (In Python 3.4 or later we may be able to unify the implementations.)\n    """
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _state
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _PENDING
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _result
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  None
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _exception
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  None
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _loop
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  None
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _source_traceback
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  None
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _asyncio_future_blocking
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  False
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _log_traceback
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  False
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _tb_logger
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  None
        
     stmt
      compound_stmt
       funcdef
        def
        name
         __init__
        parameters
         (
         typedargslist
          tfpdef
           name
            self
          ,
          *
          ,
          tfpdef
           name
            loop
          =
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  None
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Initialize the future.\n\n        The optional event_loop argument allows explicitly setting the event\n        loop object used by the future. If it's not provided, the future uses\n        the default event loop.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     loop
                 comp_op
                  is
                 expr
                  atom_expr
                   atom
                    None
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _loop
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           events
                         trailer
                          .
                          name
                           get_event_loop
                         trailer
                          (
                          )
                
              
            else
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _loop
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           loop
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _callbacks
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      [
                      ]
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _loop
                   trailer
                    .
                    name
                     get_debug
                   trailer
                    (
                    )
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _source_traceback
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           traceback
                         trailer
                          .
                          name
                           extract_stack
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     sys
                                   trailer
                                    .
                                    name
                                     _getframe
                                   trailer
                                    (
                                    arglist
                                     argument
                                      test
                                       or_test
                                        and_test
                                         not_test
                                          comparison
                                           expr
                                            atom_expr
                                             atom
                                              1
                                    )
                          )
                
              
          
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _repr_info
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   base_futures
                 trailer
                  .
                  name
                   _future_repr_info
        
     stmt
      compound_stmt
       funcdef
        def
        name
         __repr__
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     expr
                      atom_expr
                       atom
                        '<%s %s>'
                     %
                     expr
                      atom_expr
                       atom
                        (
                        testlist_comp
                         test
                          or_test
                           and_test
                            not_test
                             comparison
                              expr
                               atom_expr
                                atom
                                 name
                                  self
                                trailer
                                 .
                                 name
                                  __class__
                                trailer
                                 .
                                 name
                                  __name__
                         ,
                         test
                          or_test
                           and_test
                            not_test
                             comparison
                              expr
                               atom_expr
                                atom
                                 ' '
                                trailer
                                 .
                                 name
                                  join
                                trailer
                                 (
                                 arglist
                                  argument
                                   test
                                    or_test
                                     and_test
                                      not_test
                                       comparison
                                        expr
                                         atom_expr
                                          atom
                                           name
                                            self
                                          trailer
                                           .
                                           name
                                            _repr_info
                                          trailer
                                           (
                                           )
                                 )
                        )
            
          
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 compat
               trailer
                .
                name
                 PY34
        :
        block
          
                 
         stmt
          compound_stmt
           funcdef
            def
            name
             __del__
            parameters
             (
             typedargslist
              tfpdef
               name
                self
             )
            :
            block
              
                         
             stmt
              compound_stmt
               if_stmt
                if
                test
                 or_test
                  and_test
                   not_test
                    not
                    not_test
                     comparison
                      expr
                       atom_expr
                        atom
                         name
                          self
                        trailer
                         .
                         name
                          _log_traceback
                :
                block
                  
                                 
                 stmt
                  simple_stmts
                   simple_stmt
                    flow_stmt
                     return_stmt
                      return
                    
                  
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           exc
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _exception
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           context
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          {
                          dictorsetmaker
                           test
                            or_test
                             and_test
                              not_test
                               comparison
                                expr
                                 atom_expr
                                  atom
                                   'message'
                           :
                           test
                            or_test
                             and_test
                              not_test
                               comparison
                                expr
                                 atom_expr
                                  atom
                                   (
                                   testlist_comp
                                    test
                                     or_test
                                      and_test
                                       not_test
                                        comparison
                                         expr
                                          expr
                                           atom_expr
                                            atom
                                             '%s exception was never retrieved'
                                          %
                                          expr
                                           atom_expr
                                            atom
                                             name
                                              self
                                            trailer
                                             .
                                             name
                                              __class__
                                            trailer
                                             .
                                             name
                                              __name__
                                   )
                           ,
                           test
                            or_test
                             and_test
                              not_test
                               comparison
                                expr
                                 atom_expr
                                  atom
                                   'exception'
                           :
                           test
                            or_test
                             and_test
                              not_test
                               comparison
                                expr
                                 atom_expr
                                  atom
                                   name
                                    exc
                           ,
                           test
                            or_test
                             and_test
                              not_test
                               comparison
                                expr
                                 atom_expr
                                  atom
                                   'future'
                           :
                           test
                            or_test
                             and_test
                              not_test
                               comparison
                                expr
                                 atom_expr
                                  atom
                                   name
                                    self
                           ,
                          }
                
             stmt
              compound_stmt
               if_stmt
                if
                test
                 or_test
                  and_test
                   not_test
                    comparison
                     expr
                      atom_expr
                       atom
                        name
                         self
                       trailer
                        .
                        name
                         _source_traceback
                :
                block
                  
                                 
                 stmt
                  simple_stmts
                   simple_stmt
                    expr_stmt
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               context
                             trailer
                              [
                              subscriptlist
                               subscript_
                                test
                                 or_test
                                  and_test
                                   not_test
                                    comparison
                                     expr
                                      atom_expr
                                       atom
                                        'source_traceback'
                              ]
                     =
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               self
                             trailer
                              .
                              name
                               _source_traceback
                    
                  
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _loop
                         trailer
                          .
                          name
                           call_exception_handler
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     context
                          )
                
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         cancel
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Cancel the future and schedule callbacks.\n\n        If the future is already done or cancelled, return False.  Otherwise,\n        change the future's state to cancelled, schedule the callbacks and\n        return True.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  !=
                 expr
                  atom_expr
                   atom
                    name
                     _PENDING
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 return_stmt
                  return
                  testlist
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           False
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _state
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       _CANCELLED
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _schedule_callbacks
                     trailer
                      (
                      )
            
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       True
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         _schedule_callbacks
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Internal: Ask the event loop to call all callbacks.\n\n        The callbacks are scheduled to be called as soon as possible. Also\n        clears the callback list.\n        """
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       callbacks
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _callbacks
                     trailer
                      [
                      subscriptlist
                       subscript_
                        :
                      ]
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                not
                not_test
                 comparison
                  expr
                   atom_expr
                    atom
                     name
                      callbacks
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 return_stmt
                  return
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _callbacks
                     trailer
                      [
                      subscriptlist
                       subscript_
                        :
                      ]
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      [
                      ]
            
         stmt
          compound_stmt
           for_stmt
            for
            exprlist
             expr
              atom_expr
               atom
                name
                 callback
            in
            testlist
             test
              or_test
               and_test
                not_test
                 comparison
                  expr
                   atom_expr
                    atom
                     name
                      callbacks
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _loop
                         trailer
                          .
                          name
                           call_soon
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     callback
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     self
                          )
                
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         cancelled
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Return True if the future was cancelled."""
            
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        self
                      trailer
                       .
                       name
                        _state
                    comp_op
                     ==
                    expr
                     atom_expr
                      atom
                       name
                        _CANCELLED
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         done
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Return True if the future is done.\n\n        Done means either that a result / exception are available, or that the\n        future was cancelled.\n        """
            
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        self
                      trailer
                       .
                       name
                        _state
                    comp_op
                     !=
                    expr
                     atom_expr
                      atom
                       name
                        _PENDING
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         result
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Return the result this future represents.\n\n        If the future has been cancelled, raises CancelledError.  If the\n        future's result isn't yet available, raises InvalidStateError.  If\n        the future is done and has an exception set, this exception is raised.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  ==
                 expr
                  atom_expr
                   atom
                    name
                     _CANCELLED
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           CancelledError
                
              
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  !=
                 expr
                  atom_expr
                   atom
                    name
                     _FINISHED
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           InvalidStateError
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    'Result is not ready.'
                          )
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _log_traceback
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      False
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _tb_logger
                 comp_op
                  is
                  not
                 expr
                  atom_expr
                   atom
                    None
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _tb_logger
                         trailer
                          .
                          name
                           clear
                         trailer
                          (
                          )
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _tb_logger
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          None
                
              
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _exception
                 comp_op
                  is
                  not
                 expr
                  atom_expr
                   atom
                    None
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _exception
                
              
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        self
                      trailer
                       .
                       name
                        _result
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         exception
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Return the exception that was set on this future.\n\n        The exception (or None if no exception was set) is returned only if\n        the future is done.  If the future has been cancelled, raises\n        CancelledError.  If the future isn't done yet, raises\n        InvalidStateError.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  ==
                 expr
                  atom_expr
                   atom
                    name
                     _CANCELLED
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           CancelledError
                
              
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  !=
                 expr
                  atom_expr
                   atom
                    name
                     _FINISHED
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           InvalidStateError
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    'Exception is not set.'
                          )
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _log_traceback
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      False
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _tb_logger
                 comp_op
                  is
                  not
                 expr
                  atom_expr
                   atom
                    None
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _tb_logger
                         trailer
                          .
                          name
                           clear
                         trailer
                          (
                          )
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _tb_logger
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          None
                
              
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        self
                      trailer
                       .
                       name
                        _exception
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         add_done_callback
        parameters
         (
         typedargslist
          tfpdef
           name
            self
          ,
          tfpdef
           name
            fn
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Add a callback to be run when the future becomes done.\n\n        The callback is called with a single argument - the future object. If\n        the future is already done when this is called, the callback is\n        scheduled with call_soon.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  !=
                 expr
                  atom_expr
                   atom
                    name
                     _PENDING
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _loop
                         trailer
                          .
                          name
                           call_soon
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     fn
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     self
                          )
                
              
            else
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _callbacks
                         trailer
                          .
                          name
                           append
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     fn
                          )
                
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         remove_done_callback
        parameters
         (
         typedargslist
          tfpdef
           name
            self
          ,
          tfpdef
           name
            fn
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Remove all instances of a callback from the "call when done" list.\n\n        Returns the number of callbacks removed.\n        """
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       filtered_callbacks
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      [
                      testlist_comp
                       test
                        or_test
                         and_test
                          not_test
                           comparison
                            expr
                             atom_expr
                              atom
                               name
                                f
                       comp_for
                        for
                        exprlist
                         expr
                          atom_expr
                           atom
                            name
                             f
                        in
                        or_test
                         and_test
                          not_test
                           comparison
                            expr
                             atom_expr
                              atom
                               name
                                self
                              trailer
                               .
                               name
                                _callbacks
                        comp_iter
                         comp_if
                          if
                          test_nocond
                           or_test
                            and_test
                             not_test
                              comparison
                               expr
                                atom_expr
                                 atom
                                  name
                                   f
                               comp_op
                                !=
                               expr
                                atom_expr
                                 atom
                                  name
                                   fn
                      ]
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       removed_count
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    expr
                     atom_expr
                      atom
                       name
                        len
                      trailer
                       (
                       arglist
                        argument
                         test
                          or_test
                           and_test
                            not_test
                             comparison
                              expr
                               atom_expr
                                atom
                                 name
                                  self
                                trailer
                                 .
                                 name
                                  _callbacks
                       )
                    -
                    expr
                     atom_expr
                      atom
                       name
                        len
                      trailer
                       (
                       arglist
                        argument
                         test
                          or_test
                           and_test
                            not_test
                             comparison
                              expr
                               atom_expr
                                atom
                                 name
                                  filtered_callbacks
                       )
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     removed_count
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _callbacks
                         trailer
                          [
                          subscriptlist
                           subscript_
                            :
                          ]
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           filtered_callbacks
                
              
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        removed_count
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         set_result
        parameters
         (
         typedargslist
          tfpdef
           name
            self
          ,
          tfpdef
           name
            result
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Mark the future done and set its result.\n\n        If the future is already done when this method is called, raises\n        InvalidStateError.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  !=
                 expr
                  atom_expr
                   atom
                    name
                     _PENDING
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           InvalidStateError
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    '{}: {!r}'
                                   trailer
                                    .
                                    name
                                     format
                                   trailer
                                    (
                                    arglist
                                     argument
                                      test
                                       or_test
                                        and_test
                                         not_test
                                          comparison
                                           expr
                                            atom_expr
                                             atom
                                              name
                                               self
                                             trailer
                                              .
                                              name
                                               _state
                                     ,
                                     argument
                                      test
                                       or_test
                                        and_test
                                         not_test
                                          comparison
                                           expr
                                            atom_expr
                                             atom
                                              name
                                               self
                                    )
                          )
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _result
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       result
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _state
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       _FINISHED
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _schedule_callbacks
                     trailer
                      (
                      )
            
          
     stmt
      compound_stmt
       funcdef
        def
        name
         set_exception
        parameters
         (
         typedargslist
          tfpdef
           name
            self
          ,
          tfpdef
           name
            exception
         )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      """Mark the future done and set an exception.\n\n        If the future is already done when this method is called, raises\n        InvalidStateError.\n        """
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     self
                   trailer
                    .
                    name
                     _state
                 comp_op
                  !=
                 expr
                  atom_expr
                   atom
                    name
                     _PENDING
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           InvalidStateError
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    '{}: {!r}'
                                   trailer
                                    .
                                    name
                                     format
                                   trailer
                                    (
                                    arglist
                                     argument
                                      test
                                       or_test
                                        and_test
                                         not_test
                                          comparison
                                           expr
                                            atom_expr
                                             atom
                                              name
                                               self
                                             trailer
                                              .
                                              name
                                               _state
                                     ,
                                     argument
                                      test
                                       or_test
                                        and_test
                                         not_test
                                          comparison
                                           expr
                                            atom_expr
                                             atom
                                              name
                                               self
                                    )
                          )
                
              
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     isinstance
                   trailer
                    (
                    arglist
                     argument
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               exception
                     ,
                     argument
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               type
                    )
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           exception
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           exception
                         trailer
                          (
                          )
                
              
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     type
                   trailer
                    (
                    arglist
                     argument
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               exception
                    )
                 comp_op
                  is
                 expr
                  atom_expr
                   atom
                    name
                     StopIteration
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 raise_stmt
                  raise
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           TypeError
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    "StopIteration interacts badly with generators "
                                    "and cannot be raised into a Future"
                          )
                
              
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _exception
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       exception
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _state
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       _FINISHED
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       self
                     trailer
                      .
                      name
                       _schedule_callbacks
                     trailer
                      (
                      )
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     compat
                   trailer
                    .
                    name
                     PY34
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _log_traceback
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          True
                
              
            else
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _tb_logger
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           _TracebackLogger
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     self
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     exception
                          )
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _loop
                         trailer
                          .
                          name
                           call_soon
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     self
                                   trailer
                                    .
                                    name
                                     _tb_logger
                                   trailer
                                    .
                                    name
                                     activate
                          )
                
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         __iter__
        parameters
         (
         typedargslist
          tfpdef
           name
            self
         )
        :
        block
          
                 
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                not
                not_test
                 comparison
                  expr
                   atom_expr
                    atom
                     name
                      self
                    trailer
                     .
                     name
                      done
                    trailer
                     (
                     )
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           self
                         trailer
                          .
                          name
                           _asyncio_future_blocking
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          True
                
             stmt
              simple_stmts
               simple_stmt
                flow_stmt
                 yield_stmt
                  yield_expr
                   yield
                   yield_arg
                    testlist
                     test
                      or_test
                       and_test
                        not_test
                         comparison
                          expr
                           atom_expr
                            atom
                             name
                              self
                
              
         stmt
          simple_stmts
           simple_stmt
            assert_stmt
             assert
             test
              or_test
               and_test
                not_test
                 comparison
                  expr
                   atom_expr
                    atom
                     name
                      self
                    trailer
                     .
                     name
                      done
                    trailer
                     (
                     )
             ,
             test
              or_test
               and_test
                not_test
                 comparison
                  expr
                   atom_expr
                    atom
                     "yield from wasn't used with future"
            
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        self
                      trailer
                       .
                       name
                        result
                      trailer
                       (
                       )
            
          
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 compat
               trailer
                .
                name
                 PY35
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       __await__
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       __iter__
           \n
         \n
     \n
 stmt
  simple_stmts
   simple_stmt
    expr_stmt
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               _PyFuture
     =
     testlist_star_expr
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              name
               Future
   \n
 stmt
  compound_stmt
   funcdef
    def
    name
     _set_result_unless_cancelled
    parameters
     (
     typedargslist
      tfpdef
       name
        fut
      ,
      tfpdef
       name
        result
     )
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """Helper setting the result only if the future was not cancelled."""
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 fut
               trailer
                .
                name
                 cancelled
               trailer
                (
                )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
            
          
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   fut
                 trailer
                  .
                  name
                   set_result
                 trailer
                  (
                  arglist
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             result
                  )
       \n
     \n
 stmt
  compound_stmt
   funcdef
    def
    name
     _set_concurrent_future_state
    parameters
     (
     typedargslist
      tfpdef
       name
        concurrent
      ,
      tfpdef
       name
        source
     )
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """Copy state from a future to a concurrent.futures.Future."""
        
     stmt
      simple_stmts
       simple_stmt
        assert_stmt
         assert
         test
          or_test
           and_test
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  source
                trailer
                 .
                 name
                  done
                trailer
                 (
                 )
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 source
               trailer
                .
                name
                 cancelled
               trailer
                (
                )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       concurrent
                     trailer
                      .
                      name
                       cancel
                     trailer
                      (
                      )
            
          
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            not
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  concurrent
                trailer
                 .
                 name
                  set_running_or_notify_cancel
                trailer
                 (
                 )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
            
          
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   exception
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   source
                 trailer
                  .
                  name
                   exception
                 trailer
                  (
                  )
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 exception
             comp_op
              is
              not
             expr
              atom_expr
               atom
                None
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       concurrent
                     trailer
                      .
                      name
                       set_exception
                     trailer
                      (
                      arglist
                       argument
                        test
                         or_test
                          and_test
                           not_test
                            comparison
                             expr
                              atom_expr
                               atom
                                name
                                 exception
                      )
            
          
        else
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       result
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       source
                     trailer
                      .
                      name
                       result
                     trailer
                      (
                      )
            
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       concurrent
                     trailer
                      .
                      name
                       set_result
                     trailer
                      (
                      arglist
                       argument
                        test
                         or_test
                          and_test
                           not_test
                            comparison
                             expr
                              atom_expr
                               atom
                                name
                                 result
                      )
           \n
         \n
     \n
 stmt
  compound_stmt
   funcdef
    def
    name
     _copy_future_state
    parameters
     (
     typedargslist
      tfpdef
       name
        source
      ,
      tfpdef
       name
        dest
     )
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """Internal helper to copy state from another Future.\n\n    The other Future may be a concurrent.futures.Future.\n    """
        
     stmt
      simple_stmts
       simple_stmt
        assert_stmt
         assert
         test
          or_test
           and_test
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  source
                trailer
                 .
                 name
                  done
                trailer
                 (
                 )
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 dest
               trailer
                .
                name
                 cancelled
               trailer
                (
                )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
            
          
     stmt
      simple_stmts
       simple_stmt
        assert_stmt
         assert
         test
          or_test
           and_test
            not_test
             not
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   dest
                 trailer
                  .
                  name
                   done
                 trailer
                  (
                  )
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 source
               trailer
                .
                name
                 cancelled
               trailer
                (
                )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       dest
                     trailer
                      .
                      name
                       cancel
                     trailer
                      (
                      )
            
          
        else
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       exception
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       source
                     trailer
                      .
                      name
                       exception
                     trailer
                      (
                      )
            
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     exception
                 comp_op
                  is
                  not
                 expr
                  atom_expr
                   atom
                    None
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           dest
                         trailer
                          .
                          name
                           set_exception
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     exception
                          )
                
              
            else
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           result
                 =
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           source
                         trailer
                          .
                          name
                           result
                         trailer
                          (
                          )
                
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           dest
                         trailer
                          .
                          name
                           set_result
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     result
                          )
               \n
             \n
         \n
     \n
 stmt
  compound_stmt
   funcdef
    def
    name
     _chain_future
    parameters
     (
     typedargslist
      tfpdef
       name
        source
      ,
      tfpdef
       name
        destination
     )
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """Chain two futures so that when one completes, so does the other.\n\n    The result (or exception) of source will be copied to destination.\n    If destination is cancelled, source gets cancelled too.\n    Compatible with both asyncio.Future and concurrent.futures.Future.\n    """
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            not
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  isfuture
                trailer
                 (
                 arglist
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            source
                 )
           and
           not_test
            not
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  isinstance
                trailer
                 (
                 arglist
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            source
                  ,
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            concurrent
                          trailer
                           .
                           name
                            futures
                          trailer
                           .
                           name
                            Future
                 )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             raise_stmt
              raise
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       TypeError
                     trailer
                      (
                      arglist
                       argument
                        test
                         or_test
                          and_test
                           not_test
                            comparison
                             expr
                              atom_expr
                               atom
                                'A future is required for source argument'
                      )
            
          
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            not
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  isfuture
                trailer
                 (
                 arglist
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            destination
                 )
           and
           not_test
            not
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  isinstance
                trailer
                 (
                 arglist
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            destination
                  ,
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            concurrent
                          trailer
                           .
                           name
                            futures
                          trailer
                           .
                           name
                            Future
                 )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             raise_stmt
              raise
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       TypeError
                     trailer
                      (
                      arglist
                       argument
                        test
                         or_test
                          and_test
                           not_test
                            comparison
                             expr
                              atom_expr
                               atom
                                'A future is required for destination argument'
                      )
            
          
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   source_loop
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   source
                 trailer
                  .
                  name
                   _loop
           if
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   isfuture
                 trailer
                  (
                  arglist
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             source
                  )
           else
           test
            or_test
             and_test
              not_test
               comparison
                expr
                 atom_expr
                  atom
                   None
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   dest_loop
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   destination
                 trailer
                  .
                  name
                   _loop
           if
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   isfuture
                 trailer
                  (
                  arglist
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             destination
                  )
           else
           test
            or_test
             and_test
              not_test
               comparison
                expr
                 atom_expr
                  atom
                   None
        
     stmt
      compound_stmt
       funcdef
        def
        name
         _set_state
        parameters
         (
         typedargslist
          tfpdef
           name
            future
          ,
          tfpdef
           name
            other
         )
        :
        block
          
                 
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     isfuture
                   trailer
                    (
                    arglist
                     argument
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               future
                    )
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           _copy_future_state
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     other
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     future
                          )
                
              
            else
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           _set_concurrent_future_state
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     future
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     other
                          )
                
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         _call_check_cancel
        parameters
         (
         typedargslist
          tfpdef
           name
            destination
         )
        :
        block
          
                 
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     destination
                   trailer
                    .
                    name
                     cancelled
                   trailer
                    (
                    )
            :
            block
              
                         
             stmt
              compound_stmt
               if_stmt
                if
                test
                 or_test
                  and_test
                   not_test
                    comparison
                     expr
                      atom_expr
                       atom
                        name
                         source_loop
                     comp_op
                      is
                     expr
                      atom_expr
                       atom
                        None
                  or
                  and_test
                   not_test
                    comparison
                     expr
                      atom_expr
                       atom
                        name
                         source_loop
                     comp_op
                      is
                     expr
                      atom_expr
                       atom
                        name
                         dest_loop
                :
                block
                  
                                 
                 stmt
                  simple_stmts
                   simple_stmt
                    expr_stmt
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               source
                             trailer
                              .
                              name
                               cancel
                             trailer
                              (
                              )
                    
                  
                else
                :
                block
                  
                                 
                 stmt
                  simple_stmts
                   simple_stmt
                    expr_stmt
                     testlist_star_expr
                      test
                       or_test
                        and_test
                         not_test
                          comparison
                           expr
                            atom_expr
                             atom
                              name
                               source_loop
                             trailer
                              .
                              name
                               call_soon_threadsafe
                             trailer
                              (
                              arglist
                               argument
                                test
                                 or_test
                                  and_test
                                   not_test
                                    comparison
                                     expr
                                      atom_expr
                                       atom
                                        name
                                         source
                                       trailer
                                        .
                                        name
                                         cancel
                              )
                    
                  
              
          
     stmt
      compound_stmt
       funcdef
        def
        name
         _call_set_state
        parameters
         (
         typedargslist
          tfpdef
           name
            source
         )
        :
        block
          
                 
         stmt
          compound_stmt
           if_stmt
            if
            test
             or_test
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     dest_loop
                 comp_op
                  is
                 expr
                  atom_expr
                   atom
                    None
              or
              and_test
               not_test
                comparison
                 expr
                  atom_expr
                   atom
                    name
                     dest_loop
                 comp_op
                  is
                 expr
                  atom_expr
                   atom
                    name
                     source_loop
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           _set_state
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     destination
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     source
                          )
                
              
            else
            :
            block
              
                         
             stmt
              simple_stmts
               simple_stmt
                expr_stmt
                 testlist_star_expr
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           dest_loop
                         trailer
                          .
                          name
                           call_soon_threadsafe
                         trailer
                          (
                          arglist
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     _set_state
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     destination
                           ,
                           argument
                            test
                             or_test
                              and_test
                               not_test
                                comparison
                                 expr
                                  atom_expr
                                   atom
                                    name
                                     source
                          )
                
              
          
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   destination
                 trailer
                  .
                  name
                   add_done_callback
                 trailer
                  (
                  arglist
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             _call_check_cancel
                  )
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   source
                 trailer
                  .
                  name
                   add_done_callback
                 trailer
                  (
                  arglist
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             _call_set_state
                  )
       \n
     \n
 stmt
  compound_stmt
   funcdef
    def
    name
     wrap_future
    parameters
     (
     typedargslist
      tfpdef
       name
        future
      ,
      *
      ,
      tfpdef
       name
        loop
      =
      test
       or_test
        and_test
         not_test
          comparison
           expr
            atom_expr
             atom
              None
     )
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  """Wrap concurrent.futures.Future object."""
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 isfuture
               trailer
                (
                arglist
                 argument
                  test
                   or_test
                    and_test
                     not_test
                      comparison
                       expr
                        atom_expr
                         atom
                          name
                           future
                )
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            flow_stmt
             return_stmt
              return
              testlist
               test
                or_test
                 and_test
                  not_test
                   comparison
                    expr
                     atom_expr
                      atom
                       name
                        future
            
          
     stmt
      simple_stmts
       simple_stmt
        assert_stmt
         assert
         test
          or_test
           and_test
            not_test
             comparison
              expr
               atom_expr
                atom
                 name
                  isinstance
                trailer
                 (
                 arglist
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            future
                  ,
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            concurrent
                          trailer
                           .
                           name
                            futures
                          trailer
                           .
                           name
                            Future
                 )
         ,
         test
          or_test
           and_test
            not_test
             comparison
              expr
               atom_expr
                atom
                 'concurrent.futures.Future is expected, got {!r}'
                trailer
                 .
                 name
                  format
                trailer
                 (
                 arglist
                  argument
                   test
                    or_test
                     and_test
                      not_test
                       comparison
                        expr
                         atom_expr
                          atom
                           name
                            future
                 )
        
     stmt
      compound_stmt
       if_stmt
        if
        test
         or_test
          and_test
           not_test
            comparison
             expr
              atom_expr
               atom
                name
                 loop
             comp_op
              is
             expr
              atom_expr
               atom
                None
        :
        block
          
                 
         stmt
          simple_stmts
           simple_stmt
            expr_stmt
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       loop
             =
             testlist_star_expr
              test
               or_test
                and_test
                 not_test
                  comparison
                   expr
                    atom_expr
                     atom
                      name
                       events
                     trailer
                      .
                      name
                       get_event_loop
                     trailer
                      (
                      )
            
          
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   new_future
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   loop
                 trailer
                  .
                  name
                   create_future
                 trailer
                  (
                  )
        
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _chain_future
                 trailer
                  (
                  arglist
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             future
                   ,
                   argument
                    test
                     or_test
                      and_test
                       not_test
                        comparison
                         expr
                          atom_expr
                           atom
                            name
                             new_future
                  )
        
     stmt
      simple_stmts
       simple_stmt
        flow_stmt
         return_stmt
          return
          testlist
           test
            or_test
             and_test
              not_test
               comparison
                expr
                 atom_expr
                  atom
                   name
                    new_future
       \n
     \n
 stmt
  compound_stmt
   try_stmt
    try
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        import_stmt
         import_name
          import
          dotted_as_names
           dotted_as_name
            dotted_name
             name
              _asyncio
       \n
     \n
    except_clause
     except
     test
      or_test
       and_test
        not_test
         comparison
          expr
           atom_expr
            atom
             name
              ImportError
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        pass_stmt
         pass
       \n
     \n
    else
    :
    block
      
         
     stmt
      simple_stmts
       simple_stmt
        expr_stmt
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   Future
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _CFuture
         =
         testlist_star_expr
          test
           or_test
            and_test
             not_test
              comparison
               expr
                atom_expr
                 atom
                  name
                   _asyncio
                 trailer
                  .
                  name
                   Future
       \n
     \n
 <EOF>
