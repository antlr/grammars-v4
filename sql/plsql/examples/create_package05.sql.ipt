sql_script
 unit_statement
  create_package
   create
   or
   replace
   package
   package_name
    identifier
     id_expression
      regular_id
       pkg_fun_with_streaming
   is
   package_obj_spec
    type_declaration
     type
     identifier
      id_expression
       regular_id
        t_change
     is
     record_type_def
      record
      (
      field_spec
       column_name
        identifier
         id_expression
          regular_id
           guid
       type_spec
        datatype
         native_datatype_element
          raw
         precision_part
          (
          numeric
           16
          )
      )
     ;
   package_obj_spec
    type_declaration
     type
     identifier
      id_expression
       regular_id
        t_message
     is
     record_type_def
      record
      (
      field_spec
       column_name
        identifier
         id_expression
          regular_id
           guid
       type_spec
        datatype
         native_datatype_element
          raw
         precision_part
          (
          numeric
           16
          )
      )
     ;
   package_obj_spec
    type_declaration
     type
     identifier
      id_expression
       regular_id
        t_change_cur
     is
     ref_cursor_type_def
      ref
      cursor
      return
      type_spec
       type_name
        id_expression
         regular_id
          t_change
     ;
   package_obj_spec
    type_declaration
     type
     identifier
      id_expression
       regular_id
        t_message_tab
     is
     table_type_def
      table
      of
      type_spec
       type_name
        id_expression
         regular_id
          t_message
      not
      null
      table_indexed_by_part
       index
       by
       type_spec
        datatype
         native_datatype_element
          int
     ;
   package_obj_spec
    function_spec
     function
     identifier
      id_expression
       regular_id
        prep_messages
     (
     parameter
      parameter_name
       identifier
        id_expression
         regular_id
          p_changes
      type_spec
       type_name
        id_expression
         regular_id
          t_change_cur
     )
     return
     type_spec
      type_name
       id_expression
        regular_id
         t_message_tab
     pipelined
     streaming_clause
      cluster
      expression
       logical_expression
        unary_logical_expression
         multiset_expression
          relational_expression
           compound_expression
            concatenation
             model_expression
              unary_expression
               atom
                general_element
                 general_element_part
                  id_expression
                   regular_id
                    p_changes
      by
      paren_column_list
       (
       column_list
        column_name
         identifier
          id_expression
           regular_id
            guid
       )
     parallel_enable_clause
      parallel_enable
      partition_by_clause
       (
       partition
       expression
        logical_expression
         unary_logical_expression
          multiset_expression
           relational_expression
            compound_expression
             concatenation
              model_expression
               unary_expression
                atom
                 general_element
                  general_element_part
                   id_expression
                    regular_id
                     p_changes
       by
       hash
       paren_column_list
        (
        column_list
         column_name
          identifier
           id_expression
            regular_id
             guid
        )
       )
     ;
   end
 ;
 /
 unit_statement
  create_package_body
   create
   or
   replace
   package
   body
   package_name
    identifier
     id_expression
      regular_id
       pkg_fun_with_streaming
   is
   package_obj_body
    function_body
     function
     identifier
      id_expression
       regular_id
        prep_messages
     (
     parameter
      parameter_name
       identifier
        id_expression
         regular_id
          p_changes
      type_spec
       type_name
        id_expression
         regular_id
          t_change_cur
     )
     return
     type_spec
      type_name
       id_expression
        regular_id
         t_message_tab
     pipelined
     streaming_clause
      cluster
      expression
       logical_expression
        unary_logical_expression
         multiset_expression
          relational_expression
           compound_expression
            concatenation
             model_expression
              unary_expression
               atom
                general_element
                 general_element_part
                  id_expression
                   regular_id
                    p_changes
      by
      paren_column_list
       (
       column_list
        column_name
         identifier
          id_expression
           regular_id
            guid
       )
     parallel_enable_clause
      parallel_enable
      partition_by_clause
       (
       partition
       expression
        logical_expression
         unary_logical_expression
          multiset_expression
           relational_expression
            compound_expression
             concatenation
              model_expression
               unary_expression
                atom
                 general_element
                  general_element_part
                   id_expression
                    regular_id
                     p_changes
       by
       hash
       paren_column_list
        (
        column_list
         column_name
          identifier
           id_expression
            regular_id
             guid
        )
       )
     is
     seq_of_declare_specs
      declare_spec
       variable_declaration
        identifier
         id_expression
          regular_id
           l_rec
        type_spec
         type_name
          id_expression
           regular_id
            t_change
        ;
      declare_spec
       variable_declaration
        identifier
         id_expression
          regular_id
           l_message
        type_spec
         type_name
          id_expression
           regular_id
            t_message
        ;
     body
      begin
      seq_of_statements
       statement
        loop_statement
         loop
         seq_of_statements
          statement
           sql_statement
            cursor_manipulation_statements
             fetch_statement
              fetch
              cursor_name
               general_element
                general_element_part
                 id_expression
                  regular_id
                   p_changes
              into
              variable_or_collection
               variable_name
                id_expression
                 regular_id
                  l_rec
          ;
          statement
           if_statement
            if
            condition
             expression
              logical_expression
               unary_logical_expression
                multiset_expression
                 relational_expression
                  compound_expression
                   concatenation
                    model_expression
                     unary_expression
                      atom
                       general_element
                        general_element
                         general_element_part
                          id_expression
                           regular_id
                            l_rec
                        .
                        general_element_part
                         id_expression
                          regular_id
                           guid
                unary_logical_operation
                 is
                 not
                 logical_operation
                  null
            then
            seq_of_statements
             statement
              pipe_row_statement
               pipe
               row
               (
               expression
                logical_expression
                 unary_logical_expression
                  multiset_expression
                   relational_expression
                    compound_expression
                     concatenation
                      model_expression
                       unary_expression
                        atom
                         general_element
                          general_element_part
                           id_expression
                            regular_id
                             l_message
               )
             ;
            end
            if
          ;
         end
         loop
       ;
      end
      label_name
       id_expression
        regular_id
         prep_messages
     ;
   end
   package_name
    identifier
     id_expression
      regular_id
       pkg_fun_with_streaming
 ;
 /
 <EOF>
