tsql_file
 batch
  batch_level_statement
   create_or_alter_procedure
    create
    procedure
    func_proc_name_schema
     id_
      a
    as
    sql_clauses
     cfl_statement
      block_statement
       begin
       sql_clauses
        dml_clause
         select_statement_standalone
          select_statement
           query_expression
            query_specification
             select
             select_list
              select_list_elem
               expression_elem
                expression
                 primitive_expression
                  primitive_constant
                   1
       end
  go_statement
   go
 batch
  batch_level_statement
   create_or_alter_procedure
    create
    procedure
    func_proc_name_schema
     id_
      b
    as
    sql_clauses
     cfl_statement
      block_statement
       begin
       sql_clauses
        dml_clause
         select_statement_standalone
          select_statement
           query_expression
            query_specification
             select
             select_list
              select_list_elem
               expression_elem
                expression
                 primitive_expression
                  primitive_constant
                   2
       end
  go_statement
   go
 batch
  sql_clauses
   cfl_statement
    if_statement
     IF
     search_condition
      predicate
       EXISTS
       (
       subquery
        select_statement
         query_expression
          query_specification
           SELECT
           select_list
            select_list_elem
             asterisk
              *
           FROM
           table_sources
            table_source
             table_source_item
              full_table_name
               id_
                sys
               .
               id_
                objects
           WHERE
           search_condition
            search_condition
             predicate
              expression
               full_column_name
                id_
                 keyword
                  type
              comparison_operator
               =
              expression
               primitive_expression
                primitive_constant
                 'P'
            AND
            search_condition
             predicate
              expression
               full_column_name
                id_
                 keyword
                  name
              comparison_operator
               =
              expression
               primitive_expression
                primitive_constant
                 'TestSproc'
       )
     sql_clauses
      ddl_clause
       drop_procedure
        DROP
        PROCEDURE
        func_proc_name_schema
         id_
          dbo
         .
         id_
          TestSproc
  go_statement
   GO
 batch
  batch_level_statement
   create_or_alter_procedure
    CREATE
    PROCEDURE
    func_proc_name_schema
     id_
      dbo
     .
     id_
      TestSproc
    procedure_param
     @Name
     data_type
      id_
       keyword
        nvarchar
      (
      30
      )
    AS
    sql_clauses
     dml_clause
      select_statement_standalone
       select_statement
        query_expression
         query_specification
          SELECT
          select_list
           select_list_elem
            expression_elem
             expression
              primitive_expression
               @Name
    sql_clauses
     cfl_statement
      return_statement
       RETURN
       expression
        full_column_name
         id_
          keyword
           GO
    sql_clauses
     another_statement
      declare_statement
       DECLARE
       declare_local
        @SprocName
        data_type
         id_
          keyword
           nvarchar
         (
         64
         )
        =
        expression
         primitive_expression
          primitive_constant
           'TestSproc'
     ;
    sql_clauses
     another_statement
      declare_statement
       DECLARE
       declare_local
        @TestName
        data_type
         id_
          keyword
           nvarchar
         (
         64
         )
        =
        expression
         primitive_expression
          primitive_constant
           'Foo'
    sql_clauses
     another_statement
      declare_statement
       DECLARE
       @Result
       data_type
        id_
         keyword
          nvarchar
        (
        64
        )
    sql_clauses
     another_statement
      execute_statement
       EXEC
       execute_body
        @Result
        =
        execute_var_string
         @SprocName
        execute_statement_arg
         execute_statement_arg_named
          @Name
          =
          execute_parameter
           @TestName
       ;
    sql_clauses
     dml_clause
      select_statement_standalone
       select_statement
        query_expression
         query_specification
          SELECT
          select_list
           select_list_elem
            expression_elem
             expression
              primitive_expression
               @Result
             as_column_alias
              column_alias
               id_
                keyword
                 GO
 batch
  batch_level_statement
   create_or_alter_procedure
    CREATE
    OR
    ALTER
    PROC
    func_proc_name_schema
     id_
      What_DB_is_this
    AS
    sql_clauses
     dml_clause
      select_statement_standalone
       select_statement
        query_expression
         query_specification
          SELECT
          select_list
           select_list_elem
            expression_elem
             expression
              function_call
               built_in_functions
                DB_NAME
                (
                )
             as_column_alias
              AS
              column_alias
               id_
                ThisDB
        ;
  go_statement
   GO
 batch
  batch_level_statement
   create_or_alter_procedure
    CREATE
    procedure
    func_proc_name_schema
     id_
      [schema]
     .
     id_
      [stp]
    procedure_param
     @id
     data_type
      id_
       keyword
        int
     =
     procedure_param_default_value
      constant
       0
    AS
    sql_clauses
     cfl_statement
      block_statement
       BEGIN
       sql_clauses
        dml_clause
         select_statement_standalone
          select_statement
           query_expression
            query_specification
             SELECT
             select_list
              select_list_elem
               asterisk
                *
             FROM
             table_sources
              table_source
               table_source_item
                (
                derived_table
                 subquery
                  select_statement
                   query_expression
                    query_specification
                     SELECT
                     select_list
                      select_list_elem
                       expression_elem
                        expression
                         full_column_name
                          id_
                           id
                     FROM
                     table_sources
                      table_source
                       table_source_item
                        full_table_name
                         id_
                          table1
                    sql_union
                     UNION
                     ALL
                     query_specification
                      SELECT
                      select_list
                       select_list_elem
                        expression_elem
                         expression
                          full_column_name
                           id_
                            id
                      FROM
                      table_sources
                       table_source
                        table_source_item
                         full_table_name
                          id_
                           table2
                    sql_union
                     UNION
                     ALL
                     query_specification
                      SELECT
                      select_list
                       select_list_elem
                        expression_elem
                         expression
                          full_column_name
                           id_
                            id
                      FROM
                      table_sources
                       table_source
                        table_source_item
                         full_table_name
                          id_
                           table3
                )
                as_table_alias
                 AS
                 table_alias
                  id_
                   RESULT
       END
  go_statement
   GO
 batch
  batch_level_statement
   create_or_alter_procedure
    CREATE
    PROCEDURE
    func_proc_name_schema
     id_
      [DBO]
     .
     id_
      [EXECUTEOLAP]
    procedure_param
     @MY_PARAM
     data_type
      NVARCHAR
      (
      MAX
      )
    WITH
    procedure_option
     execute_clause
      EXECUTE
      AS
      OWNER
    AS
    as_external_name
     EXTERNAL
     NAME
     id_
      [MY_ASSEMBLY_NAME]
     .
     id_
      [MY_NAMESPACE.MY_CLASS]
     .
     id_
      [MY_METHOD]
  go_statement
   go
 <EOF>
