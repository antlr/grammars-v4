tsql_file
 batch
  sql_clauses
   dml_clause
    merge_statement
     MERGE
     ddl_object
      full_table_name
       id_
        Production
       .
       id_
        UnitMeasure
     as_table_alias
      AS
      table_alias
       id_
        keyword
         target
     USING
     table_sources
      table_source
       table_source_item
        (
        derived_table
         subquery
          select_statement
           query_expression
            query_specification
             SELECT
             select_list
              select_list_elem
               expression_elem
                expression
                 primitive_expression
                  @UnitMeasureCode
              ,
              select_list_elem
               expression_elem
                expression
                 primitive_expression
                  @Name
        )
        as_table_alias
         AS
         table_alias
          id_
           src
        column_alias_list
         (
         column_alias
          id_
           UnitMeasureCode
         ,
         column_alias
          id_
           keyword
            Name
         )
     ON
     search_condition
      (
      search_condition
       predicate
        expression
         full_column_name
          full_table_name
           id_
            keyword
             target
          .
          id_
           UnitMeasureCode
        comparison_operator
         =
        expression
         full_column_name
          full_table_name
           id_
            src
          .
          id_
           UnitMeasureCode
      )
     when_matches
      WHEN
      MATCHED
      THEN
      merge_matched
       UPDATE
       SET
       update_elem_merge
        full_column_name
         id_
          keyword
           Name
        =
        expression
         full_column_name
          full_table_name
           id_
            src
          .
          id_
           keyword
            Name
     when_matches
      WHEN
      NOT
      MATCHED
      THEN
      merge_not_matched
       INSERT
       (
       column_name_list
        id_
         UnitMeasureCode
        ,
        id_
         keyword
          Name
       )
       table_value_constructor
        VALUES
        (
        expression_list_
         expression
          full_column_name
           full_table_name
            id_
             src
           .
           id_
            UnitMeasureCode
         ,
         expression
          full_column_name
           full_table_name
            id_
             src
           .
           id_
            keyword
             Name
        )
     output_clause
      OUTPUT
      output_dml_list_elem
       asterisk
        table_name
         id_
          keyword
           deleted
        .
        *
      ,
      output_dml_list_elem
       expression
        $action
      ,
      output_dml_list_elem
       asterisk
        table_name
         id_
          keyword
           inserted
        .
        *
      ,
      output_dml_list_elem
       expression
        case_expression
         CASE
         switch_search_condition_section
          WHEN
          search_condition
           predicate
            expression
             $action
            comparison_operator
             =
            expression
             primitive_expression
              primitive_constant
               'INSERT'
          THEN
          expression
           primitive_expression
            primitive_constant
             1
         ELSE
         expression
          primitive_expression
           primitive_constant
            0
         END
      ,
      output_dml_list_elem
       expression
        function_call
         built_in_functions
          IIF
          (
          search_condition
           predicate
            expression
             $action
            comparison_operator
             =
            expression
             primitive_expression
              primitive_constant
               'DELETE'
          ,
          expression
           primitive_expression
            primitive_constant
             1
          ,
          expression
           primitive_expression
            primitive_constant
             0
          )
      ,
      output_dml_list_elem
       expression
        full_column_name
         inserted
         .
         id_
          UnitMeasureCode
      INTO
      table_name
       id_
        #MyTempTable
     ;
 <EOF>
