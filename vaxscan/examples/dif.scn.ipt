program
 MODULE
 id
  find_differences
 opt_ident
  ;
 module_statement_list
  module_statement_list
   module_statement_list
    module_statement_list
     module_statement_list
      module_statement
       declaration
        procedure_form_decl
         proc_name
          EXTERNAL
          PROCEDURE
          id
           lib$find_file
         opt_formal_list
          (
          formal_list
           formal_list
            formal_list
             formal
              type_dec
               STRING
            ,
            formal
             type_dec
              STRING
           ,
           formal
            type_dec
             common_type_dec
              INTEGER
          )
         opt_result
          OF
          type_dec
           common_type_dec
            INTEGER
      ;
     module_statement
      declaration
       procedure_form_decl
        proc_name
         EXTERNAL
         PROCEDURE
         id
          lib$find_file_end
        opt_formal_list
         (
         formal_list
          formal
           type_dec
            common_type_dec
             INTEGER
         )
        opt_result
         OF
         type_dec
          common_type_dec
           INTEGER
     ;
    module_statement
     declaration
      procedure_form_decl
       proc_name
        FORWARD
        PROCEDURE
        id
         same
       opt_formal_list
        (
        formal_list
         formal_list
          formal
           type_dec
            STRING
         ,
         formal
          type_dec
           STRING
        )
       opt_result
        OF
        type_dec
         common_type_dec
          BOOLEAN
    ;
   module_statement
    procedure_declaration
     proc_start
      PROCEDURE
      id
       main
      opt_proc_attr
       MAIN
     ;
     body
      statement_list
       statement_list
        statement_list
         statement_list
          statement_list
           statement_list
            statement_list
             statement_list
              statement
               declaration
                variable_declaration
                 DECLARE
                 name_list
                  name_list
                   name_list
                    pic_id
                     id
                      spec1
                   ,
                   pic_id
                    id
                     dir2
                  ,
                  pic_id
                   id
                    full_file_name
                 :
                 type_dec
                  STRING
               ;
             statement
              declaration
               variable_declaration
                DECLARE
                name_list
                 name_list
                  name_list
                   name_list
                    pic_id
                     id
                      f
                   ,
                   pic_id
                    id
                     f1
                  ,
                  pic_id
                   id
                    f2
                 ,
                 pic_id
                  id
                   state
                :
                type_dec
                 STRING
              ;
            statement
             declaration
              variable_declaration
               DECLARE
               name_list
                pic_id
                 id
                  context
               :
               type_dec
                common_type_dec
                 INTEGER
             ;
           statement
            executable
             keyword_statement
              read_statement
               READ
               prompt
                PROMPT
                (
                exp
                 exp1
                  exp2
                   exp3
                    exp4
                     exp5
                      exp6
                       exp7
                        exp8
                         exp9
                          string_literal
                           'files to process: '
                )
               variable_ref
                var_ref
                 write_id
                  id
                   spec1
            ;
          statement
           executable
            keyword_statement
             read_statement
              READ
              prompt
               PROMPT
               (
               exp
                exp1
                 exp2
                  exp3
                   exp4
                    exp5
                     exp6
                      exp7
                       exp8
                        exp9
                         string_literal
                          'directory to process: '
               )
              variable_ref
               var_ref
                write_id
                 id
                  dir2
           ;
         statement
          executable
           variable_ref
            var_ref
             write_id
              id
               context
           =
           exp
            exp1
             exp2
              exp3
               exp4
                exp5
                 exp6
                  exp7
                   exp8
                    exp9
                     0
          ;
        statement
         executable
          keyword_statement
           while_statement
            WHILE
            exp
             exp1
              exp2
               exp3
                exp3
                 exp4
                  exp5
                   exp6
                    exp7
                     exp8
                      exp9
                       (
                       exp
                        exp1
                         exp1
                          exp2
                           exp3
                            exp4
                             exp5
                              exp6
                               exp7
                                exp8
                                 exp9
                                  ref
                                   ref
                                    id
                                     lib$find_file
                                   argument_list
                                    (
                                    arg_list
                                     arg_list
                                      arg_list
                                       arg
                                        exp
                                         exp1
                                          exp2
                                           exp3
                                            exp4
                                             exp5
                                              exp6
                                               exp7
                                                exp8
                                                 exp9
                                                  ref
                                                   id
                                                    spec1
                                      ,
                                      arg
                                       exp
                                        exp1
                                         exp2
                                          exp3
                                           exp4
                                            exp5
                                             exp6
                                              exp7
                                               exp8
                                                exp9
                                                 ref
                                                  id
                                                   full_file_name
                                     ,
                                     arg
                                      exp
                                       exp1
                                        exp2
                                         exp3
                                          exp4
                                           exp5
                                            exp6
                                             exp7
                                              exp8
                                               exp9
                                                ref
                                                 id
                                                  context
                                    )
                         AND
                         exp2
                          exp3
                           exp4
                            exp5
                             exp6
                              exp7
                               exp8
                                exp9
                                 1
                       )
                =
                exp4
                 exp5
                  exp6
                   exp7
                    exp8
                     exp9
                      1
            ;
            executable_list
             executable_list
              executable_list
               executable_list
                executable_list
                 executable
                  variable_ref
                   var_ref
                    write_id
                     id
                      f1
                  =
                  exp
                   exp1
                    exp2
                     exp3
                      exp4
                       exp5
                        exp6
                         exp7
                          exp8
                           exp9
                            ref
                             id
                              full_file_name
                           [
                           part_ref
                            exp
                             exp1
                              exp2
                               exp3
                                exp4
                                 exp5
                                  exp6
                                   exp7
                                    exp8
                                     exp9
                                      1
                            rest_of_part_ref
                             ..
                             exp
                              exp1
                               exp2
                                exp3
                                 exp4
                                  exp5
                                   exp5
                                    exp6
                                     exp7
                                      exp8
                                       exp9
                                        ref
                                         ref
                                          id
                                           index
                                         argument_list
                                          (
                                          arg_list
                                           arg_list
                                            arg
                                             exp
                                              exp1
                                               exp2
                                                exp3
                                                 exp4
                                                  exp5
                                                   exp6
                                                    exp7
                                                     exp8
                                                      exp9
                                                       ref
                                                        id
                                                         full_file_name
                                           ,
                                           arg
                                            exp
                                             exp1
                                              exp2
                                               exp3
                                                exp4
                                                 exp5
                                                  exp6
                                                   exp7
                                                    exp8
                                                     exp9
                                                      string_literal
                                                       ';'
                                          )
                                   -
                                   exp6
                                    exp7
                                     exp8
                                      exp9
                                       1
                             ]
                 ;
                executable
                 variable_ref
                  var_ref
                   write_id
                    id
                     f
                 =
                 exp
                  exp1
                   exp2
                    exp3
                     exp4
                      exp5
                       exp6
                        exp7
                         exp8
                          exp9
                           ref
                            id
                             f1
                          [
                          part_ref
                           exp
                            exp1
                             exp2
                              exp3
                               exp4
                                exp5
                                 exp5
                                  exp6
                                   exp7
                                    exp8
                                     exp9
                                      ref
                                       ref
                                        id
                                         index
                                       argument_list
                                        (
                                        arg_list
                                         arg_list
                                          arg
                                           exp
                                            exp1
                                             exp2
                                              exp3
                                               exp4
                                                exp5
                                                 exp6
                                                  exp7
                                                   exp8
                                                    exp9
                                                     ref
                                                      id
                                                       f1
                                         ,
                                         arg
                                          exp
                                           exp1
                                            exp2
                                             exp3
                                              exp4
                                               exp5
                                                exp6
                                                 exp7
                                                  exp8
                                                   exp9
                                                    string_literal
                                                     ']'
                                        )
                                 +
                                 exp6
                                  exp7
                                   exp8
                                    exp9
                                     1
                           rest_of_part_ref
                            ..
                            ]
                ;
               executable
                keyword_statement
                 write_statement
                  WRITE
                  exp_list
                   exp_list
                    exp
                     exp1
                      exp2
                       exp3
                        exp4
                         exp5
                          exp6
                           exp7
                            exp8
                             exp9
                              string_literal
                               'processing: '
                   ,
                   exp
                    exp1
                     exp2
                      exp3
                       exp4
                        exp5
                         exp6
                          exp7
                           exp8
                            exp9
                             ref
                              id
                               f
               ;
              executable
               variable_ref
                var_ref
                 write_id
                  id
                   f2
               =
               exp
                exp1
                 exp2
                  exp3
                   exp4
                    exp4
                     exp5
                      exp6
                       exp7
                        exp8
                         exp9
                          ref
                           id
                            dir2
                    &
                    exp5
                     exp6
                      exp7
                       exp8
                        exp9
                         ref
                          id
                           f1
                        [
                        part_ref
                         exp
                          exp1
                           exp2
                            exp3
                             exp4
                              exp5
                               exp5
                                exp6
                                 exp7
                                  exp8
                                   exp9
                                    ref
                                     ref
                                      id
                                       index
                                     argument_list
                                      (
                                      arg_list
                                       arg_list
                                        arg
                                         exp
                                          exp1
                                           exp2
                                            exp3
                                             exp4
                                              exp5
                                               exp6
                                                exp7
                                                 exp8
                                                  exp9
                                                   ref
                                                    id
                                                     f1
                                       ,
                                       arg
                                        exp
                                         exp1
                                          exp2
                                           exp3
                                            exp4
                                             exp5
                                              exp6
                                               exp7
                                                exp8
                                                 exp9
                                                  string_literal
                                                   ']'
                                      )
                               +
                               exp6
                                exp7
                                 exp8
                                  exp9
                                   1
                         rest_of_part_ref
                          ..
                          ]
              ;
             executable
              keyword_statement
               if_statement
                IF
                exp
                 exp1
                  exp2
                   NOT
                   exp2
                    exp3
                     exp4
                      exp5
                       exp6
                        exp7
                         exp8
                          exp9
                           ref
                            ref
                             id
                              same
                            argument_list
                             (
                             arg_list
                              arg_list
                               arg
                                exp
                                 exp1
                                  exp2
                                   exp3
                                    exp4
                                     exp5
                                      exp6
                                       exp7
                                        exp8
                                         exp9
                                          ref
                                           id
                                            f1
                              ,
                              arg
                               exp
                                exp1
                                 exp2
                                  exp3
                                   exp4
                                    exp5
                                     exp6
                                      exp7
                                       exp8
                                        exp9
                                         ref
                                          id
                                           f2
                             )
                THEN
                executable_list
                 executable
                  keyword_statement
                   write_statement
                    WRITE
                    exp_list
                     exp_list
                      exp
                       exp1
                        exp2
                         exp3
                          exp4
                           exp5
                            exp6
                             exp7
                              exp8
                               exp9
                                ref
                                 id
                                  f
                     ,
                     exp
                      exp1
                       exp2
                        exp3
                         exp4
                          exp5
                           exp6
                            exp7
                             exp8
                              exp9
                               string_literal
                                ' files are DIFFERENT'
                 ;
                opt_else_statement
                END
                IF
             ;
            END
            WHILE
         ;
       statement
        executable
         keyword_statement
          if_statement
           IF
           exp
            exp1
             exp2
              exp3
               exp3
                exp4
                 exp5
                  exp6
                   exp7
                    exp8
                     exp9
                      (
                      exp
                       exp1
                        exp1
                         exp2
                          exp3
                           exp4
                            exp5
                             exp6
                              exp7
                               exp8
                                exp9
                                 ref
                                  ref
                                   id
                                    lib$find_file_end
                                  argument_list
                                   (
                                   arg_list
                                    arg
                                     exp
                                      exp1
                                       exp2
                                        exp3
                                         exp4
                                          exp5
                                           exp6
                                            exp7
                                             exp8
                                              exp9
                                               ref
                                                id
                                                 context
                                   )
                        AND
                        exp2
                         exp3
                          exp4
                           exp5
                            exp6
                             exp7
                              exp8
                               exp9
                                1
                      )
               <>
               exp4
                exp5
                 exp6
                  exp7
                   exp8
                    exp9
                     1
           THEN
           executable_list
            executable
             keyword_statement
              write_statement
               WRITE
               exp_list
                exp
                 exp1
                  exp2
                   exp3
                    exp4
                     exp5
                      exp6
                       exp7
                        exp8
                         exp9
                          string_literal
                           'Error freeing the find_file context.'
            ;
           opt_else_statement
           END
           IF
        ;
     END
     PROCEDURE
   ;
  module_statement
   procedure_declaration
    proc_start
     PROCEDURE
     id
      same
    opt_parameter_list
     (
     parameter_list
      parameter_list
       parameter
        id
         s1
        :
        type_dec
         STRING
      ,
      parameter
       id
        s2
       :
       type_dec
        STRING
     )
    opt_result
     OF
     type_dec
      common_type_dec
       BOOLEAN
    ;
    body
     statement_list
      statement_list
       statement_list
        statement_list
         statement_list
          statement_list
           statement_list
            statement_list
             statement_list
              statement_list
               statement
                declaration
                 variable_declaration
                  DECLARE
                  name_list
                   name_list
                    pic_id
                     id
                      f1
                   ,
                   pic_id
                    id
                     f2
                  :
                  type_dec
                   FILE
                ;
              statement
               declaration
                variable_declaration
                 DECLARE
                 name_list
                  name_list
                   pic_id
                    id
                     l1
                  ,
                  pic_id
                   id
                    l2
                 :
                 type_dec
                  STRING
               ;
             statement
              declaration
               variable_declaration
                DECLARE
                name_list
                 pic_id
                  id
                   res
                :
                type_dec
                 common_type_dec
                  BOOLEAN
              ;
            statement
             executable
              keyword_statement
               open_statement
                OPEN
                file_ref
                 FILE
                 (
                 variable_ref
                  var_ref
                   write_id
                    id
                     f1
                 )
                AS
                exp
                 exp1
                  exp2
                   exp3
                    exp4
                     exp5
                      exp6
                       exp7
                        exp8
                         exp9
                          ref
                           id
                            s1
                open_type
                 FOR
                 INPUT
             ;
           statement
            executable
             keyword_statement
              open_statement
               OPEN
               file_ref
                FILE
                (
                variable_ref
                 var_ref
                  write_id
                   id
                    f2
                )
               AS
               exp
                exp1
                 exp2
                  exp3
                   exp4
                    exp5
                     exp6
                      exp7
                       exp8
                        exp9
                         ref
                          id
                           s2
               open_type
                FOR
                INPUT
            ;
          statement
           executable
            keyword_statement
             while_statement
              WHILE
              exp
               exp1
                exp1
                 exp2
                  NOT
                  exp2
                   exp3
                    exp4
                     exp5
                      exp6
                       exp7
                        exp8
                         exp9
                          ref
                           ref
                            id
                             ENDFILE
                           argument_list
                            (
                            arg_list
                             arg
                              exp
                               exp1
                                exp2
                                 exp3
                                  exp4
                                   exp5
                                    exp6
                                     exp7
                                      exp8
                                       exp9
                                        ref
                                         id
                                          f1
                            )
                AND
                exp2
                 NOT
                 exp2
                  exp3
                   exp4
                    exp5
                     exp6
                      exp7
                       exp8
                        exp9
                         ref
                          ref
                           id
                            ENDFILE
                          argument_list
                           (
                           arg_list
                            arg
                             exp
                              exp1
                               exp2
                                exp3
                                 exp4
                                  exp5
                                   exp6
                                    exp7
                                     exp8
                                      exp9
                                       ref
                                        id
                                         f2
                           )
              ;
              executable_list
               executable_list
                executable_list
                 executable
                  keyword_statement
                   read_statement
                    READ
                    file_ref
                     FILE
                     (
                     variable_ref
                      var_ref
                       write_id
                        id
                         f1
                     )
                    variable_ref
                     var_ref
                      write_id
                       id
                        l1
                 ;
                executable
                 keyword_statement
                  read_statement
                   READ
                   file_ref
                    FILE
                    (
                    variable_ref
                     var_ref
                      write_id
                       id
                        f2
                    )
                   variable_ref
                    var_ref
                     write_id
                      id
                       l2
                ;
               executable
                keyword_statement
                 if_statement
                  IF
                  exp
                   exp1
                    exp2
                     exp3
                      exp3
                       exp4
                        exp5
                         exp6
                          exp7
                           exp8
                            exp9
                             ref
                              id
                               l1
                      <>
                      exp4
                       exp5
                        exp6
                         exp7
                          exp8
                           exp9
                            ref
                             id
                              l2
                  THEN
                  executable_list
                   executable
                    keyword_statement
                     goto_statement
                      GOTO
                      id
                       different
                   ;
                  opt_else_statement
                  END
                  IF
               ;
              END
              WHILE
           ;
         statement
          executable
           variable_ref
            var_ref
             write_id
              id
               res
           =
           exp
            exp1
             exp2
              exp3
               exp4
                exp5
                 exp6
                  exp7
                   exp8
                    exp9
                     (
                     exp
                      exp1
                       exp2
                        exp3
                         exp3
                          exp4
                           exp5
                            exp6
                             exp7
                              exp8
                               exp9
                                ref
                                 ref
                                  id
                                   ENDFILE
                                 argument_list
                                  (
                                  arg_list
                                   arg
                                    exp
                                     exp1
                                      exp2
                                       exp3
                                        exp4
                                         exp5
                                          exp6
                                           exp7
                                            exp8
                                             exp9
                                              ref
                                               id
                                                f1
                                  )
                         =
                         exp4
                          exp5
                           exp6
                            exp7
                             exp8
                              exp9
                               ref
                                ref
                                 id
                                  ENDFILE
                                argument_list
                                 (
                                 arg_list
                                  arg
                                   exp
                                    exp1
                                     exp2
                                      exp3
                                       exp4
                                        exp5
                                         exp6
                                          exp7
                                           exp8
                                            exp9
                                             ref
                                              id
                                               f2
                                 )
                     )
          ;
        statement
         executable
          label
           id
            different
          :
          executable
           keyword_statement
            close_statement
             CLOSE
             file_ref
              FILE
              (
              variable_ref
               var_ref
                write_id
                 id
                  f1
              )
         ;
       statement
        executable
         keyword_statement
          close_statement
           CLOSE
           file_ref
            FILE
            (
            variable_ref
             var_ref
              write_id
               id
                f2
            )
        ;
      statement
       executable
        keyword_statement
         return_statement
          RETURN
          exp
           exp1
            exp2
             exp3
              exp4
               exp5
                exp6
                 exp7
                  exp8
                   exp9
                    ref
                     id
                      res
       ;
    END
    PROCEDURE
  ;
 end_module
  END
  MODULE
 ;
 <EOF>
