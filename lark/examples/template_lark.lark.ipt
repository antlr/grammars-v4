start_
 item
  rule_
   start
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        (
        expansions
         alias
          expansion
           expr
            atom
             value
              name
               _item
         |
         alias
          expansion
           expr
            atom
             value
              name
               _NL
        )
       *
 item
  rule_
   _item
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          rule
    |
    alias
     expansion
      expr
       atom
        value
         name
          token
    |
    alias
     expansion
      expr
       atom
        value
         name
          statement
 item
  rule_
   _rule_or_token
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          RULE
    |
    alias
     expansion
      expr
       atom
        value
         name
          TOKEN
 item
  rule_
   rule
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          RULE
      expr
       atom
        value
         name
          rule_params
      expr
       atom
        value
         name
          priority
       ?
      expr
       atom
        value
         ":"
      expr
       atom
        value
         name
          expansions
         {
         value
          name
           _rule_or_token
         }
      expr
       atom
        value
         name
          _NL
 item
  rule_
   token
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          TOKEN
      expr
       atom
        value
         name
          priority
       ?
      expr
       atom
        value
         ":"
      expr
       atom
        value
         name
          expansions
         {
         value
          name
           TOKEN
         }
      expr
       atom
        value
         name
          _NL
 item
  rule_
   rule_params
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        [
        expansions
         alias
          expansion
           expr
            atom
             value
              "{"
           expr
            atom
             value
              name
               RULE
           expr
            atom
             (
             expansions
              alias
               expansion
                expr
                 atom
                  value
                   ","
                expr
                 atom
                  value
                   name
                    RULE
             )
            *
           expr
            atom
             value
              "}"
        ]
 item
  rule_
   priority
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         "."
      expr
       atom
        value
         name
          NUMBER
 item
  rule_
   statement
   rule_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         "%ignore"
      expr
       atom
        value
         name
          expansions
         {
         value
          name
           TOKEN
         }
      expr
       atom
        value
         name
          _NL
     ->
     ignore
    |
    alias
     expansion
      expr
       atom
        value
         "%import"
      expr
       atom
        value
         name
          import_path
         {
         value
          name
           _rule_or_token
         }
      expr
       atom
        [
        expansions
         alias
          expansion
           expr
            atom
             value
              "->"
           expr
            atom
             value
              name
               _rule_or_token
        ]
      expr
       atom
        value
         name
          _NL
     ->
     import
    |
    alias
     expansion
      expr
       atom
        value
         "%import"
      expr
       atom
        value
         name
          import_path
         {
         value
          name
           _rule_or_token
         }
      expr
       atom
        value
         name
          name_list
         {
         value
          name
           _rule_or_token
         }
      expr
       atom
        value
         name
          _NL
     ->
     multi_import
    |
    alias
     expansion
      expr
       atom
        value
         "%declare"
      expr
       atom
        value
         name
          TOKEN
       +
     ->
     declare
 item
  rule_
   !import_path
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         "."
       ?
      expr
       atom
        value
         name
          name
      expr
       atom
        (
        expansions
         alias
          expansion
           expr
            atom
             value
              "."
           expr
            atom
             value
              name
               name
        )
       *
 item
  rule_
   name_list
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         "("
      expr
       atom
        value
         name
          name
      expr
       atom
        (
        expansions
         alias
          expansion
           expr
            atom
             value
              ","
           expr
            atom
             value
              name
               name
        )
       *
      expr
       atom
        value
         ")"
 item
  rule_
   ?expansions
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          alias
         {
         value
          name
           name
         }
      expr
       atom
        (
        expansions
         alias
          expansion
           expr
            atom
             value
              name
               _VBAR
           expr
            atom
             value
              name
               alias
              {
              value
               name
                name
              }
        )
       *
 item
  rule_
   ?alias
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          expansion
         {
         value
          name
           name
         }
      expr
       atom
        [
        expansions
         alias
          expansion
           expr
            atom
             value
              "->"
           expr
            atom
             value
              name
               RULE
        ]
 item
  rule_
   ?expansion
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          expr
         {
         value
          name
           name
         }
       *
 item
  rule_
   ?expr
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          atom
         {
         value
          name
           name
         }
      expr
       atom
        [
        expansions
         alias
          expansion
           expr
            atom
             value
              name
               OP
         |
         alias
          expansion
           expr
            atom
             value
              "~"
           expr
            atom
             value
              name
               NUMBER
           expr
            atom
             [
             expansions
              alias
               expansion
                expr
                 atom
                  value
                   ".."
                expr
                 atom
                  value
                   name
                    NUMBER
             ]
        ]
 item
  rule_
   ?atom
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         "("
      expr
       atom
        value
         name
          expansions
         {
         value
          name
           name
         }
      expr
       atom
        value
         ")"
    |
    alias
     expansion
      expr
       atom
        value
         "["
      expr
       atom
        value
         name
          expansions
         {
         value
          name
           name
         }
      expr
       atom
        value
         "]"
     ->
     maybe
    |
    alias
     expansion
      expr
       atom
        value
         name
          value
         {
         value
          name
           name
         }
 item
  rule_
   ?value
   rule_params
    {
    name
    }
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          STRING
      expr
       atom
        value
         ".."
      expr
       atom
        value
         name
          STRING
     ->
     literal_range
    |
    alias
     expansion
      expr
       atom
        value
         name
          name
    |
    alias
     expansion
      expr
       atom
        (
        expansions
         alias
          expansion
           expr
            atom
             value
              name
               REGEXP
         |
         alias
          expansion
           expr
            atom
             value
              name
               STRING
        )
     ->
     literal
    |
    alias
     expansion
      expr
       atom
        value
         name
          name
      expr
       atom
        value
         "{"
      expr
       atom
        value
         name
          value
         {
         value
          name
           name
         }
      expr
       atom
        (
        expansions
         alias
          expansion
           expr
            atom
             value
              ","
           expr
            atom
             value
              name
               value
              {
              value
               name
                name
              }
        )
       *
      expr
       atom
        value
         "}"
     ->
     template_usage
 item
  token
   _VBAR
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          _NL
       ?
      expr
       atom
        value
         "|"
 item
  token
   OP
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         /[+*]|[?](?![a-z])/
 item
  token
   RULE
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         /!?[_?]?[a-z][_a-z0-9]*/
 item
  token
   TOKEN
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         /_?[A-Z][_A-Z0-9]*/
 item
  token
   STRING
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          _STRING
      expr
       atom
        value
         "i"
       ?
 item
  token
   REGEXP
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         /\/(?!\/)(\\\/|\\\\|[^\/\n])*?\/[imslux]*/
 item
  token
   _NL
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         /(\r?\n)+\s*/
 item
  statement
   %import
   import_path
    name
     common
    .
    name
     ESCAPED_STRING
   ->
   name
    _STRING
 item
  statement
   %import
   import_path
    name
     common
    .
    name
     INT
   ->
   name
    NUMBER
 item
  statement
   %import
   import_path
    name
     common
    .
    name
     WS_INLINE
 item
  token
   COMMENT
   token_params
   :
   expansions
    alias
     expansion
      expr
       atom
        value
         /\s*/
      expr
       atom
        value
         "//"
      expr
       atom
        value
         /[^\n]/
       *
 item
  statement
   %ignore
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          WS_INLINE
 item
  statement
   %ignore
   expansions
    alias
     expansion
      expr
       atom
        value
         name
          COMMENT
 <EOF>
