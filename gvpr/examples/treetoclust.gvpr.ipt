preds
 pred
  BEG_G
  {
  program
   statement_list
    statement
     declare
      node_t
     dcl_list
      dcl_item
       dcl_name
        rt
    ;
    statement
     declare
      node_t
     dcl_list
      dcl_item
       dcl_name
        n
    ;
    statement
     declare
      graph_t
     dcl_list
      dcl_item
       dcl_name
        cg
    ;
    statement
     declare
      graph_t
     dcl_list
      dcl_item
       dcl_name
        sg
    ;
    statement
     declare
      int
     dcl_list
      dcl_item
       dcl_name
        depth
    ;
    statement
     declare
      int
     dcl_list
      dcl_item
       dcl_name
        mark
       array
        [
        declare
         node_t
        ]
    ;
    statement
     declare
      graph_t
     dcl_list
      dcl_item
       dcl_name
        stk
       array
        [
        declare
         int
        ]
    ;
    statement
     if
     (
     expr
      !
      expr
       variable
        $
        members
         .
         directed
     )
     statement
      {
      statement_list
       statement
        expr
         print_
          printf
         (
         args
          arg_list
           expr
            expr
             constant
              2
            ,
            expr
             constant
              "Input graph is not directed\n"
         )
       ;
       statement
        expr
         exit
         (
         expr
          constant
           1
         )
       ;
      }
    statement
     expr
      variable
       rt
      assign
       =
       expr
        function
         isNode
        (
        args
         arg_list
          expr
           expr
            variable
             $
           ,
           expr
            array_
             ARGV
            [
            args
             arg_list
              expr
               constant
                0
            ]
        )
    ;
    statement
     if
     (
     expr
      expr
       variable
        rt
      ==
      expr
       variable
        NULL
     )
     statement
      {
      statement_list
       statement
        expr
         print_
          printf
         (
         args
          arg_list
           expr
            expr
             expr
              constant
               2
             ,
             expr
              constant
               "Root node \"%s\" not found\n"
            ,
            expr
             array_
              ARGV
             [
             args
              arg_list
               expr
                constant
                 0
             ]
         )
       ;
       statement
        expr
         exit
         (
         expr
          constant
           1
         )
       ;
      }
    statement
     expr
      variable
       $tvroot
      assign
       =
       expr
        variable
         rt
    ;
    statement
     expr
      variable
       $tvtype
      assign
       =
       expr
        variable
         TV_prepostfwd
    ;
    statement
     expr
      variable
       cg
      assign
       =
       expr
        function
         graph
        (
        args
         arg_list
          expr
           expr
            variable
             rt
             members
              .
              name
           ,
           expr
            constant
             "U"
        )
    ;
  }
 pred
  N
  {
  program
   statement_list
    statement
     if
     (
     expr
      array_
       mark
      [
      args
       arg_list
        expr
         variable
          $
      ]
     )
     statement
      {
      statement_list
       statement
        expr
         variable
          depth
         --
       ;
      }
     else_
      else
      statement
       {
       statement_list
        statement
         expr
          variable
           mark
           index
            [
            expr
             variable
              $
            ]
          assign
           =
           expr
            constant
             1
        ;
        statement
         if
         (
         expr
          expr
           variable
            depth
          >
          expr
           constant
            0
         )
         statement
          {
          statement_list
           statement
            if
            (
            expr
             function
              fstout
             (
             args
              arg_list
               expr
                variable
                 $
             )
            )
            statement
             {
             statement_list
              statement
               expr
                variable
                 sg
                assign
                 =
                 expr
                  function
                   subg
                  (
                  args
                   arg_list
                    expr
                     expr
                      array_
                       stk
                      [
                      args
                       arg_list
                        expr
                         expr
                          variable
                           depth
                         -
                         expr
                          constant
                           1
                      ]
                     ,
                     expr
                      expr
                       constant
                        "cluster_"
                      +
                      expr
                       variable
                        $
                        members
                         .
                         name
                  )
              ;
              statement
               if
               (
               expr
                expr
                 (
                 expr
                  expr
                   variable
                    $
                    members
                     .
                     style
                  ==
                  expr
                   constant
                    "filled"
                 )
                &&
                expr
                 (
                 expr
                  expr
                   variable
                    $
                    members
                     .
                     fillcolor
                  !=
                  expr
                   constant
                    ""
                 )
               )
               statement
                expr
                 variable
                  sg
                  members
                   .
                   bgcolor
                 assign
                  =
                  expr
                   variable
                    $
                    members
                     .
                     fillcolor
              ;
             }
            else_
             else
             statement
              {
              statement_list
               statement
                expr
                 variable
                  sg
                 assign
                  =
                  expr
                   variable
                    NULL
               ;
               statement
                expr
                 variable
                  n
                 assign
                  =
                  expr
                   function
                    node
                   (
                   args
                    arg_list
                     expr
                      expr
                       array_
                        stk
                       [
                       args
                        arg_list
                         expr
                          expr
                           variable
                            depth
                          -
                          expr
                           constant
                            1
                       ]
                      ,
                      expr
                       variable
                        $
                        members
                         .
                         name
                   )
               ;
               statement
                expr
                 variable
                  n
                  members
                   .
                   style
                 assign
                  =
                  expr
                   constant
                    "filled"
               ;
               statement
                expr
                 variable
                  n
                  members
                   .
                   fillcolor
                 assign
                  =
                  expr
                   variable
                    $
                    members
                     .
                     fillcolor
               ;
              }
          }
         else_
          else
          statement
           expr
            variable
             sg
            assign
             =
             expr
              variable
               cg
        ;
        statement
         expr
          variable
           stk
           index
            [
            expr
             variable
              depth
            ]
          assign
           =
           expr
            variable
             sg
        ;
        statement
         expr
          variable
           depth
          ++
        ;
       }
  }
 pred
  END_G
  {
  program
   statement_list
    statement
     expr
      function
       write
      (
      args
       arg_list
        expr
         variable
          cg
      )
    ;
  }
 <EOF>
