preds
 pred
  BEGIN
  {
  program
   statement_list
    statement
     declare
      graph_t
     dcl_list
      dcl_item
       dcl_name
        dg
    ;
    statement
     declare
      graph_t
     dcl_list
      dcl_item
       dcl_name
        c
       array
        [
        declare
         node_t
        ]
    ;
    statement
     declare
      node_t
     dcl_list
      dcl_item
       dcl_name
        nmap
       array
        [
        declare
         node_t
        ]
    ;
    statement
     declare
      node_t
     dcl_list
      dcl_item
       dcl_name
        n
      ,
      dcl_item
       dcl_name
        n0
      ,
      dcl_item
       dcl_name
        dn
      ,
      dcl_item
       dcl_name
        dn0
    ;
    statement
     declare
      edge_t
     dcl_list
      dcl_item
       dcl_name
        e
    ;
    statement
     declare
      void
     fdcl_item
      dcl_name
       proc
      finitialize_
       (
       formals
        formal_list
         formal_list
          formal_item
           declare
            graph_t
           name
            h
         ,
         formal_item
          declare
           graph_t
          name
           g
       )
       {
       statement_list
        statement
         if
         (
         expr
          expr
           variable
            h
            members
             .
             name
          ==
          expr
           constant
            "cluster*"
         )
         statement
          {
          statement_list
           statement
            expr
             variable
              dn
             assign
              =
              expr
               function
                node
               (
               args
                arg_list
                 expr
                  expr
                   variable
                    dg
                  ,
                  expr
                   variable
                    h
                    members
                     .
                     name
               )
           ;
           statement
            expr
             variable
              dn
              members
               .
               _cnt
             assign
              =
              expr
               (
               declare
                string
               )
               expr
                (
                expr
                 variable
                  h
                  members
                   .
                   n_nodes
                )
           ;
           statement
            for
            (
            expr
             variable
              n
             assign
              =
              expr
               function
                fstnode
               (
               args
                arg_list
                 expr
                  variable
                   h
               )
            ;
            expr
             variable
              n
            ;
            expr
             variable
              n
             assign
              =
              expr
               function
                nxtnode_sg
               (
               args
                arg_list
                 expr
                  expr
                   variable
                    h
                  ,
                  expr
                   variable
                    n
               )
            )
            statement
             {
             statement_list
              statement
               expr
                variable
                 n0
                assign
                 =
                 expr
                  array_
                   nmap
                  [
                  args
                   arg_list
                    expr
                     variable
                      n
                  ]
              ;
              statement
               if
               (
               expr
                variable
                 n0
               )
               statement
                {
                statement_list
                 statement
                  expr
                   print_
                    printf
                   (
                   args
                    arg_list
                     expr
                      expr
                       expr
                        expr
                         expr
                          constant
                           2
                         ,
                         expr
                          constant
                           "node %s in %s and %s\n"
                        ,
                        expr
                         variable
                          n
                          members
                           .
                           name
                       ,
                       expr
                        variable
                         h
                         members
                          .
                          name
                      ,
                      expr
                       variable
                        n0
                        members
                         .
                         name
                   )
                 ;
                 statement
                  expr
                   exit
                   (
                   expr
                    constant
                     1
                   )
                 ;
                }
              statement
               expr
                variable
                 nmap
                 index
                  [
                  expr
                   variable
                    n
                  ]
                assign
                 =
                 expr
                  variable
                   dn
              ;
             }
           statement
            return
           ;
          }
        statement
         for
         (
         expr
          variable
           g
          assign
           =
           expr
            function
             fstsubg
            (
            args
             arg_list
              expr
               variable
                h
            )
         ;
         expr
          variable
           g
         ;
         expr
          variable
           g
          assign
           =
           expr
            function
             nxtsubg
            (
            args
             arg_list
              expr
               variable
                g
            )
         )
         statement
          {
          statement_list
           statement
            expr
             function
              proc
             (
             args
              arg_list
               expr
                expr
                 variable
                  g
                ,
                expr
                 variable
                  NULL
             )
           ;
          }
       }
  }
 pred
  BEG_G
  {
  program
   statement_list
    statement
     expr
      variable
       dg
      assign
       =
       expr
        function
         graph
        (
        args
         arg_list
          expr
           expr
            constant
             "clust"
           +
           expr
            expr
             variable
              name
            ,
            expr
             expr
              function
               isDirect
              (
              args
               arg_list
                expr
                 variable
                  $
              )
             ?
             expr
              constant
               "DS"
             :
             expr
              constant
               "US"
        )
    ;
    statement
     expr
      function
       setDflt
      (
      args
       arg_list
        expr
         expr
          expr
           expr
            variable
             dg
           ,
           expr
            constant
             "E"
          ,
          expr
           constant
            "_cnt"
         ,
         expr
          constant
           "0"
      )
    ;
    statement
     expr
      function
       setDflt
      (
      args
       arg_list
        expr
         expr
          expr
           expr
            variable
             dg
           ,
           expr
            constant
             "N"
          ,
          expr
           constant
            "_cnt"
         ,
         expr
          constant
           "0"
      )
    ;
    statement
     expr
      function
       proc
      (
      args
       arg_list
        expr
         expr
          variable
           $
         ,
         expr
          variable
           NULL
      )
    ;
    statement
     expr
      variable
       $tvtype
      assign
       =
       expr
        variable
         TV_ne
    ;
  }
 pred
  N
  [
  program
   statement_list
    statement
     expr
      !
      expr
       array_
        nmap
       [
       args
        arg_list
         expr
          variable
           $
       ]
  ]
  {
  program
   statement_list
    statement
     expr
      variable
       dn
      assign
       =
       expr
        function
         node
        (
        args
         arg_list
          expr
           expr
            variable
             dg
           ,
           expr
            variable
             name
        )
    ;
    statement
     expr
      variable
       nmap
       index
        [
        expr
         variable
          $
        ]
      assign
       =
       expr
        variable
         dn
    ;
  }
 pred
  E
  {
  program
   statement_list
    statement
     expr
      variable
       dn0
      assign
       =
       expr
        array_
         nmap
        [
        args
         arg_list
          expr
           variable
            $
            members
             .
             tail
        ]
    ;
    statement
     expr
      variable
       dn
      assign
       =
       expr
        array_
         nmap
        [
        args
         arg_list
          expr
           variable
            $
            members
             .
             head
        ]
    ;
    statement
     if
     (
     expr
      expr
       variable
        dn
      !=
      expr
       variable
        dn0
     )
     statement
      {
      statement_list
       statement
        expr
         variable
          e
         assign
          =
          expr
           function
            edge
           (
           args
            arg_list
             expr
              expr
               expr
                variable
                 dn0
               ,
               expr
                variable
                 dn
              ,
              expr
               constant
                ""
           )
       ;
       statement
        expr
         variable
          e
          members
           .
           _cnt
         assign
          =
          expr
           (
           declare
            string
           )
           expr
            (
            expr
             expr
              constant
               1
             +
             expr
              (
              declare
               int
              )
              expr
               variable
                e
                members
                 .
                 _cnt
            )
       ;
      }
  }
 pred
  END_G
  {
  program
   statement_list
    statement
     expr
      function
       write
      (
      args
       arg_list
        expr
         variable
          dg
      )
    ;
  }
 <EOF>
