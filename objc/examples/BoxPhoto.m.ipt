translationUnit
 topLevelDeclaration
  categoryInterface
   @interface
   genericTypeSpecifier
    identifier
     BoxPhoto
   (
   )
   instanceVariables
    {
    visibilitySection
     fieldDeclaration
      specifierQualifierList
       typeSpecifier
        genericTypeSpecifier
         identifier
          BOOL
      fieldDeclaratorList
       fieldDeclarator
        declarator
         directDeclarator
          identifier
           generatedGoodThumbs
      ;
    }
   @end
 topLevelDeclaration
  classImplementation
   @implementation
   genericTypeSpecifier
    identifier
     BoxPhoto
   implementationDefinitionList
    declaration
     varDeclaration
      declarationSpecifiers
       storageClassSpecifier
        static
       typeSpecifier
        genericTypeSpecifier
         identifier
          NSSet
      initDeclaratorList
       initDeclarator
        declarator
         pointer
          *
         directDeclarator
          identifier
           s_allowedExtensions
      ;
    classMethodDefinition
     +
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          void
       )
      methodSelector
       selector
        identifier
         initialize
      compoundStatement
       {
       statement
        selectionStatement
         if
         (
         expression
          castExpression
           unaryExpression
            unaryOperator
             !
            castExpression
             unaryExpression
              postfixExpression
               primaryExpression
                identifier
                 s_allowedExtensions
         )
         statement
          compoundStatement
           {
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  s_allowedExtensions
              assignmentOperator
               =
              expression
               castExpression
                unaryExpression
                 postfixExpression
                  primaryExpression
                   messageExpression
                    [
                    receiver
                     expression
                      castExpression
                       unaryExpression
                        postfixExpression
                         primaryExpression
                          messageExpression
                           [
                           receiver
                            expression
                             castExpression
                              unaryExpression
                               postfixExpression
                                primaryExpression
                                 identifier
                                  NSSet
                           messageSelector
                            selector
                             identifier
                              alloc
                           ]
                    messageSelector
                     keywordArgument
                      selector
                       identifier
                        initWithArray
                      :
                      keywordArgumentType
                       expressions
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             arrayExpression
                              @
                              [
                              expressions
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     JPEG
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     JPG
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     PNG
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     GIF
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     MOV
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     MP4
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     TIF
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     TIFF
                                     "
                               ,
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    stringLiteral
                                     @"
                                     BMP
                                     "
                              ]
                    ]
            ;
           }
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            NSString
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          stringValue
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSDictionary
          abstractDeclarator
           pointer
            *
         )
        identifier
         photo
       keywordDeclarator
        selector
         identifier
          name
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSString
          abstractDeclarator
           pointer
            *
         )
        identifier
         name
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             id
         initDeclaratorList
          initDeclarator
           declarator
            directDeclarator
             identifier
              rawValue
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  photo
                postfix
                 [
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       name
                 ]
         ;
       statement
        jumpStatement
         return
         expression
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               (
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    messageExpression
                     [
                     receiver
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            rawValue
                     messageSelector
                      keywordArgument
                       selector
                        identifier
                         isKindOfClass
                       :
                       keywordArgumentType
                        expressions
                         expression
                          castExpression
                           unaryExpression
                            postfixExpression
                             primaryExpression
                              messageExpression
                               [
                               receiver
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     identifier
                                      NSDictionary
                               messageSelector
                                selector
                                 identifier
                                  class
                               ]
                     ]
               )
          ?
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               identifier
                rawValue
              postfix
               [
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     TXT
               ]
          :
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               (
               expression
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     (
                     expression
                      castExpression
                       unaryExpression
                        postfixExpression
                         primaryExpression
                          messageExpression
                           [
                           receiver
                            expression
                             castExpression
                              unaryExpression
                               postfixExpression
                                primaryExpression
                                 identifier
                                  rawValue
                           messageSelector
                            keywordArgument
                             selector
                              identifier
                               isKindOfClass
                             :
                             keywordArgumentType
                              expressions
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    messageExpression
                                     [
                                     receiver
                                      expression
                                       castExpression
                                        unaryExpression
                                         postfixExpression
                                          primaryExpression
                                           identifier
                                            NSNull
                                     messageSelector
                                      selector
                                       identifier
                                        class
                                     ]
                           ]
                     )
                ?
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     constant
                      nil
                :
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             rawValue
                      messageSelector
                       selector
                        identifier
                         stringValue
                      ]
               )
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            instancetype
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          initUserInfoWithDictionary
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSDictionary
          abstractDeclarator
           pointer
            *
         )
        identifier
         photo
       keywordDeclarator
        selector
         identifier
          box
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BoxSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         box
      compoundStatement
       {
       statement
        selectionStatement
         if
         (
         expression
          unaryExpression
           postfixExpression
            primaryExpression
             identifier
              self
          assignmentOperator
           =
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               messageExpression
                [
                receiver
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       super
                messageSelector
                 selector
                  identifier
                   initEmpty
                ]
         )
         statement
          compoundStatement
           {
           statement
            tryBlock
             @try
             compoundStatement
              {
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSString
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     userId
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                self
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             stringValue
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  identifier
                                   photo
                          keywordArgument
                           selector
                            identifier
                             name
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   id
                                   "
                         ]
                ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    pid
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       userId
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    title
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              self
                       messageSelector
                        keywordArgument
                         selector
                          identifier
                           stringValue
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 photo
                        keywordArgument
                         selector
                          identifier
                           name
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                stringLiteral
                                 @"
                                 name
                                 "
                       ]
               ;
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSString
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     buddyUrl
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                self
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             stringValue
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  identifier
                                   photo
                          keywordArgument
                           selector
                            identifier
                             name
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   avatar_url
                                   "
                         ]
                ;
              statement
               expressions
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          setImagePath
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                PLTHUMB
                       keywordArgument
                        selector
                         identifier
                          url
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                buddyUrl
                      ]
               ;
              statement
               expressions
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          setImagePath
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                PLSQUARE
                       keywordArgument
                        selector
                         identifier
                          url
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                buddyUrl
                      ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    index
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      constant
                       0
               ;
              }
             catchStatement
              @catch
              (
              typeVariableDeclarator
               declarationSpecifiers
                typeSpecifier
                 genericTypeSpecifier
                  identifier
                   NSException
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  exception
              )
              compoundStatement
               {
               statement
                expressions
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       NSLog
                     postfix
                      (
                      argumentExpressionList
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             stringLiteral
                              @"
                              EX(BoxPhoto init) %@
                              "
                       ,
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              exception
                      )
                ;
               }
           }
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               self
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            NSString
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          createThumbnailPhotoUrl
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSString
          abstractDeclarator
           pointer
            *
         )
        identifier
         imageSize
       keywordDeclarator
        selector
         identifier
          box
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BoxSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         box
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              small
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         NSString
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      stringWithFormat
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           stringLiteral
                            @"
                            https://api.box.com/2.0/files/%@/thumbnail.png?min_height=%@&min_width=%@$%@$
                            "
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           messageExpression
                            [
                            receiver
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    self
                                 .
                                 identifier
                                  pid
                            messageSelector
                             selector
                              identifier
                               URLEncodedStringExceptSlash
                            ]
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            imageSize
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            imageSize
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             box
                          .
                          identifier
                           sessionKey
                  ]
         ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               small
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            NSString
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          createPhotoUrl
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BoxSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         box
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              small
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         NSString
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      stringWithFormat
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           stringLiteral
                            @"
                            https://api.box.com/2.0/files/%@/content$%@$
                            "
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           messageExpression
                            [
                            receiver
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    self
                                 .
                                 identifier
                                  pid
                            messageSelector
                             selector
                              identifier
                               URLEncodedStringExceptSlash
                            ]
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             box
                          .
                          identifier
                           sessionKey
                  ]
         ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               small
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            instancetype
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          initWithDictionary
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSDictionary
          abstractDeclarator
           pointer
            *
         )
        identifier
         photo
       keywordDeclarator
        selector
         identifier
          index
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSInteger
         )
        identifier
         indexInSet
       keywordDeclarator
        selector
         identifier
          box
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BoxSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         box
      compoundStatement
       {
       statement
        selectionStatement
         if
         (
         expression
          unaryExpression
           postfixExpression
            primaryExpression
             identifier
              self
          assignmentOperator
           =
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               messageExpression
                [
                receiver
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       super
                messageSelector
                 selector
                  identifier
                   initEmpty
                ]
         )
         statement
          compoundStatement
           {
           statement
            tryBlock
             @try
             compoundStatement
              {
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSString
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     fileName
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                self
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             stringValue
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  identifier
                                   photo
                          keywordArgument
                           selector
                            identifier
                             name
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   name
                                   "
                         ]
                ;
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSString
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     upperFileExt
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 fileName
                              .
                              identifier
                               uppercaseString
                         messageSelector
                          selector
                           identifier
                            pathExtension
                         ]
                ;
              statement
               selectionStatement
                if
                (
                expression
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     postfixExpression
                      primaryExpression
                       identifier
                        upperFileExt
                     .
                     identifier
                      length
                 &&
                 expression
                  castExpression
                   unaryExpression
                    unaryOperator
                     !
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                s_allowedExtensions
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             containsObject
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  identifier
                                   upperFileExt
                         ]
                )
                statement
                 jumpStatement
                  return
                  expression
                   castExpression
                    unaryExpression
                     postfixExpression
                      primaryExpression
                       constant
                        nil
                 ;
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSString
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     fileId
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                self
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             stringValue
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  identifier
                                   photo
                          keywordArgument
                           selector
                            identifier
                             name
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   id
                                   "
                         ]
                ;
              statement
               selectionStatement
                if
                (
                expression
                 castExpression
                  unaryExpression
                   unaryOperator
                    !
                   castExpression
                    unaryExpression
                     postfixExpression
                      primaryExpression
                       identifier
                        fileId
                )
                statement
                 expressions
                  expression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       fileId
                   assignmentOperator
                    =
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                self
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             stringValue
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  identifier
                                   photo
                          keywordArgument
                           selector
                            identifier
                             name
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   file_id
                                   "
                         ]
                 ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    pid
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       fileId
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    title
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              self
                       messageSelector
                        keywordArgument
                         selector
                          identifier
                           stringValue
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 photo
                        keywordArgument
                         selector
                          identifier
                           name
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                stringLiteral
                                 @"
                                 name
                                 "
                       ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    visibility
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       PhotoVisiblePrivate
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    folderId
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              photo
                            postfix
                             [
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   parent
                                   "
                             ]
                            postfix
                             [
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   id
                                   "
                             ]
                       messageSelector
                        selector
                         identifier
                          stringValue
                       ]
               ;
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    BOOL
                initDeclaratorList
                 initDeclarator
                  declarator
                   directDeclarator
                    identifier
                     isVideo
                  =
                  initializer
                   expression
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 upperFileExt
                          messageSelector
                           keywordArgument
                            selector
                             identifier
                              isEqualToString
                            :
                            keywordArgumentType
                             expressions
                              expression
                               castExpression
                                unaryExpression
                                 postfixExpression
                                  primaryExpression
                                   stringLiteral
                                    @"
                                    MOV
                                    "
                          ]
                    ||
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 upperFileExt
                          messageSelector
                           keywordArgument
                            selector
                             identifier
                              isEqualToString
                            :
                            keywordArgumentType
                             expressions
                              expression
                               castExpression
                                unaryExpression
                                 postfixExpression
                                  primaryExpression
                                   stringLiteral
                                    @"
                                    MP4
                                    "
                          ]
                ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    index
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       indexInSet
               ;
              statement
               selectionStatement
                if
                (
                expression
                 castExpression
                  unaryExpression
                   unaryOperator
                    !
                   castExpression
                    unaryExpression
                     postfixExpression
                      postfixExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                       .
                       identifier
                        title
                      .
                      identifier
                       length
                )
                statement
                 expressions
                  expression
                   unaryExpression
                    postfixExpression
                     postfixExpression
                      primaryExpression
                       identifier
                        self
                     .
                     identifier
                      title
                   assignmentOperator
                    =
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         fileName
                 ;
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSDictionary
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     ownerInfo
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         photo
                       postfix
                        [
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             stringLiteral
                              @"
                              owned_by
                              "
                        ]
                ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    ownerId
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              ownerInfo
                            postfix
                             [
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   id
                                   "
                             ]
                       messageSelector
                        selector
                         identifier
                          stringValue
                       ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    ownerName
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       ownerInfo
                     postfix
                      [
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           stringLiteral
                            @"
                            name
                            "
                      ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    caption
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       photo
                     postfix
                      [
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           stringLiteral
                            @"
                            description
                            "
                      ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    visibility
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       PhotoVisiblePrivate
               ;
              statement
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    dateUploaded
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              DateConversion
                       messageSelector
                        keywordArgument
                         selector
                          identifier
                           parseYmdhmsTZTZDate
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 photo
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      created_at
                                      "
                                ]
                       ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    byteSize
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             messageExpression
                              [
                              receiver
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    identifier
                                     self
                              messageSelector
                               keywordArgument
                                selector
                                 identifier
                                  stringValue
                                :
                                keywordArgumentType
                                 expressions
                                  expression
                                   castExpression
                                    unaryExpression
                                     postfixExpression
                                      primaryExpression
                                       identifier
                                        photo
                               keywordArgument
                                selector
                                 identifier
                                  name
                                :
                                keywordArgumentType
                                 expressions
                                  expression
                                   castExpression
                                    unaryExpression
                                     postfixExpression
                                      primaryExpression
                                       stringLiteral
                                        @"
                                        size
                                        "
                              ]
                       messageSelector
                        selector
                         identifier
                          longLongValue
                       ]
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    mediaType
                 assignmentOperator
                  =
                 expression
                  expression
                   castExpression
                    unaryExpression
                     postfixExpression
                      primaryExpression
                       (
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             isVideo
                       )
                  ?
                  expression
                   castExpression
                    unaryExpression
                     postfixExpression
                      primaryExpression
                       identifier
                        PhotoMediaVideo
                  :
                  expression
                   castExpression
                    unaryExpression
                     postfixExpression
                      primaryExpression
                       identifier
                        PhotoMediaPhoto
               ;
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    permissions
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              BoxPhoto
                       messageSelector
                        keywordArgument
                         selector
                          identifier
                           boxPermissionFromDictionary
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 photo
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      permissions
                                      "
                                ]
                       ]
               ;
              declaration
               varDeclaration
                declarationSpecifiers
                 typeSpecifier
                  genericTypeSpecifier
                   identifier
                    NSDictionary
                initDeclaratorList
                 initDeclarator
                  declarator
                   pointer
                    *
                   directDeclarator
                    identifier
                     sharedLink
                  =
                  initializer
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         photo
                       postfix
                        [
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             stringLiteral
                              @"
                              shared_link
                              "
                        ]
                ;
              statement
               selectionStatement
                if
                (
                expression
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       sharedLink
                 &&
                 expression
                  castExpression
                   unaryExpression
                    unaryOperator
                     !
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                sharedLink
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             isKindOfClass
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  messageExpression
                                   [
                                   receiver
                                    expression
                                     castExpression
                                      unaryExpression
                                       postfixExpression
                                        primaryExpression
                                         identifier
                                          NSNull
                                   messageSelector
                                    selector
                                     identifier
                                      class
                                   ]
                         ]
                )
                statement
                 compoundStatement
                  {
                  statement
                   expressions
                    expression
                     unaryExpression
                      postfixExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                       .
                       identifier
                        shareLink
                     assignmentOperator
                      =
                     expression
                      castExpression
                       unaryExpression
                        postfixExpression
                         primaryExpression
                          identifier
                           sharedLink
                         postfix
                          [
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               stringLiteral
                                @"
                                url
                                "
                          ]
                   ;
                  statement
                   expressions
                    expression
                     unaryExpression
                      postfixExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                       .
                       identifier
                        visibility
                     assignmentOperator
                      =
                     expression
                      castExpression
                       unaryExpression
                        postfixExpression
                         primaryExpression
                          identifier
                           PhotoVisiblePublic
                   ;
                  }
              statement
               expressions
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          setImagePathsFromDictionary
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                photo
                       keywordArgument
                        selector
                         identifier
                          box
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                box
                      ]
               ;
              }
             catchStatement
              @catch
              (
              typeVariableDeclarator
               declarationSpecifiers
                typeSpecifier
                 genericTypeSpecifier
                  identifier
                   NSException
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  exception
              )
              compoundStatement
               {
               statement
                expressions
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       NSLog
                     postfix
                      (
                      argumentExpressionList
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             stringLiteral
                              @"
                              EX(BoxPhoto init) %@
                              "
                       ,
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              exception
                      )
                ;
               }
           }
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               self
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          void
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          setImagePathsFromDictionary
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSDictionary
          abstractDeclarator
           pointer
            *
         )
        identifier
         photo
       keywordDeclarator
        selector
         identifier
          box
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BoxSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         box
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              original
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         self
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      createPhotoUrl
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            box
                  ]
         ;
       statement
        selectionStatement
         if
         (
         expression
          expression
           castExpression
            unaryExpression
             postfixExpression
              postfixExpression
               primaryExpression
                identifier
                 self
              .
              identifier
               mediaType
          ==
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               identifier
                PhotoMediaVideo
         )
         statement
          compoundStatement
           {
           declaration
            varDeclaration
             declarationSpecifiers
              typeSpecifier
               genericTypeSpecifier
                identifier
                 NSString
             initDeclaratorList
              initDeclarator
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  videoImage
               =
               initializer
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     stringLiteral
                      @"
                      page_white_film
                      "
             ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       setImagePath
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             PLSQUARE
                    keywordArgument
                     selector
                      identifier
                       url
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             videoImage
                   ]
            ;
           }
         else
         statement
          compoundStatement
           {
           declaration
            varDeclaration
             declarationSpecifiers
              typeSpecifier
               genericTypeSpecifier
                identifier
                 NSString
             initDeclaratorList
              initDeclarator
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  thumb
               =
               initializer
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          createThumbnailPhotoUrl
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               stringLiteral
                                @"
                                128
                                "
                       keywordArgument
                        selector
                         identifier
                          box
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                box
                      ]
             ;
           declaration
            varDeclaration
             declarationSpecifiers
              typeSpecifier
               genericTypeSpecifier
                identifier
                 NSString
             initDeclaratorList
              initDeclarator
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  small
               =
               initializer
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          createThumbnailPhotoUrl
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               stringLiteral
                                @"
                                256
                                "
                       keywordArgument
                        selector
                         identifier
                          box
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                box
                      ]
             ;
           declaration
            varDeclaration
             declarationSpecifiers
              typeSpecifier
               genericTypeSpecifier
                identifier
                 NSString
             initDeclaratorList
              initDeclarator
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  medium
               =
               initializer
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          createThumbnailPhotoUrl
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               stringLiteral
                                @"
                                256
                                "
                       keywordArgument
                        selector
                         identifier
                          box
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                box
                      ]
             ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       setImagePath
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             PLSQUARE
                    keywordArgument
                     selector
                      identifier
                       url
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             thumb
                   ]
            ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       setImagePath
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             PLTHUMB
                    keywordArgument
                     selector
                      identifier
                       url
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             thumb
                   ]
            ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       setImagePath
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             PLSMALL
                    keywordArgument
                     selector
                      identifier
                       url
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             small
                   ]
            ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       setImagePath
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             PLMEDIUM
                    keywordArgument
                     selector
                      identifier
                       url
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             medium
                   ]
            ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       setImagePath
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             PLLARGE
                    keywordArgument
                     selector
                      identifier
                       url
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             original
                   ]
            ;
           }
       statement
        expressions
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
               messageSelector
                keywordArgument
                 selector
                  identifier
                   setImagePath
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         PLORIGINAL
                keywordArgument
                 selector
                  identifier
                   url
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         original
               ]
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          void
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          encodeWithCoder
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSCoder
          abstractDeclarator
           pointer
            *
         )
        identifier
         aCoder
      compoundStatement
       {
       statement
        tryBlock
         @try
         compoundStatement
          {
          statement
           expressions
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         super
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      encodeWithCoder
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            aCoder
                  ]
           ;
          statement
           expressions
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         aCoder
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      encodeInt32
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                          .
                          identifier
                           permissions
                   keywordArgument
                    selector
                     identifier
                      forKey
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            kn_permissions
                  ]
           ;
          }
         catchStatement
          @catch
          (
          typeVariableDeclarator
           declarationSpecifiers
            typeSpecifier
             genericTypeSpecifier
              identifier
               NSException
           declarator
            pointer
             *
            directDeclarator
             identifier
              exception
          )
          compoundStatement
           {
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  identifier
                   NSLog
                 postfix
                  (
                  argumentExpressionList
                   argumentExpression
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         stringLiteral
                          @"
                          Problem saving photo : %@,%@
                          "
                   ,
                   argumentExpression
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        postfixExpression
                         primaryExpression
                          identifier
                           self
                        .
                        identifier
                         pid
                   ,
                   argumentExpression
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          exception
                  )
            ;
           }
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            instancetype
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          initWithCoder
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSCoder
          abstractDeclarator
           pointer
            *
         )
        identifier
         aDecoder
      compoundStatement
       {
       statement
        selectionStatement
         if
         (
         expression
          unaryExpression
           postfixExpression
            primaryExpression
             identifier
              self
          assignmentOperator
           =
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               messageExpression
                [
                receiver
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       super
                messageSelector
                 keywordArgument
                  selector
                   identifier
                    initWithCoder
                  :
                  keywordArgumentType
                   expressions
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          aDecoder
                ]
         )
         statement
          compoundStatement
           {
           statement
            tryBlock
             @try
             compoundStatement
              {
              statement
               expressions
                expression
                 unaryExpression
                  postfixExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
                   .
                   identifier
                    permissions
                 assignmentOperator
                  =
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              aDecoder
                       messageSelector
                        keywordArgument
                         selector
                          identifier
                           decodeObjectForKey
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 kn_permissions
                       ]
               ;
              }
             catchStatement
              @catch
              (
              typeVariableDeclarator
               declarationSpecifiers
                typeSpecifier
                 genericTypeSpecifier
                  identifier
                   NSException
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  exception
              )
              compoundStatement
               {
               statement
                expressions
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       NSLog
                     postfix
                      (
                      argumentExpressionList
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             stringLiteral
                              @"
                              Problem loading photo : %@,%@
                              "
                       ,
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            postfixExpression
                             primaryExpression
                              identifier
                               self
                            .
                            identifier
                             pid
                       ,
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              exception
                      )
                ;
               }
           }
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               self
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            id
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          copyWithZone
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSZone
          abstractDeclarator
           pointer
            *
         )
        identifier
         zone
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             BoxPhoto
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              n
           =
           initializer
            expression
             castExpression
              (
              typeName
               specifierQualifierList
                typeSpecifier
                 genericTypeSpecifier
                  identifier
                   BoxPhoto
               abstractDeclarator
                pointer
                 *
              )
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          super
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       copyWithZone
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             zone
                   ]
         ;
       statement
        expressions
         expression
          unaryExpression
           postfixExpression
            postfixExpression
             primaryExpression
              identifier
               n
            .
            identifier
             permissions
          assignmentOperator
           =
          expression
           castExpression
            unaryExpression
             postfixExpression
              postfixExpression
               primaryExpression
                identifier
                 self
              .
              identifier
               permissions
        ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               n
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          void
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          updatePhotoUrls
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSDictionary
          abstractDeclarator
           pointer
            *
         )
        identifier
         urlDictionary
       keywordDeclarator
        selector
         identifier
          session
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              ProviderSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         session
      compoundStatement
       {
       statement
        expressions
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
               messageSelector
                selector
                 identifier
                  removeImagesFromCache
               ]
        ;
       statement
        expressions
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
               messageSelector
                keywordArgument
                 selector
                  identifier
                   setImagePathsFromDictionary
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         urlDictionary
                keywordArgument
                 selector
                  identifier
                   box
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     (
                     typeName
                      specifierQualifierList
                       typeSpecifier
                        genericTypeSpecifier
                         identifier
                          BoxSession
                      abstractDeclarator
                       pointer
                        *
                     )
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          session
               ]
        ;
       statement
        expressions
         expression
          unaryExpression
           postfixExpression
            postfixExpression
             postfixExpression
              primaryExpression
               identifier
                self
             .
             identifier
              providerPhotoSource
            .
            identifier
             saved
          assignmentOperator
           =
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               constant
                NO
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            ProviderPhotoInfo
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          photoInfo
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              ProviderSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         session
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             ProviderPhotoInfo
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              created
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         super
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      photoInfo
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            session
                  ]
         ;
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             BoxPhotoInfo
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              boxInfo
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  SAFE_CAST
                postfix
                 (
                 argumentExpressionList
                  argumentExpression
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         created
                  ,
                  argumentExpression
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         BoxPhotoInfo
                 )
         ;
       statement
        expressions
         expression
          unaryExpression
           postfixExpression
            postfixExpression
             primaryExpression
              identifier
               boxInfo
            .
            identifier
             isFolder
          assignmentOperator
           =
          expression
           castExpression
            unaryExpression
             postfixExpression
              postfixExpression
               primaryExpression
                identifier
                 self
              .
              identifier
               container
        ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               created
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            BOOL
       )
      methodSelector
       selector
        identifier
         canShareThumbnail
      compoundStatement
       {
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              constant
               NO
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            NSURL
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          getBrowserUrl
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              ProviderSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         flickrSession
      compoundStatement
       {
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      NSURL
               messageSelector
                keywordArgument
                 selector
                  identifier
                   URLWithString
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        messageExpression
                         [
                         receiver
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                NSString
                         messageSelector
                          keywordArgument
                           selector
                            identifier
                             stringWithFormat
                           :
                           keywordArgumentType
                            expressions
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 primaryExpression
                                  stringLiteral
                                   @"
                                   https://www.box.com/files#/files/0/f/%@/1/f_%@
                                   "
                             ,
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    self
                                 .
                                 identifier
                                  folderId
                             ,
                             expression
                              castExpression
                               unaryExpression
                                postfixExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    self
                                 .
                                 identifier
                                  pid
                         ]
               ]
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            NSString
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       selector
        identifier
         shareLinkRequestPath
      compoundStatement
       {
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      NSString
               messageSelector
                keywordArgument
                 selector
                  identifier
                   stringWithFormat
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        stringLiteral
                         @"
                         files/%@
                         "
                   ,
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          self
                       .
                       identifier
                        pid
               ]
        ;
       statement
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          void
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          generateShareLink
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BoxSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         session
       keywordDeclarator
        selector
         identifier
          delegate
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              id
             <
             protocolList
              protocolName
               identifier
                FSFilePhotoDelegate
             >
         )
        identifier
         delegate
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              path
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         self
                  messageSelector
                   selector
                    identifier
                     shareLinkRequestPath
                  ]
         ;
       declaration
        varDeclaration
         declarationSpecifiers
          arcBehaviourSpecifier
           __weak
          typeSpecifier
           genericTypeSpecifier
            identifier
             id
            <
            protocolList
             protocolName
              identifier
               FSFilePhotoDelegate
            >
         initDeclaratorList
          initDeclarator
           declarator
            directDeclarator
             identifier
              linkDelegate
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  delegate
         ;
       statement
        expressions
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      session
               messageSelector
                keywordArgument
                 selector
                  identifier
                   requestPutJSONOAuth2WithPath
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         path
                keywordArgument
                 selector
                  identifier
                   params
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        dictionaryExpression
                         @
                         {
                         dictionaryPair
                          castExpression
                           unaryExpression
                            postfixExpression
                             primaryExpression
                              stringLiteral
                               @"
                               shared_link
                               "
                          :
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               dictionaryExpression
                                @
                                {
                                dictionaryPair
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      access
                                      "
                                 :
                                 expression
                                  castExpression
                                   unaryExpression
                                    postfixExpression
                                     primaryExpression
                                      stringLiteral
                                       @"
                                       open
                                       "
                                }
                         }
                keywordArgument
                 selector
                  identifier
                   response
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        blockExpression
                         ^
                         blockParameters
                          (
                          typeVariableDeclaratorOrName
                           typeVariableDeclarator
                            declarationSpecifiers
                             typeSpecifier
                              genericTypeSpecifier
                               identifier
                                NSDictionary
                            declarator
                             pointer
                              *
                             directDeclarator
                              identifier
                               response
                          ,
                          typeVariableDeclaratorOrName
                           typeVariableDeclarator
                            declarationSpecifiers
                             typeSpecifier
                              genericTypeSpecifier
                               identifier
                                NSError
                            declarator
                             pointer
                              *
                             directDeclarator
                              identifier
                               error
                          )
                         compoundStatement
                          {
                          statement
                           selectionStatement
                            if
                            (
                            expression
                             castExpression
                              unaryExpression
                               unaryOperator
                                !
                               castExpression
                                unaryExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    error
                            )
                            statement
                             compoundStatement
                              {
                              declaration
                               varDeclaration
                                declarationSpecifiers
                                 typeSpecifier
                                  genericTypeSpecifier
                                   identifier
                                    NSString
                                initDeclaratorList
                                 initDeclarator
                                  declarator
                                   pointer
                                    *
                                   directDeclarator
                                    identifier
                                     link
                                  =
                                  initializer
                                   expression
                                    castExpression
                                     unaryExpression
                                      postfixExpression
                                       primaryExpression
                                        identifier
                                         response
                                       postfix
                                        [
                                        expression
                                         castExpression
                                          unaryExpression
                                           postfixExpression
                                            primaryExpression
                                             stringLiteral
                                              @"
                                              shared_link
                                              "
                                        ]
                                       postfix
                                        [
                                        expression
                                         castExpression
                                          unaryExpression
                                           postfixExpression
                                            primaryExpression
                                             stringLiteral
                                              @"
                                              url
                                              "
                                        ]
                                ;
                              statement
                               expressions
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     messageExpression
                                      [
                                      receiver
                                       expression
                                        castExpression
                                         unaryExpression
                                          postfixExpression
                                           primaryExpression
                                            identifier
                                             self
                                      messageSelector
                                       keywordArgument
                                        selector
                                         identifier
                                          updateReceivedShareLink
                                        :
                                        keywordArgumentType
                                         expressions
                                          expression
                                           castExpression
                                            unaryExpression
                                             postfixExpression
                                              primaryExpression
                                               identifier
                                                link
                                       keywordArgument
                                        selector
                                         identifier
                                          updateVisibility
                                        :
                                        keywordArgumentType
                                         expressions
                                          expression
                                           castExpression
                                            unaryExpression
                                             postfixExpression
                                              primaryExpression
                                               constant
                                                YES
                                      ]
                               ;
                              }
                          statement
                           expressions
                            expression
                             castExpression
                              unaryExpression
                               postfixExpression
                                primaryExpression
                                 identifier
                                  runOnMainThread
                                postfix
                                 (
                                 argumentExpressionList
                                  argumentExpression
                                   expression
                                    castExpression
                                     unaryExpression
                                      postfixExpression
                                       primaryExpression
                                        blockExpression
                                         ^
                                         compoundStatement
                                          {
                                          statement
                                           expressions
                                            expression
                                             castExpression
                                              unaryExpression
                                               postfixExpression
                                                primaryExpression
                                                 messageExpression
                                                  [
                                                  receiver
                                                   expression
                                                    castExpression
                                                     unaryExpression
                                                      postfixExpression
                                                       primaryExpression
                                                        identifier
                                                         linkDelegate
                                                  messageSelector
                                                   keywordArgument
                                                    selector
                                                     identifier
                                                      linkReceived
                                                    :
                                                    keywordArgumentType
                                                     expressions
                                                      expression
                                                       castExpression
                                                        unaryExpression
                                                         postfixExpression
                                                          primaryExpression
                                                           identifier
                                                            self
                                                   keywordArgument
                                                    selector
                                                     identifier
                                                      error
                                                    :
                                                    keywordArgumentType
                                                     expressions
                                                      expression
                                                       castExpression
                                                        unaryExpression
                                                         postfixExpression
                                                          primaryExpression
                                                           identifier
                                                            error
                                                  ]
                                           ;
                                          }
                                 )
                           ;
                          }
               ]
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            UIImage
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          getCalculatedImage
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              PhotoSize
         )
        identifier
         photoSize
       keywordDeclarator
        selector
         identifier
          targetSize
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              CGFloat
         )
        identifier
         targetSize
      compoundStatement
       {
       statement
        selectionStatement
         if
         (
         expression
          expression
           castExpression
            unaryExpression
             postfixExpression
              postfixExpression
               primaryExpression
                identifier
                 self
              .
              identifier
               mediaType
          ==
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               identifier
                PhotoMediaVideo
         )
         statement
          jumpStatement
           return
           expression
            castExpression
             unaryExpression
              postfixExpression
               primaryExpression
                messageExpression
                 [
                 receiver
                  expression
                   castExpression
                    unaryExpression
                     postfixExpression
                      primaryExpression
                       identifier
                        super
                 messageSelector
                  keywordArgument
                   selector
                    identifier
                     generateStaticFolderImage
                   :
                   keywordArgumentType
                    expressions
                     expression
                      castExpression
                       unaryExpression
                        postfixExpression
                         primaryExpression
                          identifier
                           photoSize
                  keywordArgument
                   selector
                    identifier
                     targetSize
                   :
                   keywordArgumentType
                    expressions
                     expression
                      castExpression
                       unaryExpression
                        postfixExpression
                         primaryExpression
                          identifier
                           targetSize
                 ]
          ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              constant
               nil
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            UIImage
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          getOverlayImage
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              ProviderPhotoSource
          abstractDeclarator
           pointer
            *
         )
        identifier
         source
      compoundStatement
       {
       statement
        selectionStatement
         if
         (
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      self
               messageSelector
                keywordArgument
                 selector
                  identifier
                   isNotAvailable
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         source
               ]
         )
         statement
          compoundStatement
           {
           statement
            jumpStatement
             return
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          super
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       getOverlayImage
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             source
                   ]
            ;
           }
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              constant
               nil
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          void
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          getVideoUrl
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              ProviderSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         boxSession
       keywordDeclarator
        selector
         identifier
          liveView
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              BOOL
         )
        identifier
         liveView
       keywordDeclarator
        selector
         identifier
          downloadSize
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              PhotoSize
         )
        identifier
         downloadSize
       keywordDeclarator
        selector
         identifier
          videoBlock
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              VideoUrlBlock
         )
        identifier
         videoUrlBlock
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              videoPath
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         self
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      getRemoteImagePath
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           identifier
                            PLORIGINAL
                  ]
         ;
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSArray
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              splitVideoUrl
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         videoPath
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      componentsSeparatedByString
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           stringLiteral
                            @"
                            $
                            "
                  ]
         ;
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              imageRequestUrl
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  splitVideoUrl
                postfix
                 [
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      constant
                       0
                 ]
         ;
       statement
        selectionStatement
         if
         (
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               liveView
         )
         statement
          compoundStatement
           {
           declaration
            varDeclaration
             declarationSpecifiers
              typeSpecifier
               genericTypeSpecifier
                identifier
                 NSString
             initDeclaratorList
              initDeclarator
               declarator
                pointer
                 *
                directDeclarator
                 identifier
                  localUrl
               =
               initializer
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            messageExpression
                             [
                             receiver
                              expression
                               castExpression
                                unaryExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    FSPhotoCache
                             messageSelector
                              selector
                               identifier
                                sharedCache
                             ]
                      messageSelector
                       keywordArgument
                        selector
                         identifier
                          filenameForCachedURL
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               identifier
                                videoPath
                       keywordArgument
                        selector
                         identifier
                          extension
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 self
                              .
                              identifier
                               fileExtension
                       keywordArgument
                        selector
                         identifier
                          fullPath
                        :
                        keywordArgumentType
                         expressions
                          expression
                           castExpression
                            unaryExpression
                             postfixExpression
                              primaryExpression
                               constant
                                YES
                      ]
             ;
           statement
            selectionStatement
             if
             (
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  identifier
                   localUrl
             )
             statement
              compoundStatement
               {
               statement
                expressions
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       videoUrlBlock
                     postfix
                      (
                      argumentExpressionList
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             messageExpression
                              [
                              receiver
                               expression
                                castExpression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    identifier
                                     NSURL
                              messageSelector
                               keywordArgument
                                selector
                                 identifier
                                  fileURLWithPath
                                :
                                keywordArgumentType
                                 expressions
                                  expression
                                   castExpression
                                    unaryExpression
                                     postfixExpression
                                      primaryExpression
                                       identifier
                                        localUrl
                              ]
                       ,
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             constant
                              nil
                       ,
                       argumentExpression
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              videoPath
                      )
                ;
               }
             else
             statement
              compoundStatement
               {
               declaration
                varDeclaration
                 declarationSpecifiers
                  typeSpecifier
                   genericTypeSpecifier
                    identifier
                     VideoUrlBlock
                 initDeclaratorList
                  initDeclarator
                   declarator
                    directDeclarator
                     identifier
                      videoLocalBlock
                   =
                   initializer
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 videoUrlBlock
                          messageSelector
                           selector
                            identifier
                             copy
                          ]
                 ;
               statement
                expressions
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      messageExpression
                       [
                       receiver
                        expression
                         castExpression
                          unaryExpression
                           postfixExpression
                            primaryExpression
                             identifier
                              boxSession
                       messageSelector
                        keywordArgument
                         selector
                          identifier
                           createAuthenticatedURLRequestForPhoto
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 imageRequestUrl
                        keywordArgument
                         selector
                          identifier
                           executeRequest
                         :
                         keywordArgumentType
                          expressions
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                blockExpression
                                 ^
                                 blockParameters
                                  (
                                  typeVariableDeclaratorOrName
                                   typeVariableDeclarator
                                    declarationSpecifiers
                                     typeSpecifier
                                      genericTypeSpecifier
                                       identifier
                                        NetworkRequest
                                    declarator
                                     pointer
                                      *
                                     directDeclarator
                                      identifier
                                       networkRequest
                                  )
                                 compoundStatement
                                  {
                                  statement
                                   expressions
                                    expression
                                     unaryExpression
                                      postfixExpression
                                       postfixExpression
                                        primaryExpression
                                         identifier
                                          networkRequest
                                       .
                                       identifier
                                        ignoreRedirect
                                     assignmentOperator
                                      =
                                     expression
                                      castExpression
                                       unaryExpression
                                        postfixExpression
                                         primaryExpression
                                          constant
                                           YES
                                   ;
                                  statement
                                   expressions
                                    expression
                                     castExpression
                                      unaryExpression
                                       postfixExpression
                                        primaryExpression
                                         messageExpression
                                          [
                                          receiver
                                           expression
                                            castExpression
                                             unaryExpression
                                              postfixExpression
                                               primaryExpression
                                                identifier
                                                 networkRequest
                                          messageSelector
                                           keywordArgument
                                            selector
                                             identifier
                                              openWithStringResponse
                                            :
                                            keywordArgumentType
                                             expressions
                                              expression
                                               castExpression
                                                unaryExpression
                                                 postfixExpression
                                                  primaryExpression
                                                   blockExpression
                                                    ^
                                                    blockParameters
                                                     (
                                                     typeVariableDeclaratorOrName
                                                      typeVariableDeclarator
                                                       declarationSpecifiers
                                                        typeSpecifier
                                                         genericTypeSpecifier
                                                          identifier
                                                           NSString
                                                       declarator
                                                        pointer
                                                         *
                                                        directDeclarator
                                                         identifier
                                                          response
                                                     ,
                                                     typeVariableDeclaratorOrName
                                                      typeVariableDeclarator
                                                       declarationSpecifiers
                                                        typeSpecifier
                                                         genericTypeSpecifier
                                                          identifier
                                                           NSError
                                                       declarator
                                                        pointer
                                                         *
                                                        directDeclarator
                                                         identifier
                                                          error
                                                     )
                                                    compoundStatement
                                                     {
                                                     statement
                                                      expressions
                                                       expression
                                                        castExpression
                                                         unaryExpression
                                                          postfixExpression
                                                           primaryExpression
                                                            identifier
                                                             videoLocalBlock
                                                           postfix
                                                            (
                                                            argumentExpressionList
                                                             argumentExpression
                                                              expression
                                                               castExpression
                                                                unaryExpression
                                                                 postfixExpression
                                                                  primaryExpression
                                                                   messageExpression
                                                                    [
                                                                    receiver
                                                                     expression
                                                                      castExpression
                                                                       unaryExpression
                                                                        postfixExpression
                                                                         primaryExpression
                                                                          identifier
                                                                           NSURL
                                                                    messageSelector
                                                                     keywordArgument
                                                                      selector
                                                                       identifier
                                                                        URLWithString
                                                                      :
                                                                      keywordArgumentType
                                                                       expressions
                                                                        expression
                                                                         castExpression
                                                                          unaryExpression
                                                                           postfixExpression
                                                                            primaryExpression
                                                                             identifier
                                                                              response
                                                                    ]
                                                             ,
                                                             argumentExpression
                                                              expression
                                                               castExpression
                                                                unaryExpression
                                                                 postfixExpression
                                                                  primaryExpression
                                                                   constant
                                                                    nil
                                                             ,
                                                             argumentExpression
                                                              expression
                                                               castExpression
                                                                unaryExpression
                                                                 postfixExpression
                                                                  primaryExpression
                                                                   identifier
                                                                    videoPath
                                                            )
                                                      ;
                                                     }
                                          ]
                                   ;
                                  }
                       ]
                ;
               }
           }
         else
         statement
          compoundStatement
           {
           declaration
            varDeclaration
             declarationSpecifiers
              typeSpecifier
               genericTypeSpecifier
                identifier
                 VideoUrlBlock
             initDeclaratorList
              initDeclarator
               declarator
                directDeclarator
                 identifier
                  videoLocalBlock
               =
               initializer
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     messageExpression
                      [
                      receiver
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             videoUrlBlock
                      messageSelector
                       selector
                        identifier
                         copy
                      ]
             ;
           statement
            expressions
             expression
              castExpression
               unaryExpression
                postfixExpression
                 primaryExpression
                  messageExpression
                   [
                   receiver
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          boxSession
                   messageSelector
                    keywordArgument
                     selector
                      identifier
                       createAuthenticatedURLRequestForPhoto
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             imageRequestUrl
                    keywordArgument
                     selector
                      identifier
                       executeRequest
                     :
                     keywordArgumentType
                      expressions
                       expression
                        castExpression
                         unaryExpression
                          postfixExpression
                           primaryExpression
                            blockExpression
                             ^
                             blockParameters
                              (
                              typeVariableDeclaratorOrName
                               typeVariableDeclarator
                                declarationSpecifiers
                                 typeSpecifier
                                  genericTypeSpecifier
                                   identifier
                                    NetworkRequest
                                declarator
                                 pointer
                                  *
                                 directDeclarator
                                  identifier
                                   networkRequest
                              )
                             compoundStatement
                              {
                              statement
                               expressions
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     identifier
                                      videoLocalBlock
                                    postfix
                                     (
                                     argumentExpressionList
                                      argumentExpression
                                       expression
                                        castExpression
                                         unaryExpression
                                          postfixExpression
                                           primaryExpression
                                            constant
                                             nil
                                      ,
                                      argumentExpression
                                       expression
                                        castExpression
                                         unaryExpression
                                          postfixExpression
                                           primaryExpression
                                            identifier
                                             networkRequest
                                      ,
                                      argumentExpression
                                       expression
                                        castExpression
                                         unaryExpression
                                          postfixExpression
                                           primaryExpression
                                            identifier
                                             videoPath
                                     )
                               ;
                              }
                   ]
            ;
           }
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            BOOL
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          canModify
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              ProviderSession
          abstractDeclarator
           pointer
            *
         )
        identifier
         session
      compoundStatement
       {
       statement
        jumpStatement
         return
         expression
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               messageExpression
                [
                receiver
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       self
                messageSelector
                 keywordArgument
                  selector
                   identifier
                    isMine
                  :
                  keywordArgumentType
                   expressions
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         identifier
                          session
                ]
          ||
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               (
               expression
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       self
                    .
                    identifier
                     permissions
                &
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      BoxPermissionRename
               )
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            BoxSession
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       selector
        identifier
         photoSession
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             ProviderSession
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              ses
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                postfixExpression
                 postfixExpression
                  primaryExpression
                   identifier
                    self
                 .
                 identifier
                  providerPhotoSource
                .
                identifier
                 session
         ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               SAFE_CAST
             postfix
              (
              argumentExpressionList
               argumentExpression
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      ses
               ,
               argumentExpression
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      BoxSession
              )
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            BOOL
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          updateRemoteImagePaths
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              FSPhotoUpdateUrlBlock
         )
        identifier
         inUpdateUrlBlock
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             BoxSession
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              session
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                postfixExpression
                 primaryExpression
                  identifier
                   self
                .
                identifier
                 photoSession
         ;
       statement
        selectionStatement
         if
         (
         expression
          castExpression
           unaryExpression
            unaryOperator
             !
            castExpression
             unaryExpression
              postfixExpression
               primaryExpression
                identifier
                 session
         )
         statement
          jumpStatement
           return
           expression
            castExpression
             unaryExpression
              postfixExpression
               primaryExpression
                constant
                 NO
          ;
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             FSPhotoUpdateUrlBlock
         initDeclaratorList
          initDeclarator
           declarator
            directDeclarator
             identifier
              updateUrlBlock
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         inUpdateUrlBlock
                  messageSelector
                   selector
                    identifier
                     copy
                  ]
         ;
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             NSString
         initDeclaratorList
          initDeclarator
           declarator
            pointer
             *
            directDeclarator
             identifier
              path
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 messageExpression
                  [
                  receiver
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         NSString
                  messageSelector
                   keywordArgument
                    selector
                     identifier
                      stringWithFormat
                    :
                    keywordArgumentType
                     expressions
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          primaryExpression
                           stringLiteral
                            @"
                            files/%@
                            "
                      ,
                      expression
                       castExpression
                        unaryExpression
                         postfixExpression
                          postfixExpression
                           primaryExpression
                            identifier
                             self
                          .
                          identifier
                           pid
                  ]
         ;
       statement
        expressions
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              messageExpression
               [
               receiver
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      session
               messageSelector
                keywordArgument
                 selector
                  identifier
                   requestOAuth2WithPath
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        identifier
                         path
                keywordArgument
                 selector
                  identifier
                   params
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        constant
                         nil
                keywordArgument
                 selector
                  identifier
                   response
                 :
                 keywordArgumentType
                  expressions
                   expression
                    castExpression
                     unaryExpression
                      postfixExpression
                       primaryExpression
                        blockExpression
                         ^
                         blockParameters
                          (
                          typeVariableDeclaratorOrName
                           typeVariableDeclarator
                            declarationSpecifiers
                             typeSpecifier
                              genericTypeSpecifier
                               identifier
                                NSDictionary
                            declarator
                             pointer
                              *
                             directDeclarator
                              identifier
                               response
                          ,
                          typeVariableDeclaratorOrName
                           typeVariableDeclarator
                            declarationSpecifiers
                             typeSpecifier
                              genericTypeSpecifier
                               identifier
                                NSError
                            declarator
                             pointer
                              *
                             directDeclarator
                              identifier
                               error
                          )
                         compoundStatement
                          {
                          declaration
                           varDeclaration
                            declarationSpecifiers
                             typeSpecifier
                              genericTypeSpecifier
                               identifier
                                id
                               <
                               protocolList
                                protocolName
                                 identifier
                                  FSPhoto
                               >
                            initDeclaratorList
                             initDeclarator
                              declarator
                               directDeclarator
                                identifier
                                 updatedPhoto
                            ;
                          statement
                           selectionStatement
                            if
                            (
                            expression
                             castExpression
                              unaryExpression
                               unaryOperator
                                !
                               castExpression
                                unaryExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    error
                            )
                            statement
                             compoundStatement
                              {
                              statement
                               expressions
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     messageExpression
                                      [
                                      receiver
                                       expression
                                        castExpression
                                         unaryExpression
                                          postfixExpression
                                           primaryExpression
                                            identifier
                                             self
                                      messageSelector
                                       keywordArgument
                                        selector
                                         identifier
                                          setImagePathsFromDictionary
                                        :
                                        keywordArgumentType
                                         expressions
                                          expression
                                           castExpression
                                            unaryExpression
                                             postfixExpression
                                              primaryExpression
                                               identifier
                                                response
                                       keywordArgument
                                        selector
                                         identifier
                                          box
                                        :
                                        keywordArgumentType
                                         expressions
                                          expression
                                           castExpression
                                            unaryExpression
                                             postfixExpression
                                              primaryExpression
                                               identifier
                                                session
                                      ]
                               ;
                              statement
                               expressions
                                expression
                                 unaryExpression
                                  postfixExpression
                                   postfixExpression
                                    postfixExpression
                                     primaryExpression
                                      identifier
                                       self
                                    .
                                    identifier
                                     providerPhotoSource
                                   .
                                   identifier
                                    saved
                                 assignmentOperator
                                  =
                                 expression
                                  castExpression
                                   unaryExpression
                                    postfixExpression
                                     primaryExpression
                                      constant
                                       NO
                               ;
                              statement
                               expressions
                                expression
                                 unaryExpression
                                  postfixExpression
                                   primaryExpression
                                    identifier
                                     updatedPhoto
                                 assignmentOperator
                                  =
                                 expression
                                  castExpression
                                   unaryExpression
                                    postfixExpression
                                     primaryExpression
                                      identifier
                                       self
                               ;
                              }
                          statement
                           selectionStatement
                            if
                            (
                            expression
                             castExpression
                              unaryExpression
                               postfixExpression
                                primaryExpression
                                 identifier
                                  updateUrlBlock
                            )
                            statement
                             expressions
                              expression
                               castExpression
                                unaryExpression
                                 postfixExpression
                                  primaryExpression
                                   identifier
                                    updateUrlBlock
                                  postfix
                                   (
                                   argumentExpressionList
                                    argumentExpression
                                     expression
                                      castExpression
                                       unaryExpression
                                        postfixExpression
                                         primaryExpression
                                          identifier
                                           updatedPhoto
                                   )
                             ;
                          }
               ]
        ;
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              constant
               YES
        ;
       }
    instanceMethodDefinition
     -
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            UIImage
        abstractDeclarator
         pointer
          *
       )
      methodSelector
       selector
        identifier
         visibilityImage
      compoundStatement
       {
       statement
        jumpStatement
         return
         expression
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               (
               expression
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       self
                    .
                    identifier
                     visibilityForDisplay
                ==
                expression
                 castExpression
                  unaryExpression
                   postfixExpression
                    primaryExpression
                     identifier
                      PhotoVisiblePublic
               )
          ?
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               messageExpression
                [
                receiver
                 expression
                  castExpression
                   unaryExpression
                    postfixExpression
                     primaryExpression
                      identifier
                       UIImage
                messageSelector
                 keywordArgument
                  selector
                   identifier
                    imageNamed
                  :
                  keywordArgumentType
                   expressions
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         stringLiteral
                          @"
                          linkshared
                          "
                ]
          :
          expression
           castExpression
            unaryExpression
             postfixExpression
              primaryExpression
               constant
                nil
        ;
       }
    classMethodDefinition
     +
     methodDefinition
      methodType
       (
       typeName
        specifierQualifierList
         typeSpecifier
          genericTypeSpecifier
           identifier
            BoxPermissions
       )
      methodSelector
       keywordDeclarator
        selector
         identifier
          boxPermissionFromDictionary
        :
        methodType
         (
         typeName
          specifierQualifierList
           typeSpecifier
            genericTypeSpecifier
             identifier
              NSDictionary
          abstractDeclarator
           pointer
            *
         )
        identifier
         dict
      compoundStatement
       {
       declaration
        varDeclaration
         declarationSpecifiers
          typeSpecifier
           genericTypeSpecifier
            identifier
             BoxPermissions
         initDeclaratorList
          initDeclarator
           declarator
            directDeclarator
             identifier
              perm
           =
           initializer
            expression
             castExpression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  BoxPermissionUnknown
         ;
       statement
        selectionStatement
         if
         (
         expression
          castExpression
           unaryExpression
            postfixExpression
             postfixExpression
              primaryExpression
               identifier
                dict
             .
             identifier
              count
         )
         statement
          compoundStatement
           {
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_delete
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionDelete
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_download
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionDownload
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_invite_collaborator
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionInvite
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_rename
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionRename
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_set_share_access
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionShareAccess
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_share
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionShare
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           statement
            expressions
             expression
              unaryExpression
               postfixExpression
                primaryExpression
                 identifier
                  perm
              assignmentOperator
               |=
              expression
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    (
                    expression
                     castExpression
                      unaryExpression
                       postfixExpression
                        primaryExpression
                         messageExpression
                          [
                          receiver
                           expression
                            castExpression
                             unaryExpression
                              postfixExpression
                               primaryExpression
                                identifier
                                 dict
                               postfix
                                [
                                expression
                                 castExpression
                                  unaryExpression
                                   postfixExpression
                                    primaryExpression
                                     stringLiteral
                                      @"
                                      can_upload
                                      "
                                ]
                          messageSelector
                           selector
                            identifier
                             boolValue
                          ]
                    )
               ?
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    identifier
                     BoxPermissionUpload
               :
               expression
                castExpression
                 unaryExpression
                  postfixExpression
                   primaryExpression
                    constant
                     0
            ;
           }
       statement
        jumpStatement
         return
         expression
          castExpression
           unaryExpression
            postfixExpression
             primaryExpression
              identifier
               perm
        ;
       }
   @end
 <EOF>
