(mlm (maintenanceCategory maintenance : (titleSlot title : (slotText  Granulocytopenia and Trimethoprim/Sulfamethoxazole) ;;) (mlmNameSlot mlmname : anctms ;;) (ardenVersionSlot arden : Version 3 ;;) (versionSlot version : (slotText  2.00) ;;) (institutionSlot institution: (slotText  Columbia-Presbyterian Medical Center) ;;) (authorSlot author : (slotText  George Hripcsak, M.D.) ;;) (specialistSlot specialist : (slotText  ) ;;) (dateSlot date : 1991-05-28 ;;) (validationSlot validation : testing ;;)) (libraryCategory library : (purposeSlot purpose : (slotText \nDetect granulocytopenia possibly due to\ntrimethoprim/sulfamethoxazole) ;;) (explanationSlot explanation : (slotText \nThis MLM detects patients that are currently taking\ntrimethoprim/sulfamethoxazole whose absolute neutrophile count is\nless than 1000 and falling.) ;;) (keywordsSlot keywords : (slotText \ngranulocytopenia ;  agranulocytosis ;  trimethoprim ;  sulfamethoxazole) ;;) (citationsSlot citations : (slotText \n1. Anti-infective drug use in relation to the risk of\nagranulocytosis and aplastic anemia. A report from the\nInternational Agranulocytosis and Aplastic Anemia Study.\nArchives of Internal Medicine, May 1989, 149(5) : 1036-40.) ;;) (linksSlot links : (slotText  "CTIM .34.56.78" ; \n"MeSH agranulocytosis/ci and sulfamethoxazole/ae") ;;)) (knowledgeCategory knowledge : (typeSlot type : data-driven ;;) (dataSlot data : (dataStatement let anc_storage be (dataIdentifierAssign event (mappingFactor { STORAGE OF ABSOLUTE_NEUTROPHILE_COUNT }))) ; (dataStatement let anc be (dataIdentifierAssign read (readPhrase (fromOfFuncOp last) (exprFactor (exprAtom 2)) from (mappingFactor { ABSOLUTE_NEUTROPHILE_COUNT }) where (exprOr (exprAnd (exprRange (exprNot (exprComparison (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom they)))))))))))) occurred (binaryCompOpOccur within past) (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom 1)) (durationOp week))))))))))))))))))) ; (dataStatement let pt_is_taking_tms be (dataIdentifierAssign read (readPhrase (ofReadFuncOp exist) (mappingFactor { TRIMETHOPRIM_SULFAMETHOXAZOLE_ORDER })))) ; ;;) (evokeSlot evoke : (evokeStatement (simpleTrigger (eventOr anc_storage))) ; ;;) (logicSlot logic : (logicStatement if (expr (exprMerge (exprSort (exprAddList (exprRemoveList (exprWhere (exprOr (exprAnd (exprAnd (exprAnd (exprRange (exprNot (exprComparison (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom pt_is_taking_tms)))))))))))))))) and (exprRange (exprNot (exprComparison (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (fromOfFuncOp last) (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom anc))))))))))))) is (mainCompOp (binaryCompOp less than) (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom 1000))))))))))))))))) and (exprRange (exprNot (exprComparison (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (fromOfFuncOp last) (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom anc))))))))))))) is (mainCompOp (binaryCompOp less than) (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (fromOfFuncOp first) (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom anc))))))))))))))))))))))))) then (logicStatement conclude (expr (exprMerge (exprSort (exprAddList (exprRemoveList (exprWhere (exprOr (exprAnd (exprRange (exprNot (exprComparison (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom true)))))))))))))))))))))))) ; (logicElseIf else (logicStatement conclude (expr (exprMerge (exprSort (exprAddList (exprRemoveList (exprWhere (exprOr (exprAnd (exprRange (exprNot (exprComparison (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom false)))))))))))))))))))))))) ; endif)) ; ;;) (actionSlot action : (actionStatement write (expr (exprMerge (exprSort (exprAddList (exprRemoveList (exprWhere (exprOr (exprAnd (exprRange (exprNot (exprComparison (exprString (exprString (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom "Caution: patient's relative granulocytopenia may be ")))))))))))) || (exprPlus (exprMul (exprPower (exprAtTime (exprBefore (exprAgo (exprFunction (exprNegation (exprDuration (exprFactor (exprAtom "exacerbated by trimethoprim/sulfamethoxazole.")))))))))))))))))))))))) ; ;;)) (resourcesCategory resources : (defaultSlot default: en ;;) (languageSlot language : en ;;)) end : <EOF>)