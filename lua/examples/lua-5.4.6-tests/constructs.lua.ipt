start_
 chunk
  block
   stat
    ;
   stat
    ;
   stat
    functioncall
     print
     args
      string
       "testing syntax"
   stat
    ;
   stat
    ;
   stat
    local
    attnamelist
     debug
     attrib
    =
    explist
     exp
      prefixexp
       functioncall
        require
        args
         string
          "debug"
   stat
    local
    function
    checkload
    funcbody
     (
     parlist
      namelist
       s
       ,
       msg
     )
     block
      stat
       functioncall
        assert
        args
         (
         explist
          exp
           prefixexp
            functioncall
             string
             .
             find
             args
              (
              explist
               exp
                prefixexp
                 functioncall
                  select
                  args
                   (
                   explist
                    exp
                     number
                      2
                    ,
                    exp
                     prefixexp
                      functioncall
                       load
                       args
                        (
                        explist
                         exp
                          prefixexp
                           s
                        )
                   )
               ,
               exp
                prefixexp
                 msg
              )
         )
     end
   stat
    local
    attnamelist
     a
     attrib
   stat
    do
    block
     stat
      ;
     stat
      ;
     stat
      ;
    end
   stat
    ;
   stat
    do
    block
     stat
      ;
     stat
      varlist
       var
        a
      =
      explist
       exp
        number
         3
     stat
      ;
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            a
          ==
          exp
           number
            3
        )
    end
   stat
    ;
   stat
    ;
   stat
    if
    exp
     false
    then
    block
     stat
      varlist
       var
        a
      =
      explist
       exp
        exp
         number
          3
        //
        exp
         number
          0
     stat
      ;
     stat
      varlist
       var
        a
      =
      explist
       exp
        exp
         number
          0
        %
        exp
         number
          0
    end
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          number
           2
         ^
         exp
          exp
           number
            3
          ^
          exp
           number
            2
        ==
        exp
         exp
          number
           2
         ^
         exp
          prefixexp
           (
           exp
            exp
             number
              3
            ^
            exp
             number
              2
           )
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           number
            2
          ^
          exp
           number
            3
         *
         exp
          number
           4
        ==
        exp
         exp
          prefixexp
           (
           exp
            exp
             number
              2
            ^
            exp
             number
              3
           )
         *
         exp
          number
           4
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           number
            2.0
          ^
          exp
           -
           exp
            number
             2
         ==
         exp
          exp
           number
            1
          /
          exp
           number
            4
        and
        exp
         exp
          -
          exp
           exp
            number
             2
           ^
           exp
            -
            exp
             -
             exp
              number
               2
         ==
         exp
          -
          exp
           -
           exp
            -
            exp
             number
              4
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          not
          exp
           nil
         and
         exp
          number
           2
        and
        exp
         not
         exp
          prefixexp
           (
           exp
            exp
             exp
              number
               2
             >
             exp
              number
               3
            or
            exp
             exp
              number
               3
             <
             exp
              number
               2
           )
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           -
           exp
            number
             3
          -
          exp
           number
            1
         -
         exp
          number
           5
        ==
        exp
         exp
          exp
           number
            0
          +
          exp
           number
            0
         -
         exp
          number
           9
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           -
           exp
            exp
             number
              2
            ^
            exp
             number
              2
          ==
          exp
           -
           exp
            number
             4
         and
         exp
          exp
           exp
            prefixexp
             (
             exp
              -
              exp
               number
                2
             )
           ^
           exp
            number
             2
          ==
          exp
           number
            4
        and
        exp
         exp
          exp
           exp
            exp
             number
              2
            *
            exp
             number
              2
           -
           exp
            number
             3
          -
          exp
           number
            1
         ==
         exp
          number
           0
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           -
           exp
            number
             3
          %
          exp
           number
            5
         ==
         exp
          number
           2
        and
        exp
         exp
          exp
           -
           exp
            number
             3
          +
          exp
           number
            5
         ==
         exp
          number
           2
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            number
             2
           *
           exp
            number
             1
          +
          exp
           exp
            number
             3
           /
           exp
            number
             3
         ==
         exp
          number
           3
        and
        exp
         exp
          exp
           exp
            number
             1
           +
           exp
            number
             2
          ..
          exp
           exp
            number
             3
           *
           exp
            number
             1
         ==
         exp
          string
           "33"
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          prefixexp
           (
           exp
            exp
             exp
              number
               2
             +
             exp
              number
               1
            >
            exp
             exp
              number
               3
             *
             exp
              number
               1
           )
        and
        exp
         exp
          exp
           string
            "a"
          ..
          exp
           string
            "b"
         >
         exp
          string
           "a"
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           number
            0xF0
          |
          exp
           number
            0xCC
         ~
         exp
          number
           0xAA
        &
        exp
         exp
          number
           0xFD
         ==
         exp
          number
           0xF4
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           number
            0xFD
          &
          exp
           number
            0xAA
         ~
         exp
          number
           0xCC
        |
        exp
         exp
          number
           0xF0
         ==
         exp
          number
           0xF4
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         number
          0xF0
        &
        exp
         exp
          exp
           number
            0x0F
          +
          exp
           number
            1
         ==
         exp
          number
           0x10
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            number
             3
           ^
           exp
            number
             4
          //
          exp
           exp
            number
             2
           ^
           exp
            number
             3
         //
         exp
          number
           5
        ==
        exp
         number
          2
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           -
           exp
            number
             3
          +
          exp
           exp
            exp
             exp
              number
               4
             *
             exp
              number
               5
            //
            exp
             exp
              number
               2
             ^
             exp
              exp
               number
                3
              ^
              exp
               number
                2
           //
           exp
            number
             9
         +
         exp
          exp
           exp
            number
             4
           %
           exp
            number
             10
          /
          exp
           number
            3
        ==
        exp
         exp
          exp
           prefixexp
            (
            exp
             -
             exp
              number
               3
            )
          +
          exp
           prefixexp
            (
            exp
             exp
              prefixexp
               (
               exp
                exp
                 prefixexp
                  (
                  exp
                   exp
                    number
                     4
                   *
                   exp
                    number
                     5
                  )
                //
                exp
                 prefixexp
                  (
                  exp
                   exp
                    number
                     2
                   ^
                   exp
                    prefixexp
                     (
                     exp
                      exp
                       number
                        3
                      ^
                      exp
                       number
                        2
                     )
                  )
               )
             //
             exp
              number
               9
            )
         +
         exp
          prefixexp
           (
           exp
            exp
             prefixexp
              (
              exp
               exp
                number
                 4
               %
               exp
                number
                 10
              )
            /
            exp
             number
              3
           )
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        not
        exp
         prefixexp
          (
          exp
           exp
            prefixexp
             (
             exp
              exp
               true
              or
              exp
               false
             )
           and
           exp
            nil
          )
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         true
        or
        exp
         exp
          false
         and
         exp
          nil
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            prefixexp
             (
             exp
              exp
               prefixexp
                (
                exp
                 exp
                  number
                   1
                 or
                 exp
                  false
                )
              and
              exp
               true
             )
           or
           exp
            false
          )
        ==
        exp
         true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            prefixexp
             (
             exp
              exp
               prefixexp
                (
                exp
                 exp
                  nil
                 and
                 exp
                  true
                )
              or
              exp
               false
             )
           and
           exp
            true
          )
        ==
        exp
         false
      )
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
    =
    explist
     exp
      number
       1
     ,
     exp
      nil
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          -
          exp
           prefixexp
            (
            exp
             exp
              number
               1
             or
             exp
              number
               2
            )
         ==
         exp
          -
          exp
           number
            1
        and
        exp
         exp
          exp
           prefixexp
            (
            exp
             exp
              number
               1
             and
             exp
              number
               2
            )
          +
          exp
           prefixexp
            (
            exp
             exp
              -
              exp
               number
                1.25
             or
             exp
              -
              exp
               number
                4
            )
         ==
         exp
          number
           0.75
      )
   stat
    ;
   stat
    local
    attnamelist
     x
     attrib
    =
    explist
     exp
      prefixexp
       (
       exp
        exp
         exp
          exp
           prefixexp
            (
            exp
             exp
              prefixexp
               b
             or
             exp
              prefixexp
               a
            )
          +
          exp
           number
            1
         ==
         exp
          number
           2
        and
        exp
         exp
          exp
           prefixexp
            (
            exp
             exp
              number
               10
             or
             exp
              prefixexp
               a
            )
          +
          exp
           number
            1
         ==
         exp
          number
           11
       )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        prefixexp
         x
      )
   stat
    ;
   stat
    varlist
     var
      x
    =
    explist
     exp
      prefixexp
       (
       exp
        exp
         exp
          prefixexp
           (
           exp
            exp
             prefixexp
              (
              exp
               exp
                number
                 2
               <
               exp
                number
                 3
              )
            or
            exp
             number
              1
           )
         ==
         exp
          true
        and
        exp
         exp
          prefixexp
           (
           exp
            exp
             exp
              number
               2
             <
             exp
              number
               3
            and
            exp
             number
              4
           )
         ==
         exp
          number
           4
       )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        prefixexp
         x
      )
   stat
    ;
   stat
    local
    attnamelist
     x
     attrib
     ,
     y
     attrib
    =
    explist
     exp
      number
       1
     ,
     exp
      number
       2
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           (
           exp
            exp
             prefixexp
              x
            >
            exp
             prefixexp
              y
           )
         and
         exp
          prefixexp
           x
        or
        exp
         exp
          prefixexp
           y
         ==
         exp
          number
           2
      )
   stat
    ;
   stat
    varlist
     var
      x
     ,
     var
      y
    =
    explist
     exp
      number
       2
     ,
     exp
      number
       1
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           (
           exp
            exp
             prefixexp
              x
            >
            exp
             prefixexp
              y
           )
         and
         exp
          prefixexp
           x
        or
        exp
         exp
          prefixexp
           y
         ==
         exp
          number
           2
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          number
           1234567890
         ==
         exp
          prefixexp
           functioncall
            tonumber
            args
             (
             explist
              exp
               string
                '1234567890'
             )
        and
        exp
         exp
          exp
           number
            1234567890
          +
          exp
           number
            1
         ==
         exp
          number
           1234567891
      )
   stat
    do
    block
     stat
      local
      attnamelist
       operand
       attrib
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           exp
            number
             3
          fieldsep
           ,
          field
           exp
            number
             100
          fieldsep
           ,
          field
           exp
            number
             5.0
          fieldsep
           ,
          field
           exp
            -
            exp
             number
              10
          fieldsep
           ,
          field
           exp
            -
            exp
             number
              5.0
          fieldsep
           ,
          field
           exp
            number
             10000
          fieldsep
           ,
          field
           exp
            -
            exp
             number
              10000
         }
     stat
      local
      attnamelist
       operator
       attrib
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           exp
            string
             "+"
          fieldsep
           ,
          field
           exp
            string
             "-"
          fieldsep
           ,
          field
           exp
            string
             "*"
          fieldsep
           ,
          field
           exp
            string
             "/"
          fieldsep
           ,
          field
           exp
            string
             "//"
          fieldsep
           ,
          field
           exp
            string
             "%"
          fieldsep
           ,
          field
           exp
            string
             "^"
          fieldsep
           ,
          field
           exp
            string
             "&"
          fieldsep
           ,
          field
           exp
            string
             "|"
          fieldsep
           ,
          field
           exp
            string
             "^"
          fieldsep
           ,
          field
           exp
            string
             "<<"
          fieldsep
           ,
          field
           exp
            string
             ">>"
          fieldsep
           ,
          field
           exp
            string
             "=="
          fieldsep
           ,
          field
           exp
            string
             "~="
          fieldsep
           ,
          field
           exp
            string
             "<"
          fieldsep
           ,
          field
           exp
            string
             ">"
          fieldsep
           ,
          field
           exp
            string
             "<="
          fieldsep
           ,
          field
           exp
            string
             ">="
          fieldsep
           ,
         }
     stat
      for
      namelist
       _
       ,
       op
      in
      explist
       exp
        prefixexp
         functioncall
          ipairs
          args
           (
           explist
            exp
             prefixexp
              operator
           )
      do
      block
       stat
        local
        attnamelist
         f
         attrib
        =
        explist
         exp
          prefixexp
           assert
       stat
        functioncall
         (
         exp
          prefixexp
           functioncall
            load
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 string
                 .
                 format
                 args
                  (
                  explist
                   exp
                    string
                     [[return function (x,y)\n                return x %s y\n              end]]
                   ,
                   exp
                    prefixexp
                     op
                  )
             )
         )
         args
          (
          )
       stat
        ;
       stat
        for
        namelist
         _
         ,
         o1
        in
        explist
         exp
          prefixexp
           functioncall
            ipairs
            args
             (
             explist
              exp
               prefixexp
                operand
             )
        do
        block
         stat
          for
          namelist
           _
           ,
           o2
          in
          explist
           exp
            prefixexp
             functioncall
              ipairs
              args
               (
               explist
                exp
                 prefixexp
                  operand
               )
          do
          block
           stat
            local
            attnamelist
             gab
             attrib
            =
            explist
             exp
              prefixexp
               functioncall
                f
                args
                 (
                 explist
                  exp
                   prefixexp
                    o1
                  ,
                  exp
                   prefixexp
                    o2
                 )
           stat
            varlist
             var
              prefixexp
               _ENV
              .
              XX
            =
            explist
             exp
              prefixexp
               o1
           stat
            local
            attnamelist
             code
             attrib
            =
            explist
             exp
              prefixexp
               functioncall
                string
                .
                format
                args
                 (
                 explist
                  exp
                   string
                    "return XX %s %s"
                  ,
                  exp
                   prefixexp
                    op
                  ,
                  exp
                   prefixexp
                    o2
                 )
           stat
            local
            attnamelist
             res
             attrib
            =
            explist
             exp
              prefixexp
               assert
           stat
            functioncall
             (
             exp
              prefixexp
               functioncall
                load
                args
                 (
                 explist
                  exp
                   prefixexp
                    code
                 )
             )
             args
              (
              )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  res
                ==
                exp
                 prefixexp
                  gab
              )
           stat
            varlist
             var
              prefixexp
               _ENV
              .
              XX
            =
            explist
             exp
              prefixexp
               o2
           stat
            varlist
             var
              code
            =
            explist
             exp
              prefixexp
               functioncall
                string
                .
                format
                args
                 (
                 explist
                  exp
                   string
                    "return (%s) %s XX"
                  ,
                  exp
                   prefixexp
                    o1
                  ,
                  exp
                   prefixexp
                    op
                 )
           stat
            varlist
             var
              res
            =
            explist
             exp
              prefixexp
               assert
           stat
            functioncall
             (
             exp
              prefixexp
               functioncall
                load
                args
                 (
                 explist
                  exp
                   prefixexp
                    code
                 )
             )
             args
              (
              )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  res
                ==
                exp
                 prefixexp
                  gab
              )
           stat
            varlist
             var
              code
            =
            explist
             exp
              prefixexp
               functioncall
                string
                .
                format
                args
                 (
                 explist
                  exp
                   string
                    "return (%s) %s %s"
                  ,
                  exp
                   prefixexp
                    o1
                  ,
                  exp
                   prefixexp
                    op
                  ,
                  exp
                   prefixexp
                    o2
                 )
           stat
            varlist
             var
              res
            =
            explist
             exp
              prefixexp
               assert
           stat
            functioncall
             (
             exp
              prefixexp
               functioncall
                load
                args
                 (
                 explist
                  exp
                   prefixexp
                    code
                 )
             )
             args
              (
              )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  res
                ==
                exp
                 prefixexp
                  gab
              )
          end
        end
      end
     stat
      varlist
       var
        prefixexp
         _ENV
        .
        XX
      =
      explist
       exp
        nil
    end
   stat
    repeat
    block
    until
    exp
     number
      1
   stat
    ;
   stat
    repeat
    block
    until
    exp
     true
   stat
    ;
   stat
    while
    exp
     false
    do
    block
    end
   stat
    ;
   stat
    while
    exp
     nil
    do
    block
    end
   stat
    ;
   stat
    do
    block
     stat
      local
      attnamelist
       a
       attrib
     stat
      ;
     stat
      local
      function
      f
      funcbody
       (
       parlist
        namelist
         x
       )
       block
        stat
         varlist
          var
           x
         =
         explist
          exp
           tableconstructor
            {
            fieldlist
             field
              a
              =
              exp
               number
                1
            }
        stat
         ;
        stat
         varlist
          var
           x
         =
         explist
          exp
           tableconstructor
            {
            fieldlist
             field
              x
              =
              exp
               number
                1
            }
        stat
         ;
        stat
         varlist
          var
           x
         =
         explist
          exp
           tableconstructor
            {
            fieldlist
             field
              G
              =
              exp
               number
                1
            }
       end
    end
   stat
    do
    block
     stat
      local
      attnamelist
       code
       attrib
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           exp
            string
             "local x = {"
         }
     stat
      for
      i
      =
      exp
       number
        1
      ,
      exp
       number
        257
      do
      block
       stat
        varlist
         var
          prefixexp
           code
          [
          exp
           exp
            #
            exp
             prefixexp
              code
           +
           exp
            number
             1
          ]
        =
        explist
         exp
          exp
           prefixexp
            i
          ..
          exp
           string
            ".1,"
      end
     stat
      varlist
       var
        prefixexp
         code
        [
        exp
         exp
          #
          exp
           prefixexp
            code
         +
         exp
          number
           1
        ]
      =
      explist
       exp
        string
         "};"
     stat
      varlist
       var
        code
      =
      explist
       exp
        prefixexp
         functioncall
          table
          .
          concat
          args
           (
           explist
            exp
             prefixexp
              code
           )
     stat
      local
      function
      check
      funcbody
       (
       parlist
        namelist
         ret
         ,
         val
       )
       block
        stat
         local
         attnamelist
          code
          attrib
         =
         explist
          exp
           exp
            prefixexp
             code
           ..
           exp
            prefixexp
             ret
        stat
         varlist
          var
           code
         =
         explist
          exp
           prefixexp
            functioncall
             load
             args
              (
              explist
               exp
                prefixexp
                 code
              )
        stat
         functioncall
          assert
          args
           (
           explist
            exp
             exp
              prefixexp
               functioncall
                code
                args
                 (
                 )
             ==
             exp
              prefixexp
               val
           )
       end
     stat
      functioncall
       check
       args
        (
        explist
         exp
          string
           "return (1 ~ (2 or 3))"
         ,
         exp
          exp
           number
            1
          ~
          exp
           number
            2
        )
     stat
      functioncall
       check
       args
        (
        explist
         exp
          string
           "return (1 | (2 or 3))"
         ,
         exp
          exp
           number
            1
          |
          exp
           number
            2
        )
     stat
      functioncall
       check
       args
        (
        explist
         exp
          string
           "return (1 + (2 or 3))"
         ,
         exp
          exp
           number
            1
          +
          exp
           number
            2
        )
     stat
      functioncall
       check
       args
        (
        explist
         exp
          string
           "return (1 << (2 or 3))"
         ,
         exp
          exp
           number
            1
          <<
          exp
           number
            2
        )
    end
   stat
    local
    function
    f
    funcbody
     (
     parlist
      namelist
       i
     )
     block
      stat
       if
       exp
        exp
         prefixexp
          functioncall
           type
           args
            (
            explist
             exp
              prefixexp
               i
            )
        ~=
        exp
         string
          'number'
       then
       block
        retstat
         return
         explist
          exp
           prefixexp
            i
          ,
          exp
           string
            'jojo'
         ;
       end
      stat
       ;
      stat
       if
       exp
        exp
         prefixexp
          i
        >
        exp
         number
          0
       then
       block
        retstat
         return
         explist
          exp
           prefixexp
            i
          ,
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                exp
                 prefixexp
                  i
                -
                exp
                 number
                  1
              )
         ;
       end
      stat
       ;
     end
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                3
             )
        fieldsep
         ,
        field
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                5
             )
        fieldsep
         ,
        field
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                10
             )
        fieldsep
         ;
       }
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            exp
             prefixexp
              x
              [
              exp
               number
                1
              ]
            ==
            exp
             number
              3
           and
           exp
            exp
             prefixexp
              x
              [
              exp
               number
                2
              ]
            ==
            exp
             number
              5
          and
          exp
           exp
            prefixexp
             x
             [
             exp
              number
               3
             ]
           ==
           exp
            number
             10
         and
         exp
          exp
           prefixexp
            x
            [
            exp
             number
              4
            ]
          ==
          exp
           number
            9
        and
        exp
         exp
          prefixexp
           x
           [
           exp
            number
             12
           ]
         ==
         exp
          number
           1
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          x
          [
          exp
           nil
          ]
        ==
        exp
         nil
      )
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          prefixexp
           functioncall
            f
            args
             string
              'alo'
        fieldsep
         ,
        field
         exp
          prefixexp
           functioncall
            f
            args
             string
              'xixi'
        fieldsep
         ,
        field
         exp
          nil
       }
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            x
            [
            exp
             number
              1
            ]
          ==
          exp
           string
            'alo'
         and
         exp
          exp
           prefixexp
            x
            [
            exp
             number
              2
            ]
          ==
          exp
           string
            'xixi'
        and
        exp
         exp
          prefixexp
           x
           [
           exp
            number
             3
           ]
         ==
         exp
          nil
      )
   stat
    ;
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          exp
           prefixexp
            functioncall
             f
             args
              string
               'alo'
          ..
          exp
           string
            'xixi'
       }
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          x
          [
          exp
           number
            1
          ]
        ==
        exp
         string
          'aloxixi'
      )
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          prefixexp
           functioncall
            f
            args
             tableconstructor
              {
              }
       }
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           x
           [
           exp
            number
             2
           ]
         ==
         exp
          string
           'jojo'
        and
        exp
         exp
          prefixexp
           functioncall
            type
            args
             (
             explist
              exp
               prefixexp
                x
                [
                exp
                 number
                  1
                ]
             )
         ==
         exp
          string
           'table'
      )
   stat
    local
    attnamelist
     f
     attrib
    =
    explist
     exp
      functiondef
       function
       funcbody
        (
        parlist
         namelist
          i
        )
        block
         stat
          if
          exp
           exp
            prefixexp
             i
           <
           exp
            number
             10
          then
          block
           retstat
            return
            explist
             exp
              string
               'a'
            ;
          elseif
          exp
           exp
            prefixexp
             i
           <
           exp
            number
             20
          then
          block
           retstat
            return
            explist
             exp
              string
               'b'
            ;
          elseif
          exp
           exp
            prefixexp
             i
           <
           exp
            number
             30
          then
          block
           retstat
            return
            explist
             exp
              string
               'c'
            ;
          end
         stat
          ;
        end
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            prefixexp
             functioncall
              f
              args
               (
               explist
                exp
                 number
                  3
               )
           ==
           exp
            string
             'a'
          and
          exp
           exp
            prefixexp
             functioncall
              f
              args
               (
               explist
                exp
                 number
                  12
               )
           ==
           exp
            string
             'b'
         and
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 26
              )
          ==
          exp
           string
            'c'
        and
        exp
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                100
             )
         ==
         exp
          nil
      )
   stat
    for
    i
    =
    exp
     number
      1
    ,
    exp
     number
      1000
    do
    block
     stat
      break
     stat
      ;
    end
   stat
    ;
   stat
    local
    attnamelist
     n
     attrib
    =
    explist
     exp
      number
       100
   stat
    ;
   stat
    local
    attnamelist
     i
     attrib
    =
    explist
     exp
      number
       3
   stat
    ;
   stat
    local
    attnamelist
     t
     attrib
    =
    explist
     exp
      tableconstructor
       {
       }
   stat
    ;
   stat
    local
    attnamelist
     a
     attrib
    =
    explist
     exp
      nil
   stat
    while
    exp
     not
     exp
      prefixexp
       a
    do
    block
     stat
      varlist
       var
        a
      =
      explist
       exp
        number
         0
     stat
      ;
     stat
      for
      i
      =
      exp
       number
        1
      ,
      exp
       prefixexp
        n
      do
      block
       stat
        for
        i
        =
        exp
         prefixexp
          i
        ,
        exp
         number
          1
        ,
        exp
         -
         exp
          number
           1
        do
        block
         stat
          varlist
           var
            a
          =
          explist
           exp
            exp
             prefixexp
              a
            +
            exp
             number
              1
         stat
          ;
         stat
          varlist
           var
            prefixexp
             t
            [
            exp
             prefixexp
              i
            ]
          =
          explist
           exp
            number
             1
         stat
          ;
        end
       stat
        ;
      end
     stat
      ;
    end
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          exp
           exp
            prefixexp
             n
           *
           exp
            prefixexp
             (
             exp
              exp
               prefixexp
                n
              +
              exp
               number
                1
             )
          /
          exp
           number
            2
        and
        exp
         exp
          prefixexp
           i
         ==
         exp
          number
           3
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            t
            [
            exp
             number
              1
            ]
          and
          exp
           prefixexp
            t
            [
            exp
             prefixexp
              n
            ]
         and
         exp
          not
          exp
           prefixexp
            t
            [
            exp
             number
              0
            ]
        and
        exp
         not
         exp
          prefixexp
           t
           [
           exp
            exp
             prefixexp
              n
            +
            exp
             number
              1
           ]
      )
   stat
    function
    funcname
     f
    funcbody
     (
     parlist
      namelist
       b
     )
     block
      stat
       local
       attnamelist
        x
        attrib
       =
       explist
        exp
         number
          1
      stat
       ;
      stat
       repeat
       block
        stat
         local
         attnamelist
          a
          attrib
        stat
         ;
        stat
         if
         exp
          exp
           prefixexp
            b
          ==
          exp
           number
            1
         then
         block
          stat
           local
           attnamelist
            b
            attrib
           =
           explist
            exp
             number
              1
          stat
           ;
          stat
           varlist
            var
             x
           =
           explist
            exp
             number
              10
          stat
           ;
          stat
           break
         elseif
         exp
          exp
           prefixexp
            b
          ==
          exp
           number
            2
         then
         block
          stat
           varlist
            var
             x
           =
           explist
            exp
             number
              20
          stat
           ;
          stat
           break
          stat
           ;
         elseif
         exp
          exp
           prefixexp
            b
          ==
          exp
           number
            3
         then
         block
          stat
           varlist
            var
             x
           =
           explist
            exp
             number
              30
          stat
           ;
         else
         block
          stat
           local
           attnamelist
            a
            attrib
            ,
            b
            attrib
            ,
            c
            attrib
            ,
            d
            attrib
           =
           explist
            exp
             prefixexp
              functioncall
               math
               .
               sin
               args
                (
                explist
                 exp
                  number
                   1
                )
          stat
           ;
          stat
           varlist
            var
             x
           =
           explist
            exp
             exp
              prefixexp
               x
             +
             exp
              number
               1
          stat
           ;
         end
       until
       exp
        exp
         prefixexp
          x
        >=
        exp
         number
          12
      stat
       ;
      retstat
       return
       explist
        exp
         prefixexp
          x
       ;
     end
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            prefixexp
             functioncall
              f
              args
               (
               explist
                exp
                 number
                  1
               )
           ==
           exp
            number
             10
          and
          exp
           exp
            prefixexp
             functioncall
              f
              args
               (
               explist
                exp
                 number
                  2
               )
           ==
           exp
            number
             20
         and
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 3
              )
          ==
          exp
           number
            30
        and
        exp
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                4
             )
         ==
         exp
          number
           12
      )
   stat
    local
    attnamelist
     f
     attrib
    =
    explist
     exp
      functiondef
       function
       funcbody
        (
        parlist
         namelist
          i
        )
        block
         stat
          if
          exp
           exp
            prefixexp
             i
           <
           exp
            number
             10
          then
          block
           retstat
            return
            explist
             exp
              string
               'a'
          elseif
          exp
           exp
            prefixexp
             i
           <
           exp
            number
             20
          then
          block
           retstat
            return
            explist
             exp
              string
               'b'
          elseif
          exp
           exp
            prefixexp
             i
           <
           exp
            number
             30
          then
          block
           retstat
            return
            explist
             exp
              string
               'c'
          else
          block
           retstat
            return
            explist
             exp
              number
               8
          end
        end
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            prefixexp
             functioncall
              f
              args
               (
               explist
                exp
                 number
                  3
               )
           ==
           exp
            string
             'a'
          and
          exp
           exp
            prefixexp
             functioncall
              f
              args
               (
               explist
                exp
                 number
                  12
               )
           ==
           exp
            string
             'b'
         and
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 26
              )
          ==
          exp
           string
            'c'
        and
        exp
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                100
             )
         ==
         exp
          number
           8
      )
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
    =
    explist
     exp
      nil
     ,
     exp
      number
       23
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          exp
           exp
            exp
             prefixexp
              functioncall
               f
               args
                (
                explist
                 exp
                  number
                   100
                )
            *
            exp
             number
              2
           +
           exp
            number
             3
          or
          exp
           prefixexp
            a
        fieldsep
         ,
        field
         exp
          exp
           prefixexp
            a
          or
          exp
           exp
            prefixexp
             b
           +
           exp
            number
             2
       }
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           x
           [
           exp
            number
             1
           ]
         ==
         exp
          number
           19
        and
        exp
         exp
          prefixexp
           x
           [
           exp
            number
             2
           ]
         ==
         exp
          number
           25
      )
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         f
         =
         exp
          exp
           exp
            number
             2
           +
           exp
            number
             3
          or
          exp
           prefixexp
            a
        fieldsep
         ,
        field
         a
         =
         exp
          exp
           prefixexp
            b
          +
          exp
           number
            2
       }
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           x
           .
           f
         ==
         exp
          number
           5
        and
        exp
         exp
          prefixexp
           x
           .
           a
         ==
         exp
          number
           25
      )
   stat
    varlist
     var
      a
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         y
         =
         exp
          number
           1
       }
   stat
    varlist
     var
      x
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          prefixexp
           a
           .
           y
       }
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          x
          [
          exp
           number
            1
          ]
        ==
        exp
         number
          1
      )
   stat
    local
    function
    f
    funcbody
     (
     parlist
      namelist
       i
     )
     block
      stat
       while
       exp
        number
         1
       do
       block
        stat
         if
         exp
          exp
           prefixexp
            i
          >
          exp
           number
            0
         then
         block
          stat
           varlist
            var
             i
           =
           explist
            exp
             exp
              prefixexp
               i
             -
             exp
              number
               1
          stat
           ;
         else
         block
          retstat
           return
           ;
         end
        stat
         ;
       end
      stat
       ;
     end
   stat
    ;
   stat
    local
    function
    g
    funcbody
     (
     parlist
      namelist
       i
     )
     block
      stat
       while
       exp
        number
         1
       do
       block
        stat
         if
         exp
          exp
           prefixexp
            i
          >
          exp
           number
            0
         then
         block
          stat
           varlist
            var
             i
           =
           explist
            exp
             exp
              prefixexp
               i
             -
             exp
              number
               1
         else
         block
          retstat
           return
         end
       end
     end
   stat
    functioncall
     f
     args
      (
      explist
       exp
        number
         10
      )
   stat
    ;
   stat
    functioncall
     g
     args
      (
      explist
       exp
        number
         10
      )
   stat
    ;
   stat
    do
    block
     stat
      function
      funcname
       f
      funcbody
       (
       parlist
       )
       block
        retstat
         return
         explist
          exp
           number
            1
          ,
          exp
           number
            2
          ,
          exp
           number
            3
         ;
       end
     stat
      local
      attnamelist
       a
       attrib
       ,
       b
       attrib
       ,
       c
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          f
          args
           (
           )
     stat
      ;
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            exp
             prefixexp
              a
            ==
            exp
             number
              1
           and
           exp
            exp
             prefixexp
              b
            ==
            exp
             number
              2
          and
          exp
           exp
            prefixexp
             c
           ==
           exp
            number
             3
        )
     stat
      varlist
       var
        a
       ,
       var
        b
       ,
       var
        c
      =
      explist
       exp
        prefixexp
         (
         exp
          prefixexp
           functioncall
            f
            args
             (
             )
         )
     stat
      ;
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            exp
             prefixexp
              a
            ==
            exp
             number
              1
           and
           exp
            exp
             prefixexp
              b
            ==
            exp
             nil
          and
          exp
           exp
            prefixexp
             c
           ==
           exp
            nil
        )
    end
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
    =
    explist
     exp
      exp
       number
        3
      and
      exp
       prefixexp
        functioncall
         f
         args
          (
          )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          number
           1
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          nil
      )
   stat
    function
    funcname
     g
    funcbody
     (
     parlist
     )
     block
      stat
       functioncall
        f
        args
         (
         )
      stat
       ;
      retstat
       return
       ;
     end
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           g
           args
            (
            )
        ==
        exp
         nil
      )
   stat
    function
    funcname
     g
    funcbody
     (
     parlist
     )
     block
      retstat
       return
       explist
        exp
         exp
          nil
         or
         exp
          prefixexp
           functioncall
            f
            args
             (
             )
     end
   stat
    varlist
     var
      a
     ,
     var
      b
    =
    explist
     exp
      prefixexp
       functioncall
        g
        args
         (
         )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          number
           1
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          nil
      )
   stat
    functioncall
     print
     args
      string
       '+'
   stat
    ;
   stat
    do
    block
     stat
      local
      attnamelist
       prog
       attrib
        <
        const
        >
      =
      explist
       exp
        string
         [[local x <XXX> = 10]]
     stat
      functioncall
       checkload
       args
        (
        explist
         exp
          prefixexp
           prog
         ,
         exp
          string
           "unknown attribute 'XXX'"
        )
     stat
      functioncall
       checkload
       args
        (
        explist
         exp
          string
           [[local xxx <const> = 20; xxx = 10]]
         ,
         exp
          string
           ":1: attempt to assign to const variable 'xxx'"
        )
     stat
      functioncall
       checkload
       args
        (
        explist
         exp
          string
           [[\n    local xx;\n    local xxx <const> = 20;\n    local yyy;\n    local function foo ()\n      local abc = xx + yyy + xxx;\n      return function () return function () xxx = yyy end end\n    end\n  ]]
         ,
         exp
          string
           ":6: attempt to assign to const variable 'xxx'"
        )
     stat
      functioncall
       checkload
       args
        (
        explist
         exp
          string
           [[\n    local x <close> = nil\n    x = io.open()\n  ]]
         ,
         exp
          string
           ":2: attempt to assign to const variable 'x'"
        )
    end
   stat
    varlist
     var
      f
    =
    explist
     exp
      string
       [[\nreturn function ( a , b , c , d , e )\n  local x = a >= b or c or ( d and e ) or nil\n  return x\nend , { a = 1 , b = 2 >= 1 , } or { 1 };\n]]
   stat
    varlist
     var
      f
    =
    explist
     exp
      prefixexp
       functioncall
        string
        .
        gsub
        args
         (
         explist
          exp
           prefixexp
            f
          ,
          exp
           string
            "%s+"
          ,
          exp
           string
            "\n"
         )
   stat
    ;
   stat
    varlist
     var
      f
     ,
     var
      a
    =
    explist
     exp
      prefixexp
       load
   stat
    functioncall
     (
     exp
      prefixexp
       f
     )
     args
      (
      )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
           .
           a
         ==
         exp
          number
           1
        and
        exp
         prefixexp
          a
          .
          b
      )
   stat
    function
    funcname
     g
    funcbody
     (
     parlist
      namelist
       a
       ,
       b
       ,
       c
       ,
       d
       ,
       e
     )
     block
      stat
       if
       exp
        not
        exp
         prefixexp
          (
          exp
           exp
            exp
             exp
              exp
               prefixexp
                a
              >=
              exp
               prefixexp
                b
             or
             exp
              prefixexp
               c
            or
            exp
             exp
              prefixexp
               d
             and
             exp
              prefixexp
               e
           or
           exp
            nil
          )
       then
       block
        retstat
         return
         explist
          exp
           number
            0
         ;
       else
       block
        retstat
         return
         explist
          exp
           number
            1
         ;
       end
      stat
       ;
     end
   stat
    local
    function
    h
    funcbody
     (
     parlist
      namelist
       a
       ,
       b
       ,
       c
       ,
       d
       ,
       e
     )
     block
      stat
       while
       exp
        prefixexp
         (
         exp
          exp
           exp
            exp
             exp
              prefixexp
               a
             >=
             exp
              prefixexp
               b
            or
            exp
             prefixexp
              c
           or
           exp
            prefixexp
             (
             exp
              exp
               prefixexp
                d
              and
              exp
               prefixexp
                e
             )
          or
          exp
           nil
         )
       do
       block
        retstat
         return
         explist
          exp
           number
            1
         ;
       end
      stat
       ;
      retstat
       return
       explist
        exp
         number
          0
       ;
     end
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 2
               ,
               exp
                number
                 1
              )
          ==
          exp
           true
         and
         exp
          exp
           prefixexp
            functioncall
             g
             args
              (
              explist
               exp
                number
                 2
               ,
               exp
                number
                 1
              )
          ==
          exp
           number
            1
        and
        exp
         exp
          prefixexp
           functioncall
            h
            args
             (
             explist
              exp
               number
                2
              ,
              exp
               number
                1
             )
         ==
         exp
          number
           1
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                string
                 'a'
              )
          ==
          exp
           string
            'a'
         and
         exp
          exp
           prefixexp
            functioncall
             g
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                string
                 'a'
              )
          ==
          exp
           number
            1
        and
        exp
         exp
          prefixexp
           functioncall
            h
            args
             (
             explist
              exp
               number
                1
              ,
              exp
               number
                2
              ,
              exp
               string
                'a'
             )
         ==
         exp
          number
           1
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           f
           args
            (
            explist
             exp
              number
               1
             ,
             exp
              number
               2
             ,
             exp
              string
               'a'
            )
        ~=
        exp
         nil
       ,
       exp
        string
         ""
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                string
                 'a'
              )
          ==
          exp
           string
            'a'
         and
         exp
          exp
           prefixexp
            functioncall
             g
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                string
                 'a'
              )
          ==
          exp
           number
            1
        and
        exp
         exp
          prefixexp
           functioncall
            h
            args
             (
             explist
              exp
               number
                1
              ,
              exp
               number
                2
              ,
              exp
               string
                'a'
             )
         ==
         exp
          number
           1
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                nil
               ,
               exp
                number
                 1
               ,
               exp
                string
                 'x'
              )
          ==
          exp
           string
            'x'
         and
         exp
          exp
           prefixexp
            functioncall
             g
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                nil
               ,
               exp
                number
                 1
               ,
               exp
                string
                 'x'
              )
          ==
          exp
           number
            1
        and
        exp
         exp
          prefixexp
           functioncall
            h
            args
             (
             explist
              exp
               number
                1
              ,
              exp
               number
                2
              ,
              exp
               nil
              ,
              exp
               number
                1
              ,
              exp
               string
                'x'
             )
         ==
         exp
          number
           1
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                nil
               ,
               exp
                nil
               ,
               exp
                string
                 'x'
              )
          ==
          exp
           nil
         and
         exp
          exp
           prefixexp
            functioncall
             g
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                nil
               ,
               exp
                nil
               ,
               exp
                string
                 'x'
              )
          ==
          exp
           number
            0
        and
        exp
         exp
          prefixexp
           functioncall
            h
            args
             (
             explist
              exp
               number
                1
              ,
              exp
               number
                2
              ,
              exp
               nil
              ,
              exp
               nil
              ,
              exp
               string
                'x'
             )
         ==
         exp
          number
           0
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            functioncall
             f
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                nil
               ,
               exp
                number
                 1
               ,
               exp
                nil
              )
          ==
          exp
           nil
         and
         exp
          exp
           prefixexp
            functioncall
             g
             args
              (
              explist
               exp
                number
                 1
               ,
               exp
                number
                 2
               ,
               exp
                nil
               ,
               exp
                number
                 1
               ,
               exp
                nil
              )
          ==
          exp
           number
            0
        and
        exp
         exp
          prefixexp
           functioncall
            h
            args
             (
             explist
              exp
               number
                1
              ,
              exp
               number
                2
              ,
              exp
               nil
              ,
              exp
               number
                1
              ,
              exp
               nil
             )
         ==
         exp
          number
           0
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           number
            1
          and
          exp
           exp
            exp
             number
              2
            <
            exp
             number
              3
           ==
           exp
            true
         and
         exp
          exp
           number
            2
          <
          exp
           number
            3
        and
        exp
         exp
          exp
           string
            'a'
          <
          exp
           string
            'b'
         ==
         exp
          true
      )
   stat
    varlist
     var
      x
    =
    explist
     exp
      exp
       exp
        number
         2
       <
       exp
        number
         3
      and
      exp
       not
       exp
        number
         3
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          x
        ==
        exp
         false
      )
   stat
    varlist
     var
      x
    =
    explist
     exp
      exp
       exp
        number
         2
       <
       exp
        number
         1
      or
      exp
       prefixexp
        (
        exp
         exp
          exp
           number
            2
          >
          exp
           number
            1
         and
         exp
          string
           'a'
        )
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          x
        ==
        exp
         string
          'a'
      )
   stat
    do
    block
     stat
      local
      attnamelist
       a
       attrib
     stat
      ;
     stat
      if
      exp
       nil
      then
      block
       stat
        varlist
         var
          a
        =
        explist
         exp
          number
           1
       stat
        ;
      else
      block
       stat
        varlist
         var
          a
        =
        explist
         exp
          number
           2
       stat
        ;
      end
     stat
      ;
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            a
          ==
          exp
           number
            2
        )
    end
   stat
    local
    function
    F
    funcbody
     (
     parlist
      namelist
       a
     )
     block
      stat
       functioncall
        assert
        args
         (
         explist
          exp
           exp
            prefixexp
             functioncall
              debug
              .
              getinfo
              args
               (
               explist
                exp
                 number
                  1
                ,
                exp
                 string
                  "n"
               )
             .
             name
           ==
           exp
            string
             'F'
         )
      retstat
       return
       explist
        exp
         prefixexp
          a
        ,
        exp
         number
          2
        ,
        exp
         number
          3
     end
   stat
    varlist
     var
      a
     ,
     var
      b
    =
    explist
     exp
      exp
       prefixexp
        functioncall
         F
         args
          (
          explist
           exp
            number
             1
          )
      ~=
      exp
       nil
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          true
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          nil
      )
   stat
    ;
   stat
    varlist
     var
      a
     ,
     var
      b
    =
    explist
     exp
      exp
       prefixexp
        functioncall
         F
         args
          (
          explist
           exp
            nil
          )
      ==
      exp
       nil
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          true
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          nil
      )
   stat
    varlist
     var
      prefixexp
       _ENV
      .
      GLOB1
    =
    explist
     exp
      prefixexp
       functioncall
        math
        .
        random
        args
         (
         explist
          exp
           number
            0
          ,
          exp
           number
            1
         )
   stat
    local
    attnamelist
     basiccases
     attrib
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               "nil"
            fieldsep
             ,
            field
             exp
              nil
           }
        fieldsep
         ,
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               "false"
            fieldsep
             ,
            field
             exp
              false
           }
        fieldsep
         ,
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               "true"
            fieldsep
             ,
            field
             exp
              true
           }
        fieldsep
         ,
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               "10"
            fieldsep
             ,
            field
             exp
              number
               10
           }
        fieldsep
         ,
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               "(0==_ENV.GLOB1)"
            fieldsep
             ,
            field
             exp
              exp
               number
                0
              ==
              exp
               prefixexp
                _ENV
                .
                GLOB1
           }
        fieldsep
         ,
       }
   stat
    local
    attnamelist
     prog
     attrib
   stat
    if
    exp
     exp
      prefixexp
       _ENV
       .
       GLOB1
     ==
     exp
      number
       0
    then
    block
     stat
      varlist
       var
        prefixexp
         basiccases
         [
         exp
          number
           2
         ]
        [
        exp
         number
          1
        ]
      =
      explist
       exp
        string
         "F"
     stat
      varlist
       var
        prog
      =
      explist
       exp
        string
         [[\n    local F <const> = false\n    if %s then IX = true end\n    return %s\n]]
    else
    block
     stat
      varlist
       var
        prefixexp
         basiccases
         [
         exp
          number
           4
         ]
        [
        exp
         number
          1
        ]
      =
      explist
       exp
        string
         "k10"
     stat
      varlist
       var
        prog
      =
      explist
       exp
        string
         [[\n    local k10 <const> = 10\n    if %s then IX = true end\n    return %s\n  ]]
    end
   stat
    functioncall
     print
     args
      (
      explist
       exp
        exp
         string
          'testing short-circuit optimizations ('
        ..
        exp
         exp
          prefixexp
           _ENV
           .
           GLOB1
         ..
         exp
          string
           ')'
      )
   stat
    local
    attnamelist
     binops
     attrib
      <
      const
      >
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               " and "
            fieldsep
             ,
            field
             exp
              functiondef
               function
               funcbody
                (
                parlist
                 namelist
                  a
                  ,
                  b
                )
                block
                 stat
                  if
                  exp
                   not
                   exp
                    prefixexp
                     a
                  then
                  block
                   retstat
                    return
                    explist
                     exp
                      prefixexp
                       a
                  else
                  block
                   retstat
                    return
                    explist
                     exp
                      prefixexp
                       b
                  end
                end
           }
        fieldsep
         ,
        field
         exp
          tableconstructor
           {
           fieldlist
            field
             exp
              string
               " or "
            fieldsep
             ,
            field
             exp
              functiondef
               function
               funcbody
                (
                parlist
                 namelist
                  a
                  ,
                  b
                )
                block
                 stat
                  if
                  exp
                   prefixexp
                    a
                  then
                  block
                   retstat
                    return
                    explist
                     exp
                      prefixexp
                       a
                  else
                  block
                   retstat
                    return
                    explist
                     exp
                      prefixexp
                       b
                  end
                end
           }
        fieldsep
         ,
       }
   stat
    local
    attnamelist
     cases
     attrib
      <
      const
      >
    =
    explist
     exp
      tableconstructor
       {
       }
   stat
    local
    function
    createcases
    funcbody
     (
     parlist
      namelist
       n
     )
     block
      stat
       local
       attnamelist
        res
        attrib
       =
       explist
        exp
         tableconstructor
          {
          }
      stat
       for
       i
       =
       exp
        number
         1
       ,
       exp
        exp
         prefixexp
          n
        -
        exp
         number
          1
       do
       block
        stat
         for
         namelist
          _
          ,
          v1
         in
         explist
          exp
           prefixexp
            functioncall
             ipairs
             args
              (
              explist
               exp
                prefixexp
                 cases
                 [
                 exp
                  prefixexp
                   i
                 ]
              )
         do
         block
          stat
           for
           namelist
            _
            ,
            v2
           in
           explist
            exp
             prefixexp
              functioncall
               ipairs
               args
                (
                explist
                 exp
                  prefixexp
                   cases
                   [
                   exp
                    exp
                     prefixexp
                      n
                    -
                    exp
                     prefixexp
                      i
                   ]
                )
           do
           block
            stat
             for
             namelist
              _
              ,
              op
             in
             explist
              exp
               prefixexp
                functioncall
                 ipairs
                 args
                  (
                  explist
                   exp
                    prefixexp
                     binops
                  )
             do
             block
              stat
               local
               attnamelist
                t
                attrib
               =
               explist
                exp
                 tableconstructor
                  {
                  fieldlist
                   field
                    exp
                     exp
                      string
                       "("
                     ..
                     exp
                      exp
                       prefixexp
                        v1
                        [
                        exp
                         number
                          1
                        ]
                      ..
                      exp
                       exp
                        prefixexp
                         op
                         [
                         exp
                          number
                           1
                         ]
                       ..
                       exp
                        exp
                         prefixexp
                          v2
                          [
                          exp
                           number
                            1
                          ]
                        ..
                        exp
                         string
                          ")"
                   fieldsep
                    ,
                   field
                    exp
                     prefixexp
                      functioncall
                       op
                       [
                       exp
                        number
                         2
                       ]
                       args
                        (
                        explist
                         exp
                          prefixexp
                           v1
                           [
                           exp
                            number
                             2
                           ]
                         ,
                         exp
                          prefixexp
                           v2
                           [
                           exp
                            number
                             2
                           ]
                        )
                  }
              stat
               varlist
                var
                 prefixexp
                  res
                 [
                 exp
                  exp
                   #
                   exp
                    prefixexp
                     res
                  +
                  exp
                   number
                    1
                 ]
               =
               explist
                exp
                 prefixexp
                  t
              stat
               varlist
                var
                 prefixexp
                  res
                 [
                 exp
                  exp
                   #
                   exp
                    prefixexp
                     res
                  +
                  exp
                   number
                    1
                 ]
               =
               explist
                exp
                 tableconstructor
                  {
                  fieldlist
                   field
                    exp
                     exp
                      string
                       "not"
                     ..
                     exp
                      prefixexp
                       t
                       [
                       exp
                        number
                         1
                       ]
                   fieldsep
                    ,
                   field
                    exp
                     not
                     exp
                      prefixexp
                       t
                       [
                       exp
                        number
                         2
                       ]
                  }
             end
           end
         end
       end
      retstat
       return
       explist
        exp
         prefixexp
          res
     end
   stat
    local
    attnamelist
     level
     attrib
    =
    explist
     exp
      exp
       exp
        prefixexp
         _soft
       and
       exp
        number
         3
      or
      exp
       number
        4
   stat
    varlist
     var
      prefixexp
       cases
      [
      exp
       number
        1
      ]
    =
    explist
     exp
      prefixexp
       basiccases
   stat
    for
    i
    =
    exp
     number
      2
    ,
    exp
     prefixexp
      level
    do
    block
     stat
      varlist
       var
        prefixexp
         cases
        [
        exp
         prefixexp
          i
        ]
      =
      explist
       exp
        prefixexp
         functioncall
          createcases
          args
           (
           explist
            exp
             prefixexp
              i
           )
    end
   stat
    functioncall
     print
     args
      (
      explist
       exp
        string
         "+"
      )
   stat
    local
    attnamelist
     i
     attrib
    =
    explist
     exp
      number
       0
   stat
    for
    n
    =
    exp
     number
      1
    ,
    exp
     prefixexp
      level
    do
    block
     stat
      for
      namelist
       _
       ,
       v
      in
      explist
       exp
        prefixexp
         functioncall
          pairs
          args
           (
           explist
            exp
             prefixexp
              cases
              [
              exp
               prefixexp
                n
              ]
           )
      do
      block
       stat
        local
        attnamelist
         s
         attrib
        =
        explist
         exp
          prefixexp
           v
           [
           exp
            number
             1
           ]
       stat
        local
        attnamelist
         p
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            load
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 string
                 .
                 format
                 args
                  (
                  explist
                   exp
                    prefixexp
                     prog
                   ,
                   exp
                    prefixexp
                     s
                   ,
                   exp
                    prefixexp
                     s
                  )
              ,
              exp
               string
                ""
             )
       stat
        varlist
         var
          IX
        =
        explist
         exp
          false
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              prefixexp
               functioncall
                p
                args
                 (
                 )
             ==
             exp
              prefixexp
               v
               [
               exp
                number
                 2
               ]
            and
            exp
             exp
              prefixexp
               IX
             ==
             exp
              not
              exp
               not
               exp
                prefixexp
                 v
                 [
                 exp
                  number
                   2
                 ]
          )
       stat
        varlist
         var
          i
        =
        explist
         exp
          exp
           prefixexp
            i
          +
          exp
           number
            1
       stat
        if
        exp
         exp
          exp
           prefixexp
            i
          %
          exp
           number
            60000
         ==
         exp
          number
           0
        then
        block
         stat
          functioncall
           print
           args
            (
            explist
             exp
              string
               '+'
            )
        end
      end
    end
   stat
    varlist
     var
      IX
    =
    explist
     exp
      nil
   stat
    varlist
     var
      prefixexp
       _G
      .
      GLOB1
    =
    explist
     exp
      nil
   stat
    functioncall
     checkload
     args
      (
      explist
       exp
        string
         "for x do"
       ,
       exp
        string
         "expected"
      )
   stat
    functioncall
     checkload
     args
      (
      explist
       exp
        string
         "x:call"
       ,
       exp
        string
         "expected"
      )
   stat
    functioncall
     print
     args
      string
       'OK'
 <EOF>
