start_
 chunk
  block
   stat
    functioncall
     print
     args
      string
       "testing require"
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           require
           args
            string
             "string"
        ==
        exp
         prefixexp
          string
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           require
           args
            string
             "math"
        ==
        exp
         prefixexp
          math
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           require
           args
            string
             "table"
        ==
        exp
         prefixexp
          table
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           require
           args
            string
             "io"
        ==
        exp
         prefixexp
          io
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           require
           args
            string
             "os"
        ==
        exp
         prefixexp
          os
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           require
           args
            string
             "coroutine"
        ==
        exp
         prefixexp
          coroutine
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           type
           args
            (
            explist
             exp
              prefixexp
               package
               .
               path
            )
        ==
        exp
         string
          "string"
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           type
           args
            (
            explist
             exp
              prefixexp
               package
               .
               cpath
            )
        ==
        exp
         string
          "string"
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           type
           args
            (
            explist
             exp
              prefixexp
               package
               .
               loaded
            )
        ==
        exp
         string
          "table"
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           type
           args
            (
            explist
             exp
              prefixexp
               package
               .
               preload
            )
        ==
        exp
         string
          "table"
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          functioncall
           type
           args
            (
            explist
             exp
              prefixexp
               package
               .
               config
            )
        ==
        exp
         string
          "string"
      )
   stat
    functioncall
     print
     args
      (
      explist
       exp
        exp
         string
          "package config: "
        ..
        exp
         prefixexp
          functioncall
           string
           .
           gsub
           args
            (
            explist
             exp
              prefixexp
               package
               .
               config
             ,
             exp
              string
               "\n"
             ,
             exp
              string
               "|"
            )
      )
   stat
    do
    block
     stat
      local
      attnamelist
       max
       attrib
      =
      explist
       exp
        exp
         exp
          prefixexp
           _soft
         and
         exp
          number
           100
        or
        exp
         number
          2000
     stat
      local
      attnamelist
       t
       attrib
      =
      explist
       exp
        tableconstructor
         {
         }
     stat
      for
      i
      =
      exp
       number
        1
      ,
      exp
       prefixexp
        max
      do
      block
       stat
        varlist
         var
          prefixexp
           t
          [
          exp
           prefixexp
            i
          ]
        =
        explist
         exp
          prefixexp
           functioncall
            string
            .
            rep
            args
             (
             explist
              exp
               string
                "?"
              ,
              exp
               exp
                exp
                 prefixexp
                  i
                %
                exp
                 number
                  10
               +
               exp
                number
                 1
             )
      end
     stat
      varlist
       var
        prefixexp
         t
        [
        exp
         exp
          #
          exp
           prefixexp
            t
         +
         exp
          number
           1
        ]
      =
      explist
       exp
        string
         ";"
     stat
      local
      attnamelist
       path
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          table
          .
          concat
          args
           (
           explist
            exp
             prefixexp
              t
            ,
            exp
             string
              ";"
           )
     stat
      local
      attnamelist
       s
       attrib
       ,
       err
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          package
          .
          searchpath
          args
           (
           explist
            exp
             string
              "xuxu"
            ,
            exp
             prefixexp
              path
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            not
            exp
             prefixexp
              s
           and
           exp
            prefixexp
             functioncall
              string
              .
              find
              args
               (
               explist
                exp
                 prefixexp
                  err
                ,
                exp
                 prefixexp
                  functioncall
                   string
                   .
                   rep
                   args
                    (
                    explist
                     exp
                      string
                       "xuxu"
                     ,
                     exp
                      number
                       10
                    )
               )
          and
          exp
           exp
            #
            exp
             prefixexp
              functioncall
               string
               .
               gsub
               args
                (
                explist
                 exp
                  prefixexp
                   err
                 ,
                 exp
                  string
                   "[^\n]"
                 ,
                 exp
                  string
                   ""
                )
           >=
           exp
            prefixexp
             max
        )
     stat
      local
      attnamelist
       path
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          string
          .
          rep
          args
           (
           explist
            exp
             string
              "?"
            ,
            exp
             prefixexp
              max
           )
     stat
      local
      attnamelist
       s
       attrib
       ,
       err
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          package
          .
          searchpath
          args
           (
           explist
            exp
             string
              "xuxu"
            ,
            exp
             prefixexp
              path
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           not
           exp
            prefixexp
             s
          and
          exp
           prefixexp
            functioncall
             string
             .
             find
             args
              (
              explist
               exp
                prefixexp
                 err
               ,
               exp
                prefixexp
                 functioncall
                  string
                  .
                  rep
                  args
                   (
                   explist
                    exp
                     string
                      'xuxu'
                    ,
                    exp
                     prefixexp
                      max
                   )
              )
        )
    end
   stat
    do
    block
     stat
      local
      attnamelist
       oldpath
       attrib
      =
      explist
       exp
        prefixexp
         package
         .
         path
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        tableconstructor
         {
         }
     stat
      local
      attnamelist
       s
       attrib
       ,
       err
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          pcall
          args
           (
           explist
            exp
             prefixexp
              require
            ,
            exp
             string
              "no-such-file"
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           not
           exp
            prefixexp
             s
          and
          exp
           prefixexp
            functioncall
             string
             .
             find
             args
              (
              explist
               exp
                prefixexp
                 err
               ,
               exp
                string
                 "package.path"
              )
        )
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        prefixexp
         oldpath
    end
   stat
    do
    block
     stat
      functioncall
       print
       args
        string
         "testing 'require' message"
     stat
      local
      attnamelist
       oldpath
       attrib
      =
      explist
       exp
        prefixexp
         package
         .
         path
     stat
      local
      attnamelist
       oldcpath
       attrib
      =
      explist
       exp
        prefixexp
         package
         .
         cpath
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        string
         "?.lua;?/?"
     stat
      varlist
       var
        prefixexp
         package
        .
        cpath
      =
      explist
       exp
        string
         "?.so;?/init"
     stat
      local
      attnamelist
       st
       attrib
       ,
       msg
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          pcall
          args
           (
           explist
            exp
             prefixexp
              require
            ,
            exp
             string
              'XXX'
           )
     stat
      local
      attnamelist
       expected
       attrib
      =
      explist
       exp
        string
         [[module 'XXX' not found:\n\tno field package.preload['XXX']\n\tno file 'XXX.lua'\n\tno file 'XXX/XXX'\n\tno file 'XXX.so'\n\tno file 'XXX/init']]
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            msg
          ==
          exp
           prefixexp
            expected
        )
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        prefixexp
         oldpath
     stat
      varlist
       var
        prefixexp
         package
        .
        cpath
      =
      explist
       exp
        prefixexp
         oldcpath
    end
   stat
    functioncall
     print
     args
      (
      explist
       exp
        string
         '+'
      )
   stat
    if
    exp
     not
     exp
      prefixexp
       _port
    then
    block
     stat
      local
      attnamelist
       dirsep
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          string
          .
          match
          args
           (
           explist
            exp
             prefixexp
              package
              .
              config
            ,
            exp
             string
              "^([^\n]+)\n"
           )
     stat
      local
      attnamelist
       DIR
       attrib
      =
      explist
       exp
        exp
         string
          "libs"
        ..
        exp
         prefixexp
          dirsep
     stat
      local
      function
      D
      funcbody
       (
       parlist
        namelist
         x
       )
       block
        stat
         local
         attnamelist
          x
          attrib
         =
         explist
          exp
           prefixexp
            functioncall
             string
             .
             gsub
             args
              (
              explist
               exp
                prefixexp
                 x
               ,
               exp
                string
                 "/"
               ,
               exp
                prefixexp
                 dirsep
              )
        retstat
         return
         explist
          exp
           exp
            prefixexp
             DIR
           ..
           exp
            prefixexp
             x
       end
     stat
      local
      function
      DC
      funcbody
       (
       parlist
        namelist
         x
       )
       block
        stat
         local
         attnamelist
          ext
          attrib
         =
         explist
          exp
           exp
            exp
             prefixexp
              (
              exp
               exp
                prefixexp
                 dirsep
               ==
               exp
                string
                 '\\'
              )
            and
            exp
             string
              ".dll"
           or
           exp
            string
             ".so"
        retstat
         return
         explist
          exp
           prefixexp
            functioncall
             D
             args
              (
              explist
               exp
                exp
                 prefixexp
                  x
                ..
                exp
                 prefixexp
                  ext
              )
       end
     stat
      local
      function
      createfiles
      funcbody
       (
       parlist
        namelist
         files
         ,
         preextras
         ,
         posextras
       )
       block
        stat
         for
         namelist
          n
          ,
          c
         in
         explist
          exp
           prefixexp
            functioncall
             pairs
             args
              (
              explist
               exp
                prefixexp
                 files
              )
         do
         block
          stat
           functioncall
            io
            .
            output
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 D
                 args
                  (
                  explist
                   exp
                    prefixexp
                     n
                  )
             )
          stat
           functioncall
            io
            .
            write
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 string
                 .
                 format
                 args
                  (
                  explist
                   exp
                    prefixexp
                     preextras
                   ,
                   exp
                    prefixexp
                     n
                  )
             )
          stat
           functioncall
            io
            .
            write
            args
             (
             explist
              exp
               prefixexp
                c
             )
          stat
           functioncall
            io
            .
            write
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 string
                 .
                 format
                 args
                  (
                  explist
                   exp
                    prefixexp
                     posextras
                   ,
                   exp
                    prefixexp
                     n
                  )
             )
          stat
           functioncall
            io
            .
            close
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 io
                 .
                 output
                 args
                  (
                  )
             )
         end
       end
     stat
      local
      function
      removefiles
      funcbody
       (
       parlist
        namelist
         files
       )
       block
        stat
         for
         namelist
          n
         in
         explist
          exp
           prefixexp
            functioncall
             pairs
             args
              (
              explist
               exp
                prefixexp
                 files
              )
         do
         block
          stat
           functioncall
            os
            .
            remove
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 D
                 args
                  (
                  explist
                   exp
                    prefixexp
                     n
                  )
             )
         end
       end
     stat
      local
      attnamelist
       files
       attrib
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           [
           exp
            string
             "names.lua"
           ]
           =
           exp
            string
             "do return {...} end\n"
          fieldsep
           ,
          field
           [
           exp
            string
             "err.lua"
           ]
           =
           exp
            string
             "B = 15; a = a + 1;"
          fieldsep
           ,
          field
           [
           exp
            string
             "synerr.lua"
           ]
           =
           exp
            string
             "B ="
          fieldsep
           ,
          field
           [
           exp
            string
             "A.lua"
           ]
           =
           exp
            string
             ""
          fieldsep
           ,
          field
           [
           exp
            string
             "B.lua"
           ]
           =
           exp
            string
             "assert(...=='B');require 'A'"
          fieldsep
           ,
          field
           [
           exp
            string
             "A.lc"
           ]
           =
           exp
            string
             ""
          fieldsep
           ,
          field
           [
           exp
            string
             "A"
           ]
           =
           exp
            string
             ""
          fieldsep
           ,
          field
           [
           exp
            string
             "L"
           ]
           =
           exp
            string
             ""
          fieldsep
           ,
          field
           [
           exp
            string
             "XXxX"
           ]
           =
           exp
            string
             ""
          fieldsep
           ,
          field
           [
           exp
            string
             "C.lua"
           ]
           =
           exp
            string
             "package.loaded[...] = 25; require'C'"
          fieldsep
           ,
         }
     stat
      varlist
       var
        AA
      =
      explist
       exp
        nil
     stat
      local
      attnamelist
       extras
       attrib
      =
      explist
       exp
        string
         [[\nNAME = '%s'\nREQUIRED = ...\nreturn AA]]
     stat
      functioncall
       createfiles
       args
        (
        explist
         exp
          prefixexp
           files
         ,
         exp
          string
           ""
         ,
         exp
          prefixexp
           extras
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "C.lua"
               ,
               exp
                prefixexp
                 functioncall
                  D
                  args
                   string
                    "?"
               ,
               exp
                string
                 ""
               ,
               exp
                string
                 ""
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "C.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "C.lua"
               ,
               exp
                prefixexp
                 functioncall
                  D
                  args
                   string
                    "?"
               ,
               exp
                string
                 "."
               ,
               exp
                string
                 "."
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "C.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "--x-"
               ,
               exp
                prefixexp
                 functioncall
                  D
                  args
                   string
                    "?"
               ,
               exp
                string
                 "-"
               ,
               exp
                string
                 "X"
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "XXxX"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "---xX"
               ,
               exp
                prefixexp
                 functioncall
                  D
                  args
                   string
                    "?"
               ,
               exp
                string
                 "---"
               ,
               exp
                string
                 "XX"
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "XXxX"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                prefixexp
                 functioncall
                  D
                  args
                   string
                    "C.lua"
               ,
               exp
                string
                 "?"
               ,
               exp
                prefixexp
                 dirsep
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "C.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 ".\\C.lua"
               ,
               exp
                prefixexp
                 functioncall
                  D
                  args
                   string
                    "?"
               ,
               exp
                string
                 "\\"
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "./C.lua"
        )
     stat
      local
      attnamelist
       oldpath
       attrib
      =
      explist
       exp
        prefixexp
         package
         .
         path
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        prefixexp
         functioncall
          string
          .
          gsub
          args
           (
           explist
            exp
             string
              "D/?.lua;D/?.lc;D/?;D/??x?;D/L"
            ,
            exp
             string
              "D/"
            ,
            exp
             prefixexp
              DIR
           )
     stat
      local
      attnamelist
       try
       attrib
      =
      explist
       exp
        functiondef
         function
         funcbody
          (
          parlist
           namelist
            p
            ,
            n
            ,
            r
            ,
            ext
          )
          block
           stat
            varlist
             var
              NAME
            =
            explist
             exp
              nil
           stat
            local
            attnamelist
             rr
             attrib
             ,
             x
             attrib
            =
            explist
             exp
              prefixexp
               functioncall
                require
                args
                 (
                 explist
                  exp
                   prefixexp
                    p
                 )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  NAME
                ==
                exp
                 prefixexp
                  n
              )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  REQUIRED
                ==
                exp
                 prefixexp
                  p
              )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  rr
                ==
                exp
                 prefixexp
                  r
              )
           stat
            functioncall
             assert
             args
              (
              explist
               exp
                exp
                 prefixexp
                  ext
                ==
                exp
                 prefixexp
                  x
              )
          end
     stat
      local
      attnamelist
       a
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          require
          args
           string
            "names"
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             a
             [
             exp
              number
               1
             ]
           ==
           exp
            string
             "names"
          and
          exp
           exp
            prefixexp
             a
             [
             exp
              number
               2
             ]
           ==
           exp
            prefixexp
             functioncall
              D
              args
               string
                "names.lua"
        )
     stat
      local
      attnamelist
       st
       attrib
       ,
       msg
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          pcall
          args
           (
           explist
            exp
             prefixexp
              require
            ,
            exp
             string
              "err"
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            not
            exp
             prefixexp
              st
           and
           exp
            prefixexp
             functioncall
              string
              .
              find
              args
               (
               explist
                exp
                 prefixexp
                  msg
                ,
                exp
                 string
                  "arithmetic"
               )
          and
          exp
           exp
            prefixexp
             B
           ==
           exp
            number
             15
        )
     stat
      varlist
       var
        st
       ,
       var
        msg
      =
      explist
       exp
        prefixexp
         functioncall
          pcall
          args
           (
           explist
            exp
             prefixexp
              require
            ,
            exp
             string
              "synerr"
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           not
           exp
            prefixexp
             st
          and
          exp
           prefixexp
            functioncall
             string
             .
             find
             args
              (
              explist
               exp
                prefixexp
                 msg
               ,
               exp
                string
                 "error loading module"
              )
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "C"
               ,
               exp
                prefixexp
                 package
                 .
                 path
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "C.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "C"
          ==
          exp
           number
            25
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "C"
          ==
          exp
           number
            25
        )
     stat
      varlist
       var
        AA
      =
      explist
       exp
        nil
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           'B'
         ,
         exp
          string
           'B.lua'
         ,
         exp
          true
         ,
         exp
          string
           "libs/B.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          prefixexp
           package
           .
           loaded
           .
           B
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "B"
          ==
          exp
           true
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          prefixexp
           package
           .
           loaded
           .
           A
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "C"
          ==
          exp
           number
            25
        )
     stat
      varlist
       var
        prefixexp
         package
         .
         loaded
        .
        A
      =
      explist
       exp
        nil
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           'B'
         ,
         exp
          nil
         ,
         exp
          true
         ,
         exp
          nil
        )
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           'A'
         ,
         exp
          string
           'A.lua'
         ,
         exp
          true
         ,
         exp
          string
           "libs/A.lua"
        )
     stat
      varlist
       var
        prefixexp
         package
         .
         loaded
        .
        A
      =
      explist
       exp
        nil
     stat
      functioncall
       os
       .
       remove
       args
        (
        explist
         exp
          prefixexp
           functioncall
            D
            args
             string
              'A.lua'
        )
     stat
      varlist
       var
        AA
      =
      explist
       exp
        tableconstructor
         {
         }
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           'A'
         ,
         exp
          string
           'A.lc'
         ,
         exp
          prefixexp
           AA
         ,
         exp
          string
           "libs/A.lc"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "A"
               ,
               exp
                prefixexp
                 package
                 .
                 path
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "A.lc"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              (
              explist
               exp
                string
                 "A"
              )
          ==
          exp
           prefixexp
            AA
        )
     stat
      varlist
       var
        AA
      =
      explist
       exp
        false
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           'K'
         ,
         exp
          string
           'L'
         ,
         exp
          false
         ,
         exp
          string
           "libs/L"
        )
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           'K'
         ,
         exp
          string
           'L'
         ,
         exp
          false
         ,
         exp
          string
           "libs/L"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             rawget
             args
              (
              explist
               exp
                prefixexp
                 _G
               ,
               exp
                string
                 "_REQUIREDNAME"
              )
          ==
          exp
           nil
        )
     stat
      varlist
       var
        AA
      =
      explist
       exp
        string
         "x"
     stat
      functioncall
       try
       args
        (
        explist
         exp
          string
           "X"
         ,
         exp
          string
           "XXxX"
         ,
         exp
          prefixexp
           AA
         ,
         exp
          string
           "libs/XXxX"
        )
     stat
      functioncall
       removefiles
       args
        (
        explist
         exp
          prefixexp
           files
        )
     stat
      varlist
       var
        NAME
       ,
       var
        REQUIRED
       ,
       var
        AA
       ,
       var
        B
      =
      explist
       exp
        nil
     stat
      local
      attnamelist
       _G
       attrib
      =
      explist
       exp
        prefixexp
         _G
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        prefixexp
         functioncall
          string
          .
          gsub
          args
           (
           explist
            exp
             string
              "D/?.lua;D/?/init.lua"
            ,
            exp
             string
              "D/"
            ,
            exp
             prefixexp
              DIR
           )
     stat
      varlist
       var
        files
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           [
           exp
            string
             "P1/init.lua"
           ]
           =
           exp
            string
             "AA = 10"
          fieldsep
           ,
          field
           [
           exp
            string
             "P1/xuxu.lua"
           ]
           =
           exp
            string
             "AA = 20"
          fieldsep
           ,
         }
     stat
      functioncall
       createfiles
       args
        (
        explist
         exp
          prefixexp
           files
         ,
         exp
          string
           "_ENV = {}\n"
         ,
         exp
          string
           "\nreturn _ENV\n"
        )
     stat
      varlist
       var
        AA
      =
      explist
       exp
        number
         0
     stat
      local
      attnamelist
       m
       attrib
       ,
       ext
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          assert
          args
           (
           explist
            exp
             prefixexp
              functioncall
               require
               args
                string
                 "P1"
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            ext
          ==
          exp
           string
            "libs/P1/init.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             AA
           ==
           exp
            number
             0
          and
          exp
           exp
            prefixexp
             m
             .
             AA
           ==
           exp
            number
             10
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "P1"
          ==
          exp
           prefixexp
            m
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "P1"
          ==
          exp
           prefixexp
            m
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             package
             .
             searchpath
             args
              (
              explist
               exp
                string
                 "P1.xuxu"
               ,
               exp
                prefixexp
                 package
                 .
                 path
              )
          ==
          exp
           prefixexp
            functioncall
             D
             args
              string
               "P1/xuxu.lua"
        )
     stat
      varlist
       var
        prefixexp
         m
        .
        xuxu
       ,
       var
        ext
      =
      explist
       exp
        prefixexp
         functioncall
          assert
          args
           (
           explist
            exp
             prefixexp
              functioncall
               require
               args
                string
                 "P1.xuxu"
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             AA
           ==
           exp
            number
             0
          and
          exp
           exp
            prefixexp
             m
             .
             xuxu
             .
             AA
           ==
           exp
            number
             20
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            ext
          ==
          exp
           string
            "libs/P1/xuxu.lua"
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "P1.xuxu"
          ==
          exp
           prefixexp
            m
            .
            xuxu
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            functioncall
             require
             args
              string
               "P1.xuxu"
          ==
          exp
           prefixexp
            m
            .
            xuxu
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             functioncall
              require
              args
               string
                "P1"
           ==
           exp
            prefixexp
             m
          and
          exp
           exp
            prefixexp
             m
             .
             AA
           ==
           exp
            number
             10
        )
     stat
      functioncall
       removefiles
       args
        (
        explist
         exp
          prefixexp
           files
        )
     stat
      varlist
       var
        AA
      =
      explist
       exp
        nil
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        string
         ""
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          not
          exp
           prefixexp
            functioncall
             pcall
             args
              (
              explist
               exp
                prefixexp
                 require
               ,
               exp
                string
                 "file_does_not_exist"
              )
        )
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        string
         "??\0?"
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          not
          exp
           prefixexp
            functioncall
             pcall
             args
              (
              explist
               exp
                prefixexp
                 require
               ,
               exp
                string
                 "file_does_not_exist1"
              )
        )
     stat
      varlist
       var
        prefixexp
         package
        .
        path
      =
      explist
       exp
        prefixexp
         oldpath
     stat
      local
      attnamelist
       fname
       attrib
      =
      explist
       exp
        string
         "file_does_not_exist2"
     stat
      local
      attnamelist
       m
       attrib
       ,
       err
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          pcall
          args
           (
           explist
            exp
             prefixexp
              require
            ,
            exp
             prefixexp
              fname
           )
     stat
      for
      namelist
       t
      in
      explist
       exp
        prefixexp
         functioncall
          string
          .
          gmatch
          args
           (
           explist
            exp
             exp
              prefixexp
               package
               .
               path
             ..
             exp
              exp
               string
                ";"
              ..
              exp
               prefixexp
                package
                .
                cpath
            ,
            exp
             string
              "[^;]+"
           )
      do
      block
       stat
        varlist
         var
          t
        =
        explist
         exp
          prefixexp
           functioncall
            string
            .
            gsub
            args
             (
             explist
              exp
               prefixexp
                t
              ,
              exp
               string
                "?"
              ,
              exp
               prefixexp
                fname
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            prefixexp
             functioncall
              string
              .
              find
              args
               (
               explist
                exp
                 prefixexp
                  err
                ,
                exp
                 prefixexp
                  t
                ,
                exp
                 number
                  1
                ,
                exp
                 true
               )
          )
      end
     stat
      do
      block
       stat
        local
        attnamelist
         searchers
         attrib
        =
        explist
         exp
          prefixexp
           package
           .
           searchers
       stat
        varlist
         var
          prefixexp
           package
          .
          searchers
        =
        explist
         exp
          number
           3
       stat
        local
        attnamelist
         st
         attrib
         ,
         msg
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            pcall
            args
             (
             explist
              exp
               prefixexp
                require
              ,
              exp
               string
                'a'
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             not
             exp
              prefixexp
               st
            and
            exp
             prefixexp
              functioncall
               string
               .
               find
               args
                (
                explist
                 exp
                  prefixexp
                   msg
                 ,
                 exp
                  string
                   "must be a table"
                )
          )
       stat
        varlist
         var
          prefixexp
           package
          .
          searchers
        =
        explist
         exp
          prefixexp
           searchers
      end
     stat
      local
      function
      import
      funcbody
       (
       parlist
        ...
       )
       block
        stat
         local
         attnamelist
          f
          attrib
         =
         explist
          exp
           tableconstructor
            {
            fieldlist
             field
              exp
               ...
            }
        retstat
         return
         explist
          exp
           functiondef
            function
            funcbody
             (
             parlist
              namelist
               m
             )
             block
              stat
               for
               i
               =
               exp
                number
                 1
               ,
               exp
                #
                exp
                 prefixexp
                  f
               do
               block
                stat
                 varlist
                  var
                   prefixexp
                    m
                   [
                   exp
                    prefixexp
                     f
                     [
                     exp
                      prefixexp
                       i
                     ]
                   ]
                 =
                 explist
                  exp
                   prefixexp
                    _G
                    [
                    exp
                     prefixexp
                      f
                      [
                      exp
                       prefixexp
                        i
                      ]
                    ]
               end
             end
       end
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          not
          exp
           prefixexp
            functioncall
             pcall
             args
              (
              explist
               exp
                prefixexp
                 module
               ,
               exp
                string
                 'XUXU'
              )
        )
     stat
      local
      attnamelist
       p
       attrib
      =
      explist
       exp
        string
         ""
     stat
      local
      attnamelist
       st
       attrib
       ,
       err
       attrib
       ,
       when
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          package
          .
          loadlib
          args
           (
           explist
            exp
             prefixexp
              functioncall
               DC
               args
                string
                 "lib1"
            ,
            exp
             string
              "*"
           )
     stat
      if
      exp
       not
       exp
        prefixexp
         st
      then
      block
       stat
        local
        attnamelist
         f
         attrib
         ,
         err
         attrib
         ,
         when
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            package
            .
            loadlib
            args
             (
             explist
              exp
               string
                "donotexist"
              ,
              exp
               exp
                prefixexp
                 p
               ..
               exp
                string
                 "xuxu"
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              not
              exp
               prefixexp
                f
             and
             exp
              exp
               prefixexp
                functioncall
                 type
                 args
                  (
                  explist
                   exp
                    prefixexp
                     err
                  )
              ==
              exp
               string
                "string"
            and
            exp
             exp
              prefixexp
               when
             ==
             exp
              string
               "absent"
          )
       stat
        ;
       stat
        functioncall
         (
         exp
          exp
           prefixexp
            Message
          or
          exp
           prefixexp
            print
         )
         args
          (
          explist
           exp
            string
             '\n >>> cannot load dynamic library <<<\n'
          )
       stat
        functioncall
         print
         args
          (
          explist
           exp
            prefixexp
             err
           ,
           exp
            prefixexp
             when
          )
      else
      block
       stat
        local
        attnamelist
         f
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            assert
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 package
                 .
                 loadlib
                 args
                  (
                  explist
                   exp
                    prefixexp
                     functioncall
                      DC
                      args
                       string
                        "lib1"
                   ,
                   exp
                    exp
                     prefixexp
                      p
                    ..
                    exp
                     string
                      "onefunction"
                  )
             )
       stat
        local
        attnamelist
         a
         attrib
         ,
         b
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            f
            args
             (
             explist
              exp
               number
                15
              ,
              exp
               number
                25
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              prefixexp
               a
             ==
             exp
              number
               25
            and
            exp
             exp
              prefixexp
               b
             ==
             exp
              number
               15
          )
       stat
        varlist
         var
          f
        =
        explist
         exp
          prefixexp
           functioncall
            assert
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 package
                 .
                 loadlib
                 args
                  (
                  explist
                   exp
                    prefixexp
                     functioncall
                      DC
                      args
                       string
                        "lib1"
                   ,
                   exp
                    exp
                     prefixexp
                      p
                    ..
                    exp
                     string
                      "anotherfunc"
                  )
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               f
               args
                (
                explist
                 exp
                  number
                   10
                 ,
                 exp
                  number
                   20
                )
            ==
            exp
             string
              "10%20\n"
          )
       stat
        local
        attnamelist
         f
         attrib
         ,
         err
         attrib
         ,
         when
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            package
            .
            loadlib
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 DC
                 args
                  string
                   "lib1"
              ,
              exp
               exp
                prefixexp
                 p
               ..
               exp
                string
                 "xuxu"
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              not
              exp
               prefixexp
                f
             and
             exp
              exp
               prefixexp
                functioncall
                 type
                 args
                  (
                  explist
                   exp
                    prefixexp
                     err
                  )
              ==
              exp
               string
                "string"
            and
            exp
             exp
              prefixexp
               when
             ==
             exp
              string
               "init"
          )
       stat
        varlist
         var
          f
         ,
         var
          err
         ,
         var
          when
        =
        explist
         exp
          prefixexp
           functioncall
            package
            .
            loadlib
            args
             (
             explist
              exp
               string
                "donotexist"
              ,
              exp
               exp
                prefixexp
                 p
               ..
               exp
                string
                 "xuxu"
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              not
              exp
               prefixexp
                f
             and
             exp
              exp
               prefixexp
                functioncall
                 type
                 args
                  (
                  explist
                   exp
                    prefixexp
                     err
                  )
              ==
              exp
               string
                "string"
            and
            exp
             exp
              prefixexp
               when
             ==
             exp
              string
               "open"
          )
       stat
        varlist
         var
          f
        =
        explist
         exp
          prefixexp
           functioncall
            assert
            args
             (
             explist
              exp
               prefixexp
                functioncall
                 package
                 .
                 loadlib
                 args
                  (
                  explist
                   exp
                    prefixexp
                     functioncall
                      DC
                      args
                       string
                        "lib11"
                   ,
                   exp
                    exp
                     prefixexp
                      p
                    ..
                    exp
                     string
                      "luaopen_lib11"
                  )
             )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               f
               args
                (
                )
            ==
            exp
             string
              "exported"
          )
       stat
        varlist
         var
          prefixexp
           package
          .
          cpath
        =
        explist
         exp
          prefixexp
           functioncall
            DC
            args
             string
              "?"
       stat
        local
        attnamelist
         lib2
         attrib
         ,
         ext
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            require
            args
             string
              "lib2-v2"
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            prefixexp
             functioncall
              string
              .
              find
              args
               (
               explist
                exp
                 prefixexp
                  ext
                ,
                exp
                 string
                  "libs/lib2-v2"
                ,
                exp
                 number
                  1
                ,
                exp
                 true
               )
          )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              prefixexp
               _ENV
               .
               x
             ==
             exp
              string
               "lib2-v2"
            and
            exp
             exp
              prefixexp
               _ENV
               .
               y
             ==
             exp
              prefixexp
               functioncall
                DC
                args
                 string
                  "lib2-v2"
          )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               lib2
               .
               id
               args
                (
                explist
                 exp
                  string
                   "x"
                )
            ==
            exp
             true
          )
       stat
        local
        attnamelist
         fs
         attrib
         ,
         ext
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            require
            args
             string
              "lib1.sub"
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              prefixexp
               _ENV
               .
               x
             ==
             exp
              string
               "lib1.sub"
            and
            exp
             exp
              prefixexp
               _ENV
               .
               y
             ==
             exp
              prefixexp
               functioncall
                DC
                args
                 string
                  "lib1"
          )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            prefixexp
             functioncall
              string
              .
              find
              args
               (
               explist
                exp
                 prefixexp
                  ext
                ,
                exp
                 string
                  "libs/lib1"
                ,
                exp
                 number
                  1
                ,
                exp
                 true
               )
          )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               fs
               .
               id
               args
                (
                explist
                 exp
                  number
                   45
                )
            ==
            exp
             number
              45
          )
       stat
        varlist
         var
          prefixexp
           _ENV
          .
          x
         ,
         var
          prefixexp
           _ENV
          .
          y
        =
        explist
         exp
          nil
      end
     stat
      varlist
       var
        _ENV
      =
      explist
       exp
        prefixexp
         _G
     stat
      do
      block
       stat
        local
        attnamelist
         p
         attrib
        =
        explist
         exp
          prefixexp
           package
       stat
        varlist
         var
          package
        =
        explist
         exp
          tableconstructor
           {
           }
       stat
        varlist
         var
          prefixexp
           p
           .
           preload
          .
          pl
        =
        explist
         exp
          functiondef
           function
           funcbody
            (
            parlist
             ...
            )
            block
             stat
              local
              attnamelist
               _ENV
               attrib
              =
              explist
               exp
                tableconstructor
                 {
                 fieldlist
                  field
                   exp
                    ...
                 }
             stat
              function
              funcname
               xuxu
              funcbody
               (
               parlist
                namelist
                 x
               )
               block
                retstat
                 return
                 explist
                  exp
                   exp
                    prefixexp
                     x
                   +
                   exp
                    number
                     20
               end
             retstat
              return
              explist
               exp
                prefixexp
                 _ENV
            end
       stat
        local
        attnamelist
         pl
         attrib
         ,
         ext
         attrib
        =
        explist
         exp
          prefixexp
           functioncall
            require
            args
             string
              "pl"
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               require
               args
                string
                 "pl"
            ==
            exp
             prefixexp
              pl
          )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               pl
               .
               xuxu
               args
                (
                explist
                 exp
                  number
                   10
                )
            ==
            exp
             number
              30
          )
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             exp
              exp
               prefixexp
                pl
                [
                exp
                 number
                  1
                ]
              ==
              exp
               string
                "pl"
             and
             exp
              exp
               prefixexp
                pl
                [
                exp
                 number
                  2
                ]
              ==
              exp
               string
                ":preload:"
            and
            exp
             exp
              prefixexp
               ext
             ==
             exp
              string
               ":preload:"
          )
       stat
        varlist
         var
          package
        =
        explist
         exp
          prefixexp
           p
       stat
        functioncall
         assert
         args
          (
          explist
           exp
            exp
             prefixexp
              functioncall
               type
               args
                (
                explist
                 exp
                  prefixexp
                   package
                   .
                   path
                )
            ==
            exp
             string
              "string"
          )
      end
     stat
      functioncall
       print
       args
        (
        explist
         exp
          string
           '+'
        )
    end
   stat
    functioncall
     print
     args
      (
      explist
       exp
        string
         "testing assignments, logical operators, and constructors"
      )
   stat
    local
    attnamelist
     res
     attrib
     ,
     res2
     attrib
    =
    explist
     exp
      number
       27
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
    =
    explist
     exp
      number
       1
     ,
     exp
      exp
       number
        2
      +
      exp
       number
        3
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          number
           1
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          number
           5
      )
   stat
    varlist
     var
      a
    =
    explist
     exp
      tableconstructor
       {
       }
   stat
    local
    function
    f
    funcbody
     (
     parlist
     )
     block
      retstat
       return
       explist
        exp
         number
          10
        ,
        exp
         number
          11
        ,
        exp
         number
          12
     end
   stat
    varlist
     var
      prefixexp
       a
      .
      x
     ,
     var
      b
     ,
     var
      prefixexp
       a
      [
      exp
       number
        1
      ]
    =
    explist
     exp
      number
       1
     ,
     exp
      number
       2
     ,
     exp
      prefixexp
       functioncall
        f
        args
         (
         )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            a
            .
            x
          ==
          exp
           number
            1
         and
         exp
          exp
           prefixexp
            b
          ==
          exp
           number
            2
        and
        exp
         exp
          prefixexp
           a
           [
           exp
            number
             1
           ]
         ==
         exp
          number
           10
      )
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       prefixexp
        functioncall
         f
         args
          (
          )
      ]
     ,
     var
      b
     ,
     var
      prefixexp
       a
      [
      exp
       exp
        prefixexp
         functioncall
          f
          args
           (
           )
       +
       exp
        number
         3
      ]
    =
    explist
     exp
      prefixexp
       functioncall
        f
        args
         (
         )
     ,
     exp
      prefixexp
       a
     ,
     exp
      string
       'x'
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            a
            [
            exp
             number
              10
            ]
          ==
          exp
           number
            10
         and
         exp
          exp
           prefixexp
            b
          ==
          exp
           prefixexp
            a
        and
        exp
         exp
          prefixexp
           a
           [
           exp
            number
             13
           ]
         ==
         exp
          string
           'x'
      )
   stat
    do
    block
     stat
      local
      attnamelist
       f
       attrib
      =
      explist
       exp
        functiondef
         function
         funcbody
          (
          parlist
           namelist
            n
          )
          block
           stat
            local
            attnamelist
             x
             attrib
            =
            explist
             exp
              tableconstructor
               {
               }
           stat
            ;
           stat
            for
            i
            =
            exp
             number
              1
            ,
            exp
             prefixexp
              n
            do
            block
             stat
              varlist
               var
                prefixexp
                 x
                [
                exp
                 prefixexp
                  i
                ]
              =
              explist
               exp
                prefixexp
                 i
            end
           stat
            ;
           retstat
            return
            explist
             exp
              prefixexp
               functioncall
                table
                .
                unpack
                args
                 (
                 explist
                  exp
                   prefixexp
                    x
                 )
          end
     stat
      ;
     stat
      local
      attnamelist
       a
       attrib
       ,
       b
       attrib
       ,
       c
       attrib
     stat
      varlist
       var
        a
       ,
       var
        b
      =
      explist
       exp
        number
         0
       ,
       exp
        prefixexp
         functioncall
          f
          args
           (
           explist
            exp
             number
              1
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             a
           ==
           exp
            number
             0
          and
          exp
           exp
            prefixexp
             b
           ==
           exp
            number
             1
        )
     stat
      varlist
       var
        a
       ,
       var
        b
      =
      explist
       exp
        number
         0
       ,
       exp
        prefixexp
         functioncall
          f
          args
           (
           explist
            exp
             number
              1
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             a
           ==
           exp
            number
             0
          and
          exp
           exp
            prefixexp
             b
           ==
           exp
            number
             1
        )
     stat
      varlist
       var
        a
       ,
       var
        b
       ,
       var
        c
      =
      explist
       exp
        number
         0
       ,
       exp
        number
         5
       ,
       exp
        prefixexp
         functioncall
          f
          args
           (
           explist
            exp
             number
              4
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            exp
             prefixexp
              a
            ==
            exp
             number
              0
           and
           exp
            exp
             prefixexp
              b
            ==
            exp
             number
              5
          and
          exp
           exp
            prefixexp
             c
           ==
           exp
            number
             1
        )
     stat
      varlist
       var
        a
       ,
       var
        b
       ,
       var
        c
      =
      explist
       exp
        number
         0
       ,
       exp
        number
         5
       ,
       exp
        prefixexp
         functioncall
          f
          args
           (
           explist
            exp
             number
              0
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            exp
             prefixexp
              a
            ==
            exp
             number
              0
           and
           exp
            exp
             prefixexp
              b
            ==
            exp
             number
              5
          and
          exp
           exp
            prefixexp
             c
           ==
           exp
            nil
        )
    end
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
     ,
     c
     attrib
     ,
     d
     attrib
    =
    explist
     exp
      exp
       number
        1
      and
      exp
       nil
     ,
     exp
      exp
       number
        1
      or
      exp
       nil
     ,
     exp
      prefixexp
       (
       exp
        exp
         number
          1
        and
        exp
         prefixexp
          (
          exp
           exp
            nil
           or
           exp
            number
             1
          )
       )
     ,
     exp
      number
       6
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           not
           exp
            prefixexp
             a
          and
          exp
           prefixexp
            b
         and
         exp
          prefixexp
           c
        and
        exp
         exp
          prefixexp
           d
         ==
         exp
          number
           6
      )
   stat
    varlist
     var
      d
    =
    explist
     exp
      number
       20
   stat
    varlist
     var
      a
     ,
     var
      b
     ,
     var
      c
     ,
     var
      d
    =
    explist
     exp
      prefixexp
       functioncall
        f
        args
         (
         )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            prefixexp
             a
           ==
           exp
            number
             10
          and
          exp
           exp
            prefixexp
             b
           ==
           exp
            number
             11
         and
         exp
          exp
           prefixexp
            c
          ==
          exp
           number
            12
        and
        exp
         exp
          prefixexp
           d
         ==
         exp
          nil
      )
   stat
    varlist
     var
      a
     ,
     var
      b
    =
    explist
     exp
      prefixexp
       functioncall
        f
        args
         (
         )
     ,
     exp
      number
       1
     ,
     exp
      number
       2
     ,
     exp
      number
       3
     ,
     exp
      prefixexp
       functioncall
        f
        args
         (
         )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          number
           10
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          number
           1
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            a
          <
          exp
           prefixexp
            b
         ==
         exp
          false
        and
        exp
         exp
          exp
           prefixexp
            a
          >
          exp
           prefixexp
            b
         ==
         exp
          true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            number
             10
           and
           exp
            number
             2
          )
        ==
        exp
         number
          2
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            number
             10
           or
           exp
            number
             2
          )
        ==
        exp
         number
          10
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            number
             10
           or
           exp
            prefixexp
             functioncall
              assert
              args
               (
               explist
                exp
                 nil
               )
          )
        ==
        exp
         number
          10
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        not
        exp
         prefixexp
          (
          exp
           exp
            nil
           and
           exp
            prefixexp
             functioncall
              assert
              args
               (
               explist
                exp
                 nil
               )
          )
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            nil
           or
           exp
            string
             "alo"
          )
        ==
        exp
         string
          "alo"
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            nil
           and
           exp
            number
             10
          )
        ==
        exp
         nil
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            false
           and
           exp
            number
             10
          )
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            true
           or
           exp
            number
             10
          )
        ==
        exp
         true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          (
          exp
           exp
            false
           or
           exp
            number
             10
          )
        ==
        exp
         number
          10
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         false
        ~=
        exp
         nil
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         nil
        ~=
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          nil
        ==
        exp
         true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          not
          exp
           nil
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          not
          exp
           number
            1
        ==
        exp
         true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          not
          exp
           prefixexp
            a
        ==
        exp
         true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          not
          exp
           prefixexp
            (
            exp
             exp
              number
               6
             or
             exp
              nil
            )
        ==
        exp
         true
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          not
          exp
           prefixexp
            (
            exp
             exp
              nil
             and
             exp
              number
               56
            )
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          not
          exp
           prefixexp
            (
            exp
             exp
              nil
             and
             exp
              true
            )
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          number
           10
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          tableconstructor
           {
           }
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          number
           0.5
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         not
         exp
          string
           "x"
        ==
        exp
         false
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         tableconstructor
          {
          }
        ~=
        exp
         tableconstructor
          {
          }
      )
   stat
    functioncall
     print
     args
      (
      explist
       exp
        string
         '+'
      )
   stat
    varlist
     var
      a
    =
    explist
     exp
      tableconstructor
       {
       }
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       true
      ]
    =
    explist
     exp
      number
       20
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       false
      ]
    =
    explist
     exp
      number
       10
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
           [
           exp
            exp
             number
              1
            <
            exp
             number
              2
           ]
         ==
         exp
          number
           20
        and
        exp
         exp
          prefixexp
           a
           [
           exp
            exp
             number
              1
            >
            exp
             number
              2
           ]
         ==
         exp
          number
           10
      )
   stat
    function
    funcname
     f
    funcbody
     (
     parlist
      namelist
       a
     )
     block
      retstat
       return
       explist
        exp
         prefixexp
          a
     end
   stat
    local
    attnamelist
     a
     attrib
    =
    explist
     exp
      tableconstructor
       {
       }
   stat
    for
    i
    =
    exp
     number
      3000
    ,
    exp
     -
     exp
      number
       3000
    ,
    exp
     -
     exp
      number
       1
    do
    block
     stat
      varlist
       var
        prefixexp
         a
        [
        exp
         exp
          prefixexp
           i
         +
         exp
          number
           0.0
        ]
      =
      explist
       exp
        prefixexp
         i
     stat
      ;
    end
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       number
        10e30
      ]
    =
    explist
     exp
      string
       "alo"
   stat
    ;
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       true
      ]
    =
    explist
     exp
      number
       10
   stat
    ;
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       false
      ]
    =
    explist
     exp
      number
       20
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            a
            [
            exp
             number
              10e30
            ]
          ==
          exp
           string
            'alo'
         and
         exp
          exp
           prefixexp
            a
            [
            exp
             not
             exp
              number
               1
            ]
          ==
          exp
           number
            20
        and
        exp
         exp
          prefixexp
           a
           [
           exp
            exp
             number
              10
            <
            exp
             number
              20
           ]
         ==
         exp
          number
           10
      )
   stat
    for
    i
    =
    exp
     number
      3000
    ,
    exp
     -
     exp
      number
       3000
    ,
    exp
     -
     exp
      number
       1
    do
    block
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            a
            [
            exp
             prefixexp
              i
            ]
          ==
          exp
           prefixexp
            i
        )
     stat
      ;
    end
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       prefixexp
        print
      ]
    =
    explist
     exp
      prefixexp
       assert
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       prefixexp
        f
      ]
    =
    explist
     exp
      prefixexp
       print
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       prefixexp
        a
      ]
    =
    explist
     exp
      prefixexp
       a
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          a
          [
          exp
           prefixexp
            a
          ]
          [
          exp
           prefixexp
            a
          ]
          [
          exp
           prefixexp
            a
          ]
          [
          exp
           prefixexp
            a
          ]
          [
          exp
           prefixexp
            print
          ]
        ==
        exp
         prefixexp
          assert
      )
   stat
    functioncall
     a
     [
     exp
      prefixexp
       print
     ]
     args
      (
      explist
       exp
        exp
         prefixexp
          a
          [
          exp
           prefixexp
            a
            [
            exp
             prefixexp
              f
            ]
          ]
        ==
        exp
         prefixexp
          a
          [
          exp
           prefixexp
            print
          ]
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        not
        exp
         prefixexp
          functioncall
           pcall
           args
            (
            explist
             exp
              functiondef
               function
               funcbody
                (
                parlist
                )
                block
                 stat
                  local
                  attnamelist
                   a
                   attrib
                  =
                  explist
                   exp
                    tableconstructor
                     {
                     }
                 stat
                  ;
                 stat
                  varlist
                   var
                    prefixexp
                     a
                    [
                    exp
                     nil
                    ]
                  =
                  explist
                   exp
                    number
                     10
                end
            )
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        not
        exp
         prefixexp
          functioncall
           pcall
           args
            (
            explist
             exp
              functiondef
               function
               funcbody
                (
                parlist
                )
                block
                 stat
                  local
                  attnamelist
                   a
                   attrib
                  =
                  explist
                   exp
                    tableconstructor
                     {
                     fieldlist
                      field
                       [
                       exp
                        nil
                       ]
                       =
                       exp
                        number
                         10
                     }
                end
            )
      )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         prefixexp
          a
          [
          exp
           nil
          ]
        ==
        exp
         prefixexp
          undef
      )
   stat
    varlist
     var
      a
    =
    explist
     exp
      nil
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
     ,
     c
     attrib
   stat
    varlist
     var
      a
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         exp
          number
           10
        fieldsep
         ,
        field
         exp
          number
           9
        fieldsep
         ,
        field
         exp
          number
           8
        fieldsep
         ,
        field
         exp
          number
           7
        fieldsep
         ,
        field
         exp
          number
           6
        fieldsep
         ,
        field
         exp
          number
           5
        fieldsep
         ,
        field
         exp
          number
           4
        fieldsep
         ,
        field
         exp
          number
           3
        fieldsep
         ,
        field
         exp
          number
           2
        fieldsep
         ;
        field
         [
         exp
          -
          exp
           number
            3
         ]
         =
         exp
          string
           'a'
        fieldsep
         ,
        field
         [
         exp
          prefixexp
           f
         ]
         =
         exp
          prefixexp
           print
        fieldsep
         ,
        field
         a
         =
         exp
          string
           'a'
        fieldsep
         ,
        field
         b
         =
         exp
          string
           'ab'
       }
   stat
    varlist
     var
      a
     ,
     var
      prefixexp
       a
      .
      x
     ,
     var
      prefixexp
       a
      .
      y
    =
    explist
     exp
      prefixexp
       a
     ,
     exp
      prefixexp
       a
       [
       exp
        -
        exp
         number
          3
       ]
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            exp
             prefixexp
              a
              [
              exp
               number
                1
              ]
            ==
            exp
             number
              10
           and
           exp
            exp
             prefixexp
              a
              [
              exp
               -
               exp
                number
                 3
              ]
            ==
            exp
             prefixexp
              a
              .
              a
          and
          exp
           exp
            prefixexp
             a
             [
             exp
              prefixexp
               f
             ]
           ==
           exp
            prefixexp
             print
         and
         exp
          exp
           prefixexp
            a
            .
            x
          ==
          exp
           string
            'a'
        and
        exp
         not
         exp
          prefixexp
           a
           .
           y
      )
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       number
        1
      ]
     ,
     var
      prefixexp
       functioncall
        f
        args
         (
         explist
          exp
           prefixexp
            a
         )
      [
      exp
       number
        2
      ]
     ,
     var
      b
     ,
     var
      c
    =
    explist
     exp
      tableconstructor
       {
       fieldlist
        field
         [
         exp
          string
           'alo'
         ]
         =
         exp
          prefixexp
           assert
       }
     ,
     exp
      number
       10
     ,
     exp
      prefixexp
       a
       [
       exp
        number
         1
       ]
     ,
     exp
      prefixexp
       a
       [
       exp
        prefixexp
         f
       ]
     ,
     exp
      number
       6
     ,
     exp
      number
       10
     ,
     exp
      number
       23
     ,
     exp
      prefixexp
       functioncall
        f
        args
         (
         explist
          exp
           prefixexp
            a
         )
     ,
     exp
      number
       2
   stat
    functioncall
     a
     [
     exp
      number
       1
     ]
     .
     alo
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            a
            [
            exp
             number
              2
            ]
          ==
          exp
           number
            10
         and
         exp
          exp
           prefixexp
            b
          ==
          exp
           number
            10
        and
        exp
         exp
          prefixexp
           c
         ==
         exp
          prefixexp
           print
      )
   stat
    varlist
     var
      prefixexp
       a
      .
      aVeryLongName012345678901234567890123456789012345678901234567890123456789
    =
    explist
     exp
      number
       10
   stat
    local
    function
    foo
    funcbody
     (
     parlist
     )
     block
      retstat
       return
       explist
        exp
         prefixexp
          a
          .
          aVeryLongName012345678901234567890123456789012345678901234567890123456789
     end
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           functioncall
            foo
            args
             (
             )
         ==
         exp
          number
           10
        and
        exp
         exp
          prefixexp
           a
           .
           aVeryLongName012345678901234567890123456789012345678901234567890123456789
         ==
         exp
          number
           10
      )
   stat
    do
    block
     stat
      local
      function
      foo
      funcbody
       (
       parlist
       )
       block
        stat
         local
         attnamelist
          _ENV
          attrib
           <
           const
           >
         =
         explist
          exp
           number
            11
        stat
         varlist
          var
           X
         =
         explist
          exp
           string
            "hi"
       end
     stat
      local
      attnamelist
       st
       attrib
       ,
       msg
       attrib
      =
      explist
       exp
        prefixexp
         functioncall
          pcall
          args
           (
           explist
            exp
             prefixexp
              foo
           )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           not
           exp
            prefixexp
             st
          and
          exp
           prefixexp
            functioncall
             string
             .
             find
             args
              (
              explist
               exp
                prefixexp
                 msg
               ,
               exp
                string
                 "number"
              )
        )
    end
   stat
    local
    attnamelist
     maxint
     attrib
    =
    explist
     exp
      prefixexp
       math
       .
       maxinteger
   stat
    while
    exp
     exp
      exp
       prefixexp
        maxint
      ~=
      exp
       prefixexp
        (
        exp
         exp
          prefixexp
           maxint
         +
         exp
          number
           0.0
        )
     or
     exp
      exp
       prefixexp
        (
        exp
         exp
          prefixexp
           maxint
         -
         exp
          number
           1
        )
      ~=
      exp
       prefixexp
        (
        exp
         exp
          prefixexp
           maxint
         -
         exp
          number
           1.0
        )
    do
    block
     stat
      varlist
       var
        maxint
      =
      explist
       exp
        exp
         prefixexp
          maxint
        //
        exp
         number
          2
    end
   stat
    local
    attnamelist
     maxintF
     attrib
    =
    explist
     exp
      exp
       prefixexp
        maxint
      +
      exp
       number
        0.0
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           prefixexp
            maxintF
          ==
          exp
           prefixexp
            maxint
         and
         exp
          exp
           prefixexp
            functioncall
             math
             .
             type
             args
              (
              explist
               exp
                prefixexp
                 maxintF
              )
          ==
          exp
           string
            "float"
        and
        exp
         exp
          prefixexp
           maxintF
         >=
         exp
          exp
           number
            2.0
          ^
          exp
           number
            14
      )
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       prefixexp
        maxintF
      ]
    =
    explist
     exp
      number
       10
   stat
    ;
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       exp
        prefixexp
         maxintF
       -
       exp
        number
         1.0
      ]
    =
    explist
     exp
      number
       11
   stat
    ;
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       -
       exp
        prefixexp
         maxintF
      ]
    =
    explist
     exp
      number
       12
   stat
    ;
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       exp
        -
        exp
         prefixexp
          maxintF
       +
       exp
        number
         1.0
      ]
    =
    explist
     exp
      number
       13
   stat
    ;
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            prefixexp
             a
             [
             exp
              prefixexp
               maxint
             ]
           ==
           exp
            number
             10
          and
          exp
           exp
            prefixexp
             a
             [
             exp
              exp
               prefixexp
                maxint
              -
              exp
               number
                1
             ]
           ==
           exp
            number
             11
         and
         exp
          exp
           prefixexp
            a
            [
            exp
             -
             exp
              prefixexp
               maxint
            ]
          ==
          exp
           number
            12
        and
        exp
         exp
          prefixexp
           a
           [
           exp
            exp
             -
             exp
              prefixexp
               maxint
            +
            exp
             number
              1
           ]
         ==
         exp
          number
           13
      )
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       prefixexp
        maxint
      ]
    =
    explist
     exp
      number
       20
   stat
    varlist
     var
      prefixexp
       a
      [
      exp
       -
       exp
        prefixexp
         maxint
      ]
    =
    explist
     exp
      number
       22
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          exp
           exp
            prefixexp
             a
             [
             exp
              prefixexp
               maxintF
             ]
           ==
           exp
            number
             20
          and
          exp
           exp
            prefixexp
             a
             [
             exp
              exp
               prefixexp
                maxintF
              -
              exp
               number
                1.0
             ]
           ==
           exp
            number
             11
         and
         exp
          exp
           prefixexp
            a
            [
            exp
             -
             exp
              prefixexp
               maxintF
            ]
          ==
          exp
           number
            22
        and
        exp
         exp
          prefixexp
           a
           [
           exp
            exp
             -
             exp
              prefixexp
               maxintF
            +
            exp
             number
              1.0
           ]
         ==
         exp
          number
           13
      )
   stat
    varlist
     var
      a
    =
    explist
     exp
      nil
   stat
    do
    block
     stat
      local
      attnamelist
       a
       attrib
       ,
       i
       attrib
       ,
       j
       attrib
       ,
       b
       attrib
     stat
      varlist
       var
        a
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           exp
            string
             'a'
          fieldsep
           ,
          field
           exp
            string
             'b'
         }
     stat
      ;
     stat
      varlist
       var
        i
      =
      explist
       exp
        number
         1
     stat
      ;
     stat
      varlist
       var
        j
      =
      explist
       exp
        number
         2
     stat
      ;
     stat
      varlist
       var
        b
      =
      explist
       exp
        prefixexp
         a
     stat
      varlist
       var
        i
       ,
       var
        prefixexp
         a
        [
        exp
         prefixexp
          i
        ]
       ,
       var
        a
       ,
       var
        j
       ,
       var
        prefixexp
         a
        [
        exp
         prefixexp
          j
        ]
       ,
       var
        prefixexp
         a
        [
        exp
         exp
          prefixexp
           i
         +
         exp
          prefixexp
           j
        ]
      =
      explist
       exp
        prefixexp
         j
       ,
       exp
        prefixexp
         i
       ,
       exp
        prefixexp
         i
       ,
       exp
        prefixexp
         b
       ,
       exp
        prefixexp
         j
       ,
       exp
        prefixexp
         i
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            exp
             exp
              exp
               exp
                prefixexp
                 i
               ==
               exp
                number
                 2
              and
              exp
               exp
                prefixexp
                 b
                 [
                 exp
                  number
                   1
                 ]
               ==
               exp
                number
                 1
             and
             exp
              exp
               prefixexp
                a
              ==
              exp
               number
                1
            and
            exp
             exp
              prefixexp
               j
             ==
             exp
              prefixexp
               b
           and
           exp
            exp
             prefixexp
              b
              [
              exp
               number
                2
              ]
            ==
            exp
             number
              2
          and
          exp
           exp
            prefixexp
             b
             [
             exp
              number
               3
             ]
           ==
           exp
            number
             1
        )
     stat
      varlist
       var
        a
      =
      explist
       exp
        tableconstructor
         {
         }
     stat
      local
      function
      foo
      funcbody
       (
       parlist
       )
       block
        stat
         varlist
          var
           b
          ,
          var
           prefixexp
            a
           .
           x
          ,
          var
           a
         =
         explist
          exp
           prefixexp
            a
          ,
          exp
           number
            10
          ,
          exp
           number
            20
       end
     stat
      functioncall
       foo
       args
        (
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            prefixexp
             a
           ==
           exp
            number
             20
          and
          exp
           exp
            prefixexp
             b
             .
             x
           ==
           exp
            number
             10
        )
    end
   stat
    do
    block
     stat
      local
      attnamelist
       a
       attrib
       ,
       i
       attrib
       ,
       j
       attrib
       ,
       b
       attrib
     stat
      varlist
       var
        a
      =
      explist
       exp
        tableconstructor
         {
         fieldlist
          field
           exp
            string
             'a'
          fieldsep
           ,
          field
           exp
            string
             'b'
         }
     stat
      ;
     stat
      varlist
       var
        i
      =
      explist
       exp
        number
         1
     stat
      ;
     stat
      varlist
       var
        j
      =
      explist
       exp
        number
         2
     stat
      ;
     stat
      varlist
       var
        b
      =
      explist
       exp
        prefixexp
         a
     stat
      local
      function
      foo
      funcbody
       (
       parlist
       )
       block
        stat
         varlist
          var
           i
          ,
          var
           prefixexp
            a
           [
           exp
            prefixexp
             i
           ]
          ,
          var
           a
          ,
          var
           j
          ,
          var
           prefixexp
            a
           [
           exp
            prefixexp
             j
           ]
          ,
          var
           prefixexp
            a
           [
           exp
            exp
             prefixexp
              i
            +
            exp
             prefixexp
              j
           ]
         =
         explist
          exp
           prefixexp
            j
          ,
          exp
           prefixexp
            i
          ,
          exp
           prefixexp
            i
          ,
          exp
           prefixexp
            b
          ,
          exp
           prefixexp
            j
          ,
          exp
           prefixexp
            i
       end
     stat
      functioncall
       foo
       args
        (
        )
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           exp
            exp
             exp
              exp
               exp
                prefixexp
                 i
               ==
               exp
                number
                 2
              and
              exp
               exp
                prefixexp
                 b
                 [
                 exp
                  number
                   1
                 ]
               ==
               exp
                number
                 1
             and
             exp
              exp
               prefixexp
                a
              ==
              exp
               number
                1
            and
            exp
             exp
              prefixexp
               j
             ==
             exp
              prefixexp
               b
           and
           exp
            exp
             prefixexp
              b
              [
              exp
               number
                2
              ]
            ==
            exp
             number
              2
          and
          exp
           exp
            prefixexp
             b
             [
             exp
              number
               3
             ]
           ==
           exp
            number
             1
        )
     stat
      local
      attnamelist
       t
       attrib
      =
      explist
       exp
        tableconstructor
         {
         }
     stat
      functioncall
       (
       exp
        functiondef
         function
         funcbody
          (
          parlist
           namelist
            a
          )
          block
           stat
            varlist
             var
              prefixexp
               t
              [
              exp
               prefixexp
                a
              ]
             ,
             var
              a
            =
            explist
             exp
              number
               10
             ,
             exp
              number
               20
          end
       )
       args
        (
        explist
         exp
          number
           1
        )
     stat
      ;
     stat
      functioncall
       assert
       args
        (
        explist
         exp
          exp
           prefixexp
            t
            [
            exp
             number
              1
            ]
          ==
          exp
           number
            10
        )
    end
   stat
    local
    function
    foo
    funcbody
     (
     parlist
     )
     block
      stat
       local
       attnamelist
        a
        attrib
      retstat
       return
       explist
        exp
         functiondef
          function
          funcbody
           (
           parlist
           )
           block
            stat
             local
             attnamelist
              b
              attrib
            stat
             varlist
              var
               a
              ,
              var
               b
             =
             explist
              exp
               number
                3
              ,
              exp
               number
                14
            retstat
             return
             explist
              exp
               prefixexp
                a
              ,
              exp
               prefixexp
                b
           end
     end
   stat
    local
    attnamelist
     a
     attrib
     ,
     b
     attrib
    =
    explist
     exp
      prefixexp
       functioncall
        functioncall
         foo
         args
          (
          )
        args
         (
         )
   stat
    functioncall
     assert
     args
      (
      explist
       exp
        exp
         exp
          prefixexp
           a
         ==
         exp
          number
           3
        and
        exp
         exp
          prefixexp
           b
         ==
         exp
          number
           14
      )
   stat
    functioncall
     print
     args
      (
      explist
       exp
        string
         'OK'
      )
   retstat
    return
    explist
     exp
      prefixexp
       res
 <EOF>
